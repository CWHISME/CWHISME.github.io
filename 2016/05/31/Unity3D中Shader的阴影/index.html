<!DOCTYPE html><meta name="viewport" content="height=device-height,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0"><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="cwhisme"><meta name="author" content="CWHISME"><meta property="og:title" content="Unity3D中Shader的阴影"><meta property="og:description" content="cwhisme"><meta property="og:site_name" content="WangJiaYing"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><title>Unity3D中Shader的阴影 - WangJiaYing</title><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/DateTimeAfeterCalc.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/particles-bg.js"></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/script.js"></script><link href="https://fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/css/style.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/tachyons@4.12.0/css/tachyons.min.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="WangJiaYing" type="application/atom+xml">
</head><body><canvas id="hackEffectCanvas" style="position:fixed;z-index:-1;pointer-events:none"></canvas><canvas class="fireworks" style="position:fixed;z-index:10;pointer-events:none"></canvas><div class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db dt-l w-100 mw8 center border-box pv3"><a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="WangJiaYing"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/logo.svg" class="dib h3" alt="WangJiaYing"></a><div class="db dtc-l v-mid w-100 w-75-l tc tr-l"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/" title="Home">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/archives" title="Archives">Archives </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/tags" title="Tags">Tags </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/categories" title="Categories">Categories </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/bookmark" title="Bookmark">Bookmark </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/about" title="About">About</a></div></nav><div class="w-100 mw8 center vh-40 dt"><div class="dtc v-mid white"><h1 class="f1-l f2-m tc tc-m tl-ns">Unity3D中Shader的阴影</h1><p class="f4 fw3 pab-100px tc tc-m tl-ns"><i class="fa fa-calendar-check-o" aria-hidden="true"></i> 2016-05-31&nbsp&nbsp <i class="fa fa-clock-o" aria-hidden="true"></i> <span id="dateTimeAfter">2016-05-31</span></p></div></div><div class="relative w-100 mw8 center white dn dn-m db-ns"><i class="header-icon fa fa-snowflake-o"></i></div></div><div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content"><div class="tags-container-vertical"><div class="tags-sub-container"><a class="fw3 ph1 dib" href="/tags/Shader/">#Shader</a></div></div><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>在Unity中，我喜欢使用Unlit Shader(Unity这样叫了，我也这样称呼吧)。</p><p>不同于被Unity封装了大量东西的Surface Shader，Unlit Shader中，写什么就是什么。因此相比前者，它的性能自然会高不少。再继续谈论这个话题之前，我们可以做一个小小的“测验”，以明白下Surface Shader与之相比，究竟被封装了多少东西。</p><p>测验非常简单，在项目中随便找个文件夹，同时新建两个Shader，一个Surface Shader，一个Unlit Shader。然后单击Shader文件，在一边的Inspector面板中，这两个文件得属性中，应当都具有“Compile and ashow cod”这个按钮，分别进行点击。然后Unity就会这两个Shader编译，然后显示在编辑器中。</p><p>这时就可以非常明显地看出差别：<br>(基于Unity5.2.2 f1版本)<br>*Unlit Shader：5.6KB 共161行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// Compiled shader for PC, Mac &amp; Linux Standalone, uncompressed size: 5.6KB</span><br></pre></td></tr></table></figure><p>*Surface Shader: 259.2KB 共6522行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// Compiled shader for PC, Mac &amp; Linux Standalone, uncompressed size: 259.2KB</span><br></pre></td></tr></table></figure><p>Unlit Shader编译出来还及不上Surface Shader的零头….要知道，这些代码是针对每个顶点、像素运行的，自然是越精简越好，如果能用更少的代码实现同样的功能，性能及各方面都会更加优秀。另外还有一点就是，Surface Shader对于自定义效果来说，也没有Unlit Shader那样自由。</p><p>或许大家还发现Surface Shader属性面板中，还有一个“Show generated code”的按钮。点这个按钮的话，可以得到一份经过Unity链接、拼合之后的Shader，这个Shader的格式基本上就与Unlit Shader差不多了，不过其中包括了相当多的宏定义及判断。虽然注释也有一些，不过同样达到了近八百行！而点开我们新建的Unlit Shader呢？不过区区几十行代码。因为Surface Shader就是为了兼容性而生的，难免对性能上产生一些牺牲。可是如果我们知道自己需要的功能及面对的问题，那么最好的方式就是自己按照需求“添加”才是。</p><p>简单来说，Unity中Unlit Shader才是“正统”的Shader(还包括新建那儿的Image Effect Shader，只是Unity中这样叫了，所以我也这样叫了)，格式与传统Shader Vertex-&gt;Fragment流程一致。所以，一般我就喜欢用“Unlit Shader”，虽然Unity叫它“无光照Shader”，不过要实现光照之类的，也是相当简单的。</p><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><h4 id="场景配置"><a href="#场景配置" class="headerlink" title="场景配置"></a>场景配置</h4><p>Unlit Shader精简、自定义功能更强，一般来说性能也更优。不过同样也因此，如果使用Unlit Shader，默认情况下是不带阴影、光照的。倘若只是需要无光照——即如其所名的其它功能的话，那倒无妨。不过若是需要阴影之类的东西，那就得自己加了。</p><p>我这儿针对的是Forward渲染路径，不过测试也是可以在Deffered渲染路径下正常工作的。</p><p>将新建的Unlit Shader稍微改个名字，比如我这儿就叫“Shadow”了，然后新建一个材质，将其赋给它。回到场景，新建一个Plane，在上边放置两个球体：一个放置在上方一点，使用Unity默认的材质，另一个放置在平面上，把刚才的“Shadow”材质赋给它。保证使用Unity默认材质的球体投出的阴影可以覆盖在使用Shadow材质的球体上——当然现在对于Shadow球体是没什么影响的，我们需要完善的就是这点。</p><p>如图：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2016.5.31-1_Shadow.JPG" alt="场景配置"></p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><p>好了，场景配置很简单。接着回到代码，打开Shader。首先可以将Unity自动生成的贴图、UV、雾化之类的代码都删掉——毕竟我们的重点不是这个。<br>删掉多余代码之后如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">//Author:CWHISME</span><br><span class="line">//Date:2016.5.31</span><br><span class="line">//Decription:</span><br><span class="line">Shader &quot;CWH/Shadow&quot;</span><br><span class="line">&#123;</span><br><span class="line">	SubShader</span><br><span class="line">	&#123;</span><br><span class="line">		Tags &#123; &quot;RenderType&quot;=&quot;Opaque&quot; &#125;</span><br><span class="line">		LOD 100</span><br><span class="line"></span><br><span class="line">		Pass</span><br><span class="line">		&#123;</span><br><span class="line">			CGPROGRAM</span><br><span class="line">			#pragma vertex vert</span><br><span class="line">			#pragma fragment frag</span><br><span class="line"></span><br><span class="line">			struct appdata</span><br><span class="line">			&#123;</span><br><span class="line">				float4 vertex : POSITION;</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			struct v2f</span><br><span class="line">			&#123;</span><br><span class="line">				float4 vertex : SV_POSITION;</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			v2f vert (appdata v)</span><br><span class="line">			&#123;</span><br><span class="line">				v2f o;</span><br><span class="line">				o.vertex = mul(UNITY_MATRIX_MVP, v.vertex);</span><br><span class="line">				return o;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			fixed4 frag (v2f i) : SV_Target</span><br><span class="line">			&#123;</span><br><span class="line">				return float4(1,1,1,1);</span><br><span class="line">			&#125;</span><br><span class="line">			ENDCG</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>现在片段程序默认只是返回纯白色，所以在场景中依然只能看见一片白。所以在我们的Shader中，接下来就是稍微添加一点光照效果，不然也不好看啊。</p><p>首先将我们的Pass设置为ForwardBase：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tags&#123;&quot;LightMode&quot;=&quot;ForwardBase&quot;&#125;</span><br></pre></td></tr></table></figure><p>接着在appdata结构体中添加对normal变量的接收语义：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">float3 normal : NORMAL;</span><br></pre></td></tr></table></figure><p>以及传入片段程序的v2f结构体normal变量：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">float3 normal : NORMAL;</span><br></pre></td></tr></table></figure><p>然后在顶点片段中计算法线：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">o.N = mul(float4(v.normal,0),_World2Object);</span><br></pre></td></tr></table></figure><p>最后，在片段程序中计算漫反射：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;</span><br><span class="line">	float3	L = normalize(_WorldSpaceLightPos0);</span><br><span class="line">	float3 N = normalize(i.N);</span><br><span class="line">	return float4(1,1,1,1)*max(0,dot(L,N));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2016.5.31-2_Shadow.JPG" alt="光照效果"></p><p>如果对光照不是很明白的话，可以参考我上一篇Blog。</p><hr><p>现在对于我们的球体来说，基本光照效果有了，不过依然不能接收，也不能投射阴影。<br>如果在Unlit Shader中需要使用阴影的话，Unity提供了几个宏定义使用。基本上都包括在“AutoLight.cginc”头文件中。所以首先，我们必须包含这个头文件，并声明“multi_compile_fwdbase”(似乎是由于AutoLight中得一些计算用到了，所以如果不声明这个的话，那么阴影还是无法成功使用的)：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;AutoLight.cginc&quot;</span><br><span class="line">#pragma multi_compile_fwdbase</span><br></pre></td></tr></table></figure><p>然后在v2f结构体中添加宏：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIGHTING_COORDS(3,4)</span><br></pre></td></tr></table></figure><p>它的功能主要是声明了两个四维变量_LightCoord及_ShadowCoord，并将其存放在语义TEXCOORD3、TEXCOORD4当中。<br>然后是顶点程序中，添加宏：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TRANSFER_VERTEX_TO_FRAGMENT(o);</span><br></pre></td></tr></table></figure><p>其作用就是承接上边定义的两个语义，通过_LightMatrix0矩阵将顶点转至光照贴图空间，获得相应坐标(当然除平行光源外，对于平行光源，Unity就没用_LightCoord了)，以及获取Shadow实际贴图坐标放置于上边定义的_ShadowCoord中。</p><p>这时如果回到场景，就发现报错了？这是因为在AutoLight的阴影_ShadowCoord坐标计算中，使用到了UnityCG头文件中的一个函数“ComputeScreenPos”，刚才咱清理代码的时候，不小心也给清出去了….所以还是继续加上吧。</p><p>最后，来到片段程序中，使用光照衰减乘上之前计算出来的光照颜色，获取最终颜色：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return float4(1,1,1,1)*max(0,dot(L,N))*LIGHT_ATTENUATION(i);</span><br></pre></td></tr></table></figure><p>“LIGHT_ATTENUATION”使用以上获取的信息计算了最终衰减——实现阴影。</p><p>如果现在回到场景，依然不会有什么阴影，反而只能发现我们的球体“似乎”变得有些透明了？<br>当然只是错觉而已，因为还差了最后一步：在最后加上“FallBack “Diffuse””。</p><p>OK，现在算是完了。</p><p>回到场景，可以看见球体可以正常投影，也接受了来自上方球体的阴影。效果如下：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2016.5.31-3_Shadow.JPG" alt="最终效果"></p><p>就是这样。</p><p>有兴趣的也可以继续扒一扒AutoLight。</p><h4 id="完整源码"><a href="#完整源码" class="headerlink" title="完整源码"></a>完整源码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">//Author:CWHISME</span><br><span class="line">//Date:2016.5.31</span><br><span class="line">//Decription:</span><br><span class="line">Shader &quot;CWH/Shadow&quot;</span><br><span class="line">&#123;</span><br><span class="line">	SubShader</span><br><span class="line">	&#123;</span><br><span class="line">		Tags &#123; &quot;RenderType&quot;=&quot;Opaque&quot; &#125;</span><br><span class="line">		LOD 100</span><br><span class="line"></span><br><span class="line">		Pass</span><br><span class="line">		&#123;</span><br><span class="line">			Tags&#123;&quot;LightMode&quot;=&quot;ForwardBase&quot;&#125;</span><br><span class="line">			CGPROGRAM</span><br><span class="line">			#pragma vertex vert</span><br><span class="line">			#pragma fragment frag</span><br><span class="line"></span><br><span class="line">			#include &quot;AutoLight.cginc&quot;</span><br><span class="line">			#include &quot;UnityCG.cginc&quot;</span><br><span class="line">			#pragma multi_compile_fwdbase</span><br><span class="line"></span><br><span class="line">			struct appdata</span><br><span class="line">			&#123;</span><br><span class="line">				float4 vertex : POSITION;</span><br><span class="line">				float3 normal : NORMAL;</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			struct v2f</span><br><span class="line">			&#123;</span><br><span class="line">				float4 pos : SV_POSITION;</span><br><span class="line">				float3 N : TEXCOORD1;</span><br><span class="line">				LIGHTING_COORDS(3,4)</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			v2f vert (appdata v)</span><br><span class="line">			&#123;</span><br><span class="line">				v2f o;</span><br><span class="line">				o.pos = mul(UNITY_MATRIX_MVP, v.vertex);</span><br><span class="line">				o.N = mul(float4(v.normal,0),_World2Object);</span><br><span class="line">				TRANSFER_VERTEX_TO_FRAGMENT(o);</span><br><span class="line">				return o;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			fixed4 frag (v2f i) : SV_Target</span><br><span class="line">			&#123;</span><br><span class="line">				float3	L = normalize(_WorldSpaceLightPos0);</span><br><span class="line">				float3 N = normalize(i.N);</span><br><span class="line">				return float4(1,1,1,1)*max(0,dot(L,N))*LIGHT_ATTENUATION(i);</span><br><span class="line">			&#125;</span><br><span class="line">			ENDCG</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	FallBack &quot;Diffuse&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>之前就已经决定每周至少要写一篇Blog了，结果上周因为各种琐事、以及回家后时间太少而缺掉了。只能说：时间不够用啊！这会儿虽然时间不早了，想想就算熬点夜，也得还是补上吧。</p><p>以上。</p><div class="tags-container-bottom"><i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/Shader/">#Shader</a></div><br><br><hr><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><div id="vcomments"></div><script>new Valine({el:"#vcomments",appId:"MsaVbSzIr9cIfikihDExdun9-gzGzoHsz",appKey:"Bj6SEFUBomrLOTWx9B8S6zQH",placeholder:"请输入评论内容~",avatar:"mp",visitor:!1})</script></div><div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50"><hr class="dn-l mw4 black-50 mt5"><div class="mt5 mt0-l site-author"><article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3"><div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width:6rem"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/photo.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="CWHISME"></div><div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">悲观主义的末日</div></article></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>分类</h3><p><a href="/categories/Unity3D/">Unity3D</a></p></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>近期文章</h3><p><a href="/2022/12/10/%E5%8D%8F%E5%8F%98%E5%92%8C%E9%80%86%E5%8F%98/">协变和逆变</a></p><p><a href="/2022/12/06/Unity%E7%9A%84%E9%98%B4%E5%BD%B1%E4%B8%8E%E5%85%89%E7%85%A7%E7%83%98%E7%84%99/">Unity 的阴影与光照烘焙</a></p><p><a href="/2022/11/23/%E6%89%93%E5%8C%85AssetBundle%E5%9F%BA%E7%A1%80%E8%A7%84%E5%88%99%E6%95%B4%E7%90%86/">打包 AssetBundle 的基础规则整理</a></p><p><a href="/2022/11/18/StringBuilder%E6%89%A9%E5%AE%B9%E8%A7%84%E5%88%99%E7%A0%94%E7%A9%B6/">StringBuilder 扩容规则研究</a></p><p><a href="/2022/11/17/%E6%B5%8B%E8%AF%95%E6%89%8B%E5%8A%A8%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">简单测试手动垃圾回收</a></p></div></div></div></div></div></div><div class="bg-1 ph2 ph5-ns pv5"><div class="mv8"><div class="center tc"><div class="dib mh3"><a class="f3 f2-ns white dim" href="https://github.com/CWHISME" target="_blank"><i class="fa fa-github"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="mailto:cwhisme@126.com" target="_blank"><i class="fa fa-envelope"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div></div><div class="f6 f5-ns center tc white pt5 fw3">Copyright © 2021 | Design & Hexo <a class="link dim white" target="_blank" rel="noopener" href="https://github.com/klugjo/hexo-theme-anodyne/">Jonathan Klughertz</a> | Modify By CWHISME</div></div></div></body></html>