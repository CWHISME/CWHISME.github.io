<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="CWHISME" href="https://wangjiaying.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="CWHISME" href="https://wangjiaying.top/atom.xml"><link rel="alternate" type="application/json" title="CWHISME" href="https://wangjiaying.top/feed.json"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Unity3D,性能优化"><link rel="canonical" href="https://wangjiaying.top/2022/11/08/%E9%9F%B3%E6%95%88%E8%B5%84%E6%BA%90%E8%AE%BE%E7%BD%AE%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93/"><title>音效资源设置测试与总结 - 性能优化 - Unity3D | Jiaying's Note = CWHISME = 人不能没有梦想，也要有足够的敬畏</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">音效资源设置测试与总结</h1><div class="meta"><span class="item" title="创建时间：2022-11-08 17:25:53"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-11-08T17:25:53+08:00">2022-11-08</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>8.4k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Jiaying's Note</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="/images/coverimages/large/99361483_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/62608184_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/6833939bly1gipevarprfj20zk0m8npd.webp"></li><li class="item" data-background-image="/images/coverimages/large/83708125_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/87125964_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/6833939bly1gipexe4oykj20zk0m87ji.webp"></li></ul></div><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div></header><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Unity3D/" itemprop="item" rel="index" title="分类于 Unity3D"><span itemprop="name">Unity3D</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Unity3D/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" itemprop="item" rel="index" title="分类于 性能优化"><span itemprop="name">性能优化</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://wangjiaying.top/2022/11/08/%E9%9F%B3%E6%95%88%E8%B5%84%E6%BA%90%E8%AE%BE%E7%BD%AE%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/../img/avator"><meta itemprop="name" content="WangJiaYing"><meta itemprop="description" content="人不能没有梦想，也要有足够的敬畏, 己所不欲，勿施于人"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="CWHISME"></span><div class="body md" itemprop="articleBody"><h2 id="0x01-前言"><a class="anchor" href="#0x01-前言">#</a> 0x01 前言</h2><p>之前虽然有用过，但是并没有对其做个人的整理与总结，只大概知道哪个选项会造成什么情况，此处进行一次详尽的实际测试并总结。</p><h2 id="0x02-工具"><a class="anchor" href="#0x02-工具">#</a> 0x02 工具</h2><ul><li>Unity2021.3.6f1</li><li>UnityProfiler</li><li>音效：<img data-src="/blogimages/2022/2022-11-08/m_2c999f422afd7de75758f0b6ae7a97c5_r.png" alt=""></li></ul><h2 id="0x03-设置选项"><a class="anchor" href="#0x03-设置选项">#</a> 0x03 设置选项</h2><h3 id="1-loadtype"><a class="anchor" href="#1-loadtype">#</a> 1. LoadType</h3><p>分为三个选项，这个选择比较重要：直接决定音效在内存中的大小。</p><h4 id="1-加载即解压decompress-on-load"><a class="anchor" href="#1-加载即解压decompress-on-load">#</a> 1). 加载即解压 (Decompress On Load)</h4><p>性能最好，不过会占用更多内存。</p><p>在内存中的大小至少是选择 PCM 压缩格式在 ImportedSize 的预览大小 —— 因为在选择 Vorbis 后，再选择解压到内存会多一些。</p><p>分别查看设置对应压缩格式后，Imported Size 以及利用 Profiler 查看运行时内存大小。<br>对比如下：</p><ul><li>PCM：<br>Imported Size：306KB<br>运行时内存：309.6KB (+3.6KB)</li><li>ADPCM：<br>Imported Size：86.2KB<br>运行时内存：310.1KB (+4KB)</li><li>Vorbis (1% 质量)：<br>Imported Size：13.9KB<br>运行时内存：343.2KB (+37.2KB)</li><li>Vorbis (70% 质量)：<br>Imported Size：16.6KB<br>运行时内存：345.7KB (+39.7KB)</li><li>Vorbis (100% 质量)：<br>Imported Size：22.9KB<br>运行时内存：348.1KB (+42KB)</li></ul><p>采样率设置为 <strong>22050Hz</strong>：</p><ul><li>PCM：<br>Imported Size：153.1KB<br>运行时内存：156.7KB (+3.6KB)</li><li>ADPCM：<br>Imported Size：43.1KB<br>运行时内存：157.1KB (+4KB)</li><li>Vorbis (1% 质量)：<br>Imported Size：7.6KB<br>运行时内存：192.9KB (+40KB)</li><li>Vorbis (70% 质量)：<br>Imported Size：9.5KB<br>运行时内存：192.9KB (+40KB)</li><li>Vorbis (100% 质量)：<br>Imported Size：12KB<br>运行时内存：192.9KB (+40KB)</li></ul><p>Decompress On Load 模式下，在内存中的音效大小与 PCM 的 ImportedSize 显示的大小差不多，其中 PCM 和 ADPCM 在这个基础上多了几 KB，可能是其它数据。</p><p>而当 Vorbis 压缩格式采用 Decompress On Load 则会导致更多的额外内存消耗，平均 40KB 左右。<br><s>且会随着质量设置越高而增加。</s>，见下方『注 1』，推测为音效源文件 44100Hz 有不一致的地方，手动设置为更低采样率后保存一致。</p><h4 id="2-压缩格式存放在内存compressed-in-memory"><a class="anchor" href="#2-压缩格式存放在内存compressed-in-memory">#</a> 2). 压缩格式存放在内存 (Compressed In Memory)</h4><p>播放时会额外消耗 CPU 解压，内存情况测试如下：</p><p>Original Size：<strong>32.8KB</strong></p><ul><li>PCM：<br>Imported Size：306KB<br>运行时内存：309.7KB (+3.7KB)</li><li>ADPCM：<br>Imported Size：86.2KB<br>运行时内存：90.7KB (+4.5KB)</li><li>Vorbis (1% 质量)：<br>Imported Size：13.9KB<br>运行时内存：39.1KB (+25.2KB)</li><li>Vorbis (70% 质量)：<br>Imported Size：16.6KB<br>运行时内存：44.1KB (+27.5KB)</li><li>Vorbis (100% 质量)：<br>Imported Size：22.9KB<br>运行时内存：52.9KB (+30KB)</li></ul><p>采样率设置为 <strong>22050Hz</strong>：</p><ul><li>PCM：<br>Imported Size：306KB<br>运行时内存：309.7KB (+3.7KB)</li><li>ADPCM：<br>Imported Size：86.2KB<br>运行时内存：90.7KB (+4.5KB)</li><li>Vorbis (1% 质量)：<br>Imported Size：7.6KB<br>运行时内存：35.3KB (+27.7KB)</li><li>Vorbis (70% 质量)：<br>Imported Size：9.5KB<br>运行时内存：37.3KB (+27.7KB)</li><li>Vorbis (100% 质量)：<br>Imported Size：12KB<br>运行时内存：39.8KB (+27.7KB)</li></ul><p>通过测试可以看出：</p><p>Compressed In Memory 模式下，PCM 和 ADPCM 下内存占用情况为预览面板的 ImportedSize + 几 KB，总体上差不多。</p><p>Vorbis 压缩模式会额外占用更多内存 (大概多了 30KB 左右)。<br><s>且会随着质量设置越高而增加。</s>，见下方『注 1』，推测为音效源文件 44100Hz 有不一致的地方，手动设置为更低采样率后保存一致。</p><h4 id="3-流式播放streaming"><a class="anchor" href="#3-流式播放streaming">#</a> 3). 流式播放 (Streaming)</h4><p>流式播放占用内存相对整个文件来说比较少 —— 前提是音效文件本身大于 200KB，根据官方文档介绍，就算小于 200KB 的音效，采用流式播放也会产生 200KB 左右的缓存消耗。</p><p>坏处是播放的时候对 IO、CPU 都会有额外开销。</p><p><img data-src="/blogimages/2022/2022-11-08/m_8a5a8185e25aa508822013b2229e98e0_r.png" alt=""></p><p>以上述两个音效文件为例，当设置一致 (SampleRateSetting 为 PreserveSampleRate [44100Hz])，并采用流式播放时结果如下：</p><ul><li>PCM：197.7KB</li><li>ADPCM：198KB</li><li>Vorbis (1% 质量)：231.3KB</li><li>Vorbis (70% 质量)：233.8KB</li><li>Vorbis (100% 质量)：236.2KB</li></ul><p>Vorbis 下会多 30KB 左右，且受质量设置影响 (比较小)</p><p>质量影响量太小了，尝试手动设置一下 Sample Rate 为 <strong>44100Hz</strong>：</p><ul><li>PCM：197.7KB</li><li>ADPCM：198KB</li><li>Vorbis (1% 质量)：231.3KB</li><li>Vorbis (70% 质量)：233.8KB</li><li>Vorbis (100% 质量)：236.2KB</li></ul><p>发现同一采样率下，缓存内存占用量没有变化，另外选择 <strong>Optimiz SampleRate</strong> 也是同样的内存占用结果。</p><p>依然以上述两个音效为例，将 Sample Rate 手动设置为 <strong>22050Hz</strong>：</p><ul><li>PCM：163.7KB</li><li>ADPCM：164KB</li><li>Vorbis (1% 质量)：199.9KB</li><li>Vorbis (70% 质量)：199.9KB</li><li>Vorbis (100% 质量)：199.9KB</li></ul><p>可以看到，Vorbis 下依然会多 30KB 左右，但是质量选择已经没有影响了。</p><p>接着缓存 <strong>8000Hz</strong> 的 Sample Rate：</p><ul><li>PCM：141.7KB</li><li>ADPCM：142KB</li><li>Vorbis (1% 质量)：167.9KB</li><li>Vorbis (70% 质量)：167.9KB</li><li>Vorbis (100% 质量)：167.9KB</li></ul><p>可以得出结论：Streaming 播放音效时，至少会产生 140KB (最低 8000Hz 采样率) 左右的内存缓存，Vorbis 压缩格式下会额外增加 30KB 左右的消耗。</p><p>采样率 (越低内存占用越低)、强制单声道也会统一影响到三种设置在流式的缓存占用)，</p><p><font color="red">注 1：上述 <strong>44100Hz</strong> 采样率时，Vorbis 压缩下内存占用会有微小差异，同样适用于 Decompress On Load、Compressed In Memory，推测是音效源文件的采样率部分不一致导致，因为手动设置为更低采样率后就保持一致了。</font></p><h3 id="2-compression-format压缩格式"><a class="anchor" href="#2-compression-format压缩格式">#</a> 2. Compression Format (压缩格式)</h3><ul><li>PCM：不压缩，效果最好文件最大，试过甚至比导入音效本身文件都还大<br><img data-src="/blogimages/2022/2022-11-08/m_53f9ea44065a5a44a00872836c0c4db6_r.png" alt=""></li><li>ADPCM：有一定压缩效果，压缩率视情况音效源文件而定，经过测试一般在 50%~80% 浮动，也可能比源文件大小更大。<br><img data-src="/blogimages/2022/2022-11-08/m_d5e6f3117362ddf0191c81fc14ff473d_r.png" alt=""></li><li>Vorbis/Mp3：压缩率最高的方式，唯一确定一定能压缩大小的选项，该选项还可以额外设置 Quality，值越小，压缩越厉害，大小也越小<br><img data-src="/blogimages/2022/2022-11-08/m_b9d67a27160a7a123e41e7187626c837_r.png" alt=""></li></ul><h3 id="3-force-to-mono"><a class="anchor" href="#3-force-to-mono">#</a> 3. Force To Mono</h3><p>强制单声道，例如下图：</p><p><img data-src="/blogimages/2022/2022-11-08/m_6b48857f690b8f651eb8298e484f2393_r.png" alt=""></p><p>这个音效就包含了 ch1、ch2 两个声道，若勾选该项，两个声道将会合并为一个，并减少一部分大小。</p><p><img data-src="/blogimages/2022/2022-11-08/m_e5634eac0a5337c2917083632be16d38_r.png" alt=""></p><p>测试结果：</p><p><strong>文件 1：</strong></p><ul><li>PCM：153.1KB-&gt;76.6KB(50%)</li><li>ADPCM：43.1KB-&gt;21.6KB(50%)</li><li>Vorbis(1%)：7.6KB-&gt;6.4KB(15%)</li><li>Vorbis(100%)：12KB-&gt;9.8KB(18%)</li></ul><p><strong>文件 2：</strong></p><ul><li>PCM：9.6MB-&gt;4.8MB(50%)</li><li>ADPCM：2.7MB-&gt;1.4MB(50%)</li><li>Vorbis(1%)：0.6MB-&gt;426.3KB(30%)</li><li>Vorbis(100%)：2.8MB-&gt;0.6MB(80%)</li></ul><p>通过对两个音效文件：一个大文件及一个小文件对比，可以得出结论：</p><p>强制单声道选项中，PCM 和 ADPCM 的格式可以减少 50% 大小，Vorbis 视压缩质量及音效本身大小而定 —— 这个应该跟音效本身两个通道数据量有关，文件 2 实测双通道声音会有更大的差异。</p><p>注：单声道并不是说只有一个喇叭会播放声音，而是两个喇叭播放同样的声音。</p><h3 id="4-sample-rate"><a class="anchor" href="#4-sample-rate">#</a> 4. Sample Rate</h3><p>采样率，在不影响效果的情况，还可以考虑设置统一的更低的采样率，也会影响大小。</p><p>对于影响效果，测试结果如下：</p><ul><li>PCM(44100Hz)：306KB-&gt;153.1KB(22050Hz)-&gt;76.6KB(11025Hz)-&gt;55.6KB(8000Hz)</li><li>ADPCM(44100Hz)：86.2KB-&gt;43.1KB(22050Hz)-&gt;21.6KB(11025Hz)-&gt;15.7KB(8000Hz)</li><li>Vorbis(1%)(44100Hz)：13.9KB-&gt;7.6KB(22050Hz)-&gt;8.7KB(11025Hz)-&gt;6.1KB(8000Hz)</li><li>Vorbis(100%)(44100Hz)：22.9KB-&gt;12KB(22050Hz)-&gt;11.8KB(11025Hz)-&gt;8.8KB(8000Hz)</li></ul><p>从上述测试结果可以看出，采样率对内存占用影响成比例关系：减少多少采样率，相对就减少多少空间。</p><p>我们游戏音效导入默认是 44100Hz ，就是统一将其设置为 22050Hz，相比初始默认的 44100Hz，减少一半占用，Vorbis 压缩有部分浮动，不过也大体符合规则。</p><h3 id="5-preload-audio-data"><a class="anchor" href="#5-preload-audio-data">#</a> 5. Preload Audio Data</h3><p>根据说明，是会在场景加载时预先加载，默认开启的，适用于那种直接拖到 GameObject 上的音效，过多估计会影响场景加载速度。</p><p>一般最好关了，因为我们都是代码动态加载播放，场景不会直接挂。所以这个选项实际上没用。</p><h3 id="6-load-in-background"><a class="anchor" href="#6-load-in-background">#</a> 6. Load In Background</h3><p>在单独线程延迟加载，不卡主线程，但是这个选项或许会造成音画不同步。</p><h2 id="0x04-总体资源消耗测试"><a class="anchor" href="#0x04-总体资源消耗测试">#</a> 0x04 总体资源消耗测试</h2><p>上面在单项设置中，分别对比过各自会在内存中的占用量，此处将对 内存、CPU 消耗作一个总体对比。</p><p>对于如何测试 CPU 性能的消耗，由于单个音效的播放时很不明显，因此我在测试时采用 20 份播放同一个音效的 AudioSource，并对比总消耗、使用 Profiler 检查每个设置对 CPU 消耗造成的影响，取平均出现最多的值。</p><p>同时为了减少内存误差，测试文件更换了一个更大的音效，OriginalSize 为 2.8MB。</p><p>其默认测试设置如下：<br><img data-src="/blogimages/2022/2022-11-08/m_8ffecf7064f644e1473a9626eb88d393_r.png" alt=""></p><h4 id="1-压缩格式vorbis1质量"><a class="anchor" href="#1-压缩格式vorbis1质量">#</a> 1) 压缩格式：Vorbis (1% 质量)</h4><p><img data-src="/blogimages/2022/2022-11-08/m_e427525c6a80e39dc0ecddc990751942_r.png" alt=""></p><p>从左自右 LoadType 分别为： Decompress On Load、Compress In Memery、Streaming</p><p>CPU 消耗：1%-&gt;2.5%-&gt;2.8%<br>内存消耗：7.3MB-&gt;2.8MB-&gt;5.9MB</p><h4 id="2-压缩格式vorbis100质量"><a class="anchor" href="#2-压缩格式vorbis100质量">#</a> 2) 压缩格式：Vorbis (100% 质量)</h4><p><img data-src="/blogimages/2022/2022-11-08/m_fcd8822723b729b78904dfc82246b15c_r.png" alt=""></p><p>从左自右 LoadType 分别为： Decompress On Load、Compress In Memery、Streaming</p><p>CPU 消耗：1%-&gt;4.9%-&gt;5%<br>内存消耗：7.3MB-&gt;3.7MB-&gt;5.9MB</p><h4 id="3-压缩格式adpcm"><a class="anchor" href="#3-压缩格式adpcm">#</a> 3) 压缩格式：ADPCM</h4><p><img data-src="/blogimages/2022/2022-11-08/m_2c08a89d388540ae8df5de75acd03a33_r.png" alt=""></p><p>从左自右 LoadType 分别为： Decompress On Load、Compress In Memery、Streaming</p><p>CPU 消耗：1%-&gt;1.8%-&gt;2.1%<br>内存消耗：7.2MB-&gt;3.8MB-&gt;5.6MB</p><h4 id="4-压缩格式pcm"><a class="anchor" href="#4-压缩格式pcm">#</a> 4) 压缩格式：PCM</h4><p><img data-src="/blogimages/2022/2022-11-08/m_531b2b0591cf77c7e75377e99be059ec_r.png" alt=""></p><p>从左自右 LoadType 分别为： Decompress On Load、Compress In Memery、Streaming</p><p>CPU 消耗：1%-&gt;1.1%-&gt;1.4%<br>内存消耗：7.2MB-&gt;7.2MB-&gt;5.6MB</p><h4 id="5-总结"><a class="anchor" href="#5-总结">#</a> 5) 总结</h4><p>上述测试结果中，感觉其中 Streaming Vorbis 内存占用与预计的有点不符，于是使用单 AudioSource 额外进行测试：</p><p><img data-src="/blogimages/2022/2022-11-08/m_8ea6c5c446af60829b7e9b32c492c26b_r.png" alt=""></p><p>Streaming 播放模式，从左自右分别为：Vorbis (100% 质量)-&gt;Vorbis (1% 质量)-&gt;ADPCM-&gt;PCM</p><p>CPU 消耗：0.5%-&gt;0.5%-&gt;0.4%-&gt;0.3%<br>内存消耗：2.6MB-&gt;2.6MB-&gt;2.5MB-&gt;2.5MB</p><p>Vorbis 压缩格式，在 Streaming 下 Taotal Audio Memery 消耗多了 100KB 的样子，而在上面使用 Take Sample 单个查看时只额外多了 30KB 内存占用。</p><p>这里只能推测两个原因：</p><ul><li>要么 Taotal Audio Memery 还计算了其它数据</li><li>要么由于统计没有显示具体 KB 消耗值导致的误认 (例如 PCM 原本为 2.57MB 一类，加上 30KB 左右就到 2.6MB 了)。</li></ul><p>另外需要注意的是，Streaming 播放模式下，会随着通同一个文件的反复加载，而叠加文件流及解码内存消耗 —— 例如上述单个播放为 124KB-&gt;20 个 = 124KBx20=2.4MB</p><h5 id="总体内存消耗"><a class="anchor" href="#总体内存消耗">#</a> 总体内存消耗：</h5><p>Decompress On Load：Vorbis 额外 30KB 左右内存消耗，总体差不多<br>Compress In Memery：PCM-&gt;ADPCM-&gt;Vorbis (100% 质量)-&gt;Vorbis (1% 质量)<br>Streaming：Vorbis 额外几十 KB 内存消耗，总体差不多</p><h5 id="总体cpu消耗"><a class="anchor" href="#总体cpu消耗">#</a> 总体 CPU 消耗：</h5><p>Decompress On Load：CPU 消耗基本一致<br>Compress In Memery：Vorbis (100% 质量)-&gt;Vorbis (1% 质量)-&gt;ADPCM-&gt;PCM<br>Streaming：Vorbis (100% 质量)-&gt;Vorbis (1% 质量)-&gt;ADPCM-&gt;PCM</p><h4 id="疑问"><a class="anchor" href="#疑问">#</a> 疑问</h4><blockquote><p>对于总体内存消耗，或许会有疑问（比如说我自己）：在测试单个音效播放时，Profiler Audio 面板中的 Total Audio Memery 的内存数值，比 Profiler Memery 面板中 Take Sample 获取到的单个音效内存占用更大，这个是每个音效实际都比 TakeSample 大些，还是说仅仅因为 Total Audio Memery 计算了其它额外内存？</p></blockquote><p>于是进行测试，首先是空场景 Audio 信息统计：<br><img data-src="/blogimages/2022/2022-11-08/m_c1482d2c86711e3b82d23fed6e922ae3_r.png" alt=""></p><p>接着使用三个不同大小的音效，使用 PCM (Decompress On Load) 格式进行播放，查看 Total Audio Memery 数值：<br><img data-src="/blogimages/2022/2022-11-08/m_62f502a630dccf7903d280cd34439677_r.png" alt=""></p><p>可以发现 Total Audio Memery 数值是根据 PCM Imported Size 大小增加的，Sample Sound Memery (Decompress On Load 解压内存占用量) 亦是按照实际大小跟随递增。</p><h5 id="补充-pcmcompressed-in-memory-模式"><a class="anchor" href="#补充-pcmcompressed-in-memory-模式">#</a> 补充 PCM (Compressed In Memory) 模式：</h5><p><img data-src="/blogimages/2022/2022-11-08/m_93c42e0ec47651dd4433f781999ed190_r.png" alt=""><br>DSP CPU：项目在加载类型为 Compressed In Memory 的非流式声音的混音、音频效果和解压缩中使用的 CPU 量。<br>Sample Sound Memory：加载类型为 Decompress On Load 的音频文件用于所有已解压缩样本数据的内存量。</p><p>也就是可以得出结论：</p><ul><li>Total Audio Memery 是所有内存总量，确实是计算了额外消耗内存的。</li><li>Profiler Memery 面板中 Take Sample 获取到的单个音效内存就是实际占用量，与总消耗内存可以表现出一种递增的对应关系。</li><li>PCM 虽然是无压缩格式，但若是选择 Compressed In Memory ，虽然单个音效内存跟选择与否没有变化，但对总体内存也会有一定影响 (测试表现是增加了一点)。</li></ul><h2 id="0x05-压缩格式对最终-assetbunle-资源影响"><a class="anchor" href="#0x05-压缩格式对最终-assetbunle-资源影响">#</a> 0x05 压缩格式对最终 AssetBunle 资源影响</h2><h4 id="1-默认设置-samplerate-22050hz-pcm-格式"><a class="anchor" href="#1-默认设置-samplerate-22050hz-pcm-格式">#</a> 1) 默认设置、SampleRate 22050Hz、PCM 格式：</h4><p><img data-src="/blogimages/2022/2022-11-08/m_0d325cddd386fb945373c5d125e95248_r.png" alt=""><br><img data-src="/blogimages/2022/2022-11-08/m_0d75a39f780213b3007ecbd23f996ac8_r.png" alt=""></p><h4 id="2-默认设置-samplerate-22050hz-adpcm-格式"><a class="anchor" href="#2-默认设置-samplerate-22050hz-adpcm-格式">#</a> 2) 默认设置、SampleRate 22050Hz、ADPCM 格式：</h4><p><img data-src="/blogimages/2022/2022-11-08/m_de861340a651647f686105eb35f7fb16_r.png" alt=""><br><img data-src="/blogimages/2022/2022-11-08/m_16d83cb95231207d45e0362af6914021_r.png" alt=""></p><h4 id="3-默认设置-samplerate-22050hz-vorbis-压缩质量-70"><a class="anchor" href="#3-默认设置-samplerate-22050hz-vorbis-压缩质量-70">#</a> 3) 默认设置、SampleRate 22050Hz、Vorbis 压缩，质量 70%：</h4><p><img data-src="/blogimages/2022/2022-11-08/m_7eea0eda7f26befe6ca6567c999d3493_r.png" alt=""><br><img data-src="/blogimages/2022/2022-11-08/m_a22fc28a39eb76fc140d69a392fd0928_r.png" alt=""></p><p>可以看出，跟图片压缩一样，压缩格式对最终出包的 AssetBunle 资源大小也会有影响，除压缩方式选择外，Vorbis 压缩质量数值也会影响。</p><p>最终 AssetBundle 包大小基本与音效面板上的 ImportedSize 差不多 (+ 部分 AssetBundle 额外数据)。</p><h2 id="0x06-总结"><a class="anchor" href="#0x06-总结">#</a> 0x06 总结</h2><p>测试结果有些与之前预想的一致，也有部分预想被『推翻』。</p><p>在<font color="blue">内存占用量</font>上，对于 Decompress On Load、Compressed In Memory、Streaming 三种 LoadType 方式：</p><ul><li>Decompress On Load 是以 <font color="red">PCM 格式下 ImportedSize 大小</font>为基准，PCM、ADPCM 格式下在内存解压后占用量基本一致，Vorbis 多占用 40KB 左右</li><li>Compressed In Memory：压缩模式存放内存，Vorbis 压缩会比 <font color="red">自身 ImportedSize</font> 大 30KB 左右</li><li>Streaming 以 200KB 缓存为基准，Vorbis 压缩后加载相比另外两种会额外占用 30KB 左右的内存。<br><font color="red">注 1：关于内存占用比较基准，需要注意的是比较基准对象是不同的，这篇文章写完了，我脑袋就混乱了几天才反应过来</font><br><font color="red">注 2：大的音效也满足该标准，上述 OriginalSize 为 2.8MB、32.8KB 的音效 Profiler 表现基本一致</font></li></ul><p>在 <font color="blue">CPU 资源消耗</font>上，对于 Decompress On Load、Compressed In Memory、Streaming 三种 LoadType 方式：</p><ul><li>Decompress On Load：CPU 消耗差不多</li><li>Compressed In Memory：压缩存放内存时，以 PCM-&gt;ADPCM-&gt;Vorbis (质量越高消耗越多)</li><li>Streaming：流式播放时，以 PCM-&gt;ADPCM-&gt;Vorbis (质量越高消耗越多)</li></ul><p>在<font color="blue">音效质量</font>上：</p><ul><li>主要受压缩格式影响。PCM 不压缩效果最好，ADPCM 其次，Vorbis 最后。</li><li>对此可以在预览面板看出，更换压缩格式后，振幅会有轻微变动 —— 不过从实际听起来的效果看，PCM、ADPCM 和 Vorbis 高质量压缩下的效果差不多，至少个人没听出太大差别。</li><li>经过测试，如果源音效质量就不大行，PCM 和 Vorbis 效果是一样，修改该项音效振幅不会发生任何改动 —— 甚至 Vorbis 1%~100% 质量都没有差别，比如测试所用的 『lvbu』 音效。</li></ul><p>另外 Force To Mono、Sample Rate 统一影响上述表现 (CPU、内存消耗、表现质量)</p><p>经过上面的测试，可以发现音效设置主要是质量换效率、或者空间换时间、或者时间换空间，总有一定取舍。</p><p>因此最后再说一下个人总结：</p><ul><li>可以使用 PCM 模式下的 Imported Size 预估实际解压消耗内存量</li><li>没有绝对的最好设置，这个设置可能需要平衡 包体、内存、CPU 消耗得出结论，前期可以选择一个合适的格式统一设置，后续完整了再进行具体优化</li><li>以 PCM ImportedSize 为基准，一两百 KB、比较频繁使用的小音效，例如按钮声音、战斗中的技能音效，可以考虑使用 ADPCM 压缩格式<br>普通小音效选择 Compress In Memery、非常频繁的音效选择 Decompress On Load</li><li>大一点或者比较少用的音效，不至于常影响到 CPU，采用 Vorbis 压缩，LoadType 采用 Compress In Memery。</li><li>采用 Vorbis 压缩可以调节质量滑块减少内存及 CPU 消耗 (当然这样音效质量也会受到影响)</li><li>音效内存消耗至少超过 250KB 再考虑是否要使用流式播放，另外采用流式播放最好采用 ADPCM 或 PCM 格式了 (不在意包体的话)，省一些播放时的 CPU 解压消耗。<br><font color="red">注 1：Streaming 播放模式下，会随着通同一个文件的反复加载，而叠加文件流及解码内存消耗</font><br><font color="red">注 2：采样率 (越低内存占用越低)、强制单声道也会统一影响到三种设置在流式的缓存占用</font></li><li>另外在可以接受的情况下， Sample Rate 可以设置为 22050Hz，比 44100Hz 减少一半的占用</li><li>Force To Mono 在小音效上应该也可以勾上，例如按钮点击音效总不能也是真的立体声吧，也可以省下一半资源。不过在音效源文件本身就是纯单通道的时候，勾选与否都没有影响</li></ul><p>在我们游戏中，都是采用前两种 LoadType+Vorbis 压缩方式，质量 70%、压缩模式存放 (Compressed In Memory)、SampleRate 22050Hz。</p><p>注：选择压缩同时也会影响打包资源大小，最终 AssetBundle 包大小基本与音效面板上的 ImportedSize 差不多 (+ 部分 AssetBundle 额外数据)。最终设置得权衡质量、包体和内存及性能。</p><div class="tags"><a href="/tags/Unity3D/" rel="tag"><i class="ic i-tag"></i> Unity3D</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag"><i class="ic i-tag"></i> 性能优化</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-06-04 19:42:34" itemprop="dateModified" datetime="2023-06-04T19:42:34+08:00">2023-06-04</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>WangJiaYing <i class="ic i-at"><em>@</em></i>CWHISME</li><li class="link"><strong>本文链接：</strong> <a href="https://wangjiaying.top/2022/11/08/%E9%9F%B3%E6%95%88%E8%B5%84%E6%BA%90%E8%AE%BE%E7%BD%AE%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93/" title="音效资源设置测试与总结">https://wangjiaying.top/2022/11/08/音效资源设置测试与总结/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/11/03/%E5%85%B3%E4%BA%8E%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8D%81%E8%BF%9B%E5%88%B6/" itemprop="url" rel="prev" data-background-image="&#x2F;images&#x2F;coverimages&#x2F;large&#x2F;78774408_p0.webp" title="关于二进制十六进制转十进制与ARGB图片存储格式"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 理论研究</span><h3>关于二进制十六进制转十进制与ARGB图片存储格式</h3></a></div><div class="item right"><a href="/2022/11/17/%E6%B5%8B%E8%AF%95%E6%89%8B%E5%8A%A8%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/" itemprop="url" rel="next" data-background-image="&#x2F;images&#x2F;coverimages&#x2F;large&#x2F;101351512_p0.webp" title="简单测试手动垃圾回收"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 理论研究</span><h3>简单测试手动垃圾回收</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#0x01-%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">0x01 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x02-%E5%B7%A5%E5%85%B7"><span class="toc-number">2.</span> <span class="toc-text">0x02 工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x03-%E8%AE%BE%E7%BD%AE%E9%80%89%E9%A1%B9"><span class="toc-number">3.</span> <span class="toc-text">0x03 设置选项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-loadtype"><span class="toc-number">3.1.</span> <span class="toc-text">1. LoadType</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8A%A0%E8%BD%BD%E5%8D%B3%E8%A7%A3%E5%8E%8Bdecompress-on-load"><span class="toc-number">3.1.1.</span> <span class="toc-text">1). 加载即解压 (Decompress On Load)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8F%E5%AD%98%E6%94%BE%E5%9C%A8%E5%86%85%E5%AD%98compressed-in-memory"><span class="toc-number">3.1.2.</span> <span class="toc-text">2). 压缩格式存放在内存 (Compressed In Memory)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%B5%81%E5%BC%8F%E6%92%AD%E6%94%BEstreaming"><span class="toc-number">3.1.3.</span> <span class="toc-text">3). 流式播放 (Streaming)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-compression-format%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8F"><span class="toc-number">3.2.</span> <span class="toc-text">2. Compression Format (压缩格式)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-force-to-mono"><span class="toc-number">3.3.</span> <span class="toc-text">3. Force To Mono</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-sample-rate"><span class="toc-number">3.4.</span> <span class="toc-text">4. Sample Rate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-preload-audio-data"><span class="toc-number">3.5.</span> <span class="toc-text">5. Preload Audio Data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-load-in-background"><span class="toc-number">3.6.</span> <span class="toc-text">6. Load In Background</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x04-%E6%80%BB%E4%BD%93%E8%B5%84%E6%BA%90%E6%B6%88%E8%80%97%E6%B5%8B%E8%AF%95"><span class="toc-number">4.</span> <span class="toc-text">0x04 总体资源消耗测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8Fvorbis1%E8%B4%A8%E9%87%8F"><span class="toc-number">4.0.1.</span> <span class="toc-text">1) 压缩格式：Vorbis (1% 质量)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8Fvorbis100%E8%B4%A8%E9%87%8F"><span class="toc-number">4.0.2.</span> <span class="toc-text">2) 压缩格式：Vorbis (100% 质量)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8Fadpcm"><span class="toc-number">4.0.3.</span> <span class="toc-text">3) 压缩格式：ADPCM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8Fpcm"><span class="toc-number">4.0.4.</span> <span class="toc-text">4) 压缩格式：PCM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%80%BB%E7%BB%93"><span class="toc-number">4.0.5.</span> <span class="toc-text">5) 总结</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E4%BD%93%E5%86%85%E5%AD%98%E6%B6%88%E8%80%97"><span class="toc-number">4.0.5.1.</span> <span class="toc-text">总体内存消耗：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E4%BD%93cpu%E6%B6%88%E8%80%97"><span class="toc-number">4.0.5.2.</span> <span class="toc-text">总体 CPU 消耗：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%96%91%E9%97%AE"><span class="toc-number">4.0.6.</span> <span class="toc-text">疑问</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A5%E5%85%85-pcmcompressed-in-memory-%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.0.6.1.</span> <span class="toc-text">补充 PCM (Compressed In Memory) 模式：</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#0x05-%E5%8E%8B%E7%BC%A9%E6%A0%BC%E5%BC%8F%E5%AF%B9%E6%9C%80%E7%BB%88-assetbunle-%E8%B5%84%E6%BA%90%E5%BD%B1%E5%93%8D"><span class="toc-number">5.</span> <span class="toc-text">0x05 压缩格式对最终 AssetBunle 资源影响</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE-samplerate-22050hz-pcm-%E6%A0%BC%E5%BC%8F"><span class="toc-number">5.0.1.</span> <span class="toc-text">1) 默认设置、SampleRate 22050Hz、PCM 格式：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE-samplerate-22050hz-adpcm-%E6%A0%BC%E5%BC%8F"><span class="toc-number">5.0.2.</span> <span class="toc-text">2) 默认设置、SampleRate 22050Hz、ADPCM 格式：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE-samplerate-22050hz-vorbis-%E5%8E%8B%E7%BC%A9%E8%B4%A8%E9%87%8F-70"><span class="toc-number">5.0.3.</span> <span class="toc-text">3) 默认设置、SampleRate 22050Hz、Vorbis 压缩，质量 70%：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x06-%E6%80%BB%E7%BB%93"><span class="toc-number">6.</span> <span class="toc-text">0x06 总结</span></a></li></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2017/03/09/2017-3-9-Unity-Optimization-Summary/" rel="bookmark" title="Unity3D性能优化总结">Unity3D性能优化总结</a></li><li><a href="/2022/10/26/%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90%E6%A0%BC%E5%BC%8F%E8%AE%BE%E7%BD%AE%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93/" rel="bookmark" title="图片资源格式设置测试与总结">图片资源格式设置测试与总结</a></li><li class="active"><a href="/2022/11/08/%E9%9F%B3%E6%95%88%E8%B5%84%E6%BA%90%E8%AE%BE%E7%BD%AE%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93/" rel="bookmark" title="音效资源设置测试与总结">音效资源设置测试与总结</a></li><li><a href="/2022/12/28/%E6%B5%85%E8%B0%88Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="浅谈Unity内存管理-笔记">浅谈Unity内存管理-笔记</a></li><li><a href="/2022/12/28/%E6%8F%AD%E7%A7%98Unity%E7%9A%84%E9%BB%91%E7%9B%92%E4%B8%96%E7%95%8C-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="揭秘Unity的黑盒世界-笔记">揭秘Unity的黑盒世界-笔记</a></li><li><a href="/2022/12/30/Mesh%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96%E4%B8%8E%E6%89%B9%E5%A4%84%E7%90%86/" rel="bookmark" title="Mesh渲染优化与批处理">Mesh渲染优化与批处理</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="WangJiaYing" data-src="/images/../img/avator"><p class="name" itemprop="name">CWHISME</p><div class="description" itemprop="description">己所不欲，勿施于人</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">130</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">24</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">35</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2N3aGlzbWU=" title="https:&#x2F;&#x2F;github.com&#x2F;cwhisme"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9jd2hpc21lLTMzL3Bvc3Rz" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;cwhisme-33&#x2F;posts"><i class="ic i-zhihu"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmN3aGlzbWVAMTI2LmNvbQ==" title="mailto:cwhisme@126.com"><i class="ic i-envelope"></i></span> <a href="/atom.xml" title="&#x2F;atom.xml" class="item feedback"><i class="ic i-heart"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/statistics/" rel="section"><i class="ic i-clock"></i>统计</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/11/03/%E5%85%B3%E4%BA%8E%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8D%81%E8%BF%9B%E5%88%B6/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/11/17/%E6%B5%8B%E8%AF%95%E6%89%8B%E5%8A%A8%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E6%80%BB%E7%BB%93/" title="分类于 总结">总结</a></div><span><a href="/2017/01/05/2016%E5%B9%B4%E6%80%BB%E7%BB%93/" title="2016年总结">2016年总结</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity3D/" title="分类于 Unity3D">Unity3D</a></div><span><a href="/2015/12/09/Unity3D-%E9%80%9A%E8%BF%87%E5%8A%A8%E7%94%BB%E4%BA%8B%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%B8%B8%E6%88%8F%E8%84%9A%E5%8D%B0/" title="Unity3D 通过动画事件实现游戏脚印">Unity3D 通过动画事件实现游戏脚印</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity3D/" title="分类于 Unity3D">Unity3D</a></div><span><a href="/2016/07/01/%E6%A0%B9%E6%8D%AE%E5%9C%B0%E5%BD%A2%E8%B4%B4%E5%9B%BE%E5%AE%9E%E7%8E%B0%E8%84%9A%E5%8D%B0%E5%8F%8A%E7%9B%B8%E5%BA%94%E6%95%88%E6%9E%9C/" title="根据所在地形贴图实现脚印等效果">根据所在地形贴图实现脚印等效果</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment count_3"></ul></div></div><div class="status"><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">WangJiaYing @ Jiaying's Note</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">763k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">11:34</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NXSElTTUUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/11/08/音效资源设置测试与总结/",favicon:{show:"（●´3｀●）",hide:"(´Д｀)"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,justifiedGallery:!0,jquery:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.staticfile.net/pace/1.2.4/pace.min.js"></script><script src="https://cdn.staticfile.net/pjax/0.2.8/pjax.min.js"></script><script src="https://cdn.staticfile.net/animejs/3.2.2/anime.min.js"></script><script src="https://cdn.staticfile.net/algoliasearch/4.17.0/algoliasearch-lite.umd.js"></script><script src="https://cdn.staticfile.net/instantsearch.js/4.54.1/instantsearch.production.min.js"></script><script src="https://cdn.staticfile.net/lozad.js/1.16.0/lozad.min.js"></script><script src="https://cdn.staticfile.net/quicklink/2.3.0/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/js/DateTimeAfeterCalc.js" async></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js" async></script></body></html>