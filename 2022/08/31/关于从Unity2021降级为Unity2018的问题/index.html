<!DOCTYPE html><meta name="viewport" content="height=device-height,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0"><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="cwhisme"><meta name="author" content="CWHISME"><meta property="og:title" content="关于从Unity2021降级为Unity2018的问题"><meta property="og:description" content="cwhisme"><meta property="og:site_name" content="WangJiaYing"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><title>关于从Unity2021降级为Unity2018的问题 - WangJiaYing</title><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/DateTimeAfeterCalc.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/particles-bg.js"></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/script.js"></script><link href="https://fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/css/style.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/tachyons@4.12.0/css/tachyons.min.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="WangJiaYing" type="application/atom+xml">
</head><body><canvas id="hackEffectCanvas" style="position:fixed;z-index:-1;pointer-events:none"></canvas><canvas class="fireworks" style="position:fixed;z-index:10;pointer-events:none"></canvas><div class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db dt-l w-100 mw8 center border-box pv3"><a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="WangJiaYing"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/logo.svg" class="dib h3" alt="WangJiaYing"></a><div class="db dtc-l v-mid w-100 w-75-l tc tr-l"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/" title="Home">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/archives" title="Archives">Archives </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/tags" title="Tags">Tags </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/categories" title="Categories">Categories </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/bookmark" title="Bookmark">Bookmark </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/about" title="About">About</a></div></nav><div class="w-100 mw8 center vh-40 dt"><div class="dtc v-mid white"><h1 class="f1-l f2-m tc tc-m tl-ns">关于从Unity2021降级为Unity2018的问题</h1><p class="f4 fw3 pab-100px tc tc-m tl-ns"><i class="fa fa-calendar-check-o" aria-hidden="true"></i> 2022-08-31&nbsp&nbsp <i class="fa fa-clock-o" aria-hidden="true"></i> <span id="dateTimeAfter">2022-08-31</span></p></div></div><div class="relative w-100 mw8 center white dn dn-m db-ns"><i class="header-icon fa fa-snowflake-o"></i></div></div><div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content"><div class="tags-container-vertical"><div class="tags-sub-container"><a class="fw3 ph1 dib" href="/tags/问题解决记录/">#问题解决记录</a></div></div><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前不是有写过 『关于汉室复兴升级Unity2021的问题记录』 这文章么，当时是为了将项目越南版本从 Unity2017 升级为 Unity2021。</p><p>主要考虑有三点：</p><ul><li>越南版本拖了一年多不止，新版可以拉开与其它版本差异，除此之外增加了一些越南特有优化，没准有助于提审</li><li>越南还未上线，先行升级可以先看相关兼容性</li><li>Hybridclr 若可以使用，只要提审成功一次，就可以像纯xlua项目一样更新，有助于运营</li></ul><p>越南还未上线，升级 Unity2021 之后测试也测了两个月了，包括真机我们这边和对面运营都跑过不少次，该有的问题页改得差不多了，目前唯一的问题就是还没有大规模地测试兼容性。</p><p>不过对于兼容性这一点，我也反复跟我们这边运营对过，后期会上 TestBird (真的能过审的话)。</p><p>不过本周周会的时候，前几次主程例会都提到过升级这个事，这一次上级反对意见比较大，大概就是得不求有功，但求无过。于是只能再作降级操作，后续研究计划也暂且放弃了。</p><p>虽然从低版本升级上去资源没有太大问题，但是反而降级操作，会造成大量资源问题，这里特记录一下。</p><p>目前发现主要有几个点：</p><ul><li>分散后的DLL重替换，Unity2018安装目录下也有分散DLL，直接替换即可</li><li>场景Unity组件丢失，例如挂载的UGUI相关 StandaloneInputModle、EventSystem</li><li>图集引用错乱，降级后，原有Prefab引用的图集中图片全乱了</li><li>所有在 Unity2021 修改过的Prefab都无法使用，Unity 组件，主要是UGUI出现 Missing</li></ul><p>后续再一一记录处理方式。</p><h2 id="场景Unity组件丢失"><a href="#场景Unity组件丢失" class="headerlink" title="场景Unity组件丢失"></a>场景Unity组件丢失</h2><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_a40f0219e30bf832243a14d9802ac50e_r.png"></p><p>这个救不了，看修改记录引用 GUID 都有变化，而且降级之后 Unity 完全不会处理这一块，已被自动升级修改的也不会再自动改回去，Missing 了也不见怪，只能还原到升级之前。</p><h2 id="图集引用错乱"><a href="#图集引用错乱" class="headerlink" title="图集引用错乱"></a>图集引用错乱</h2><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_1f4e876c1f2f9779eb9c917028000d99_r.png"></p><p>如上图所示，真的很恐怖，查看相关组件，部分为 Missing，部分为错误的精灵引用。</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_04ade9c242f57b10fd6630e40b23c9fb_r.png"></p><p>经对比升级与现在降级后的修改记录，可以明显发现问题：ID对应的精灵名字已经发生了变化</p><p>这个同样救不了了，需要还原。</p><p>此时必须先关闭 Unity，然后Revert本地所有修改(因为使用Unity2018打开已经导致自动错误修改了大量 meta 了)，然后再针对之前升级提交记录进行还原。</p><p>在 SVN 上找到上次的提交记录，选择 『Revert changes from this version』，表示还原所有自此次提交的修改：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_f5e7234ddc313e2baff6c3a366cb9f56_r.png"></p><p>还原时会有大量冲突，由于这次提交还原的主要是 meta 文件，因此只需要选择 Accept incomming 即可，meta 文件会被重新修改。</p><p>当然实际上没这么简单就是了，在资源目录总提交上，有些冲突(例如DLL)会导致还原直接半途终止，因此最保险的方式还是从子目录开始，挨个检查是否涉及到需要还原的资源再进行还原。</p><p>图集还原之后，再将所有图集都重新打一遍就可以了。</p><blockquote><p>还好之前帮策划写过一个一键重打图集的工具！</p></blockquote><h2 id="高版本修改后的-Prefab-无法使用"><a href="#高版本修改后的-Prefab-无法使用" class="headerlink" title="高版本修改后的 Prefab 无法使用"></a>高版本修改后的 Prefab 无法使用</h2><p>关于这个，拿一个 Prefab Missing组件举例，此处为一个 Image 组件：</p><p>修改前的 Unity2017 版本：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_5afd85c5e555fbb8b1095b1db879c2cb_r.png"></p><p>从数据对比上来看，其中 Missing 的组件 ID 为 114414057906683420</p><p>然后搜索并对比修改前后两个组件的差异：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_98e244d2128270bb09b31b0bc60e0d18_r.png"></p><p>可以注意到，此处虽然高版本多了点东西、少了点啥，其实这些影响都不大，但是最关键的是 m_Scripts 字段 fileID、guid 全变了！</p><p>小心翼翼地手动将 fileID、guid 改回去，刷新一下：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_6563156f7f997661be21d505355c2c11_r.png"></p><p>已经 Missing 的组件变成正常了！</p><p>说明导致 Missing 的影响要素确实是这个问题。</p><p>注：<a target="_blank" rel="noopener" href="https://docs.unity3d.com/cn/current/Manual/FormatDescription.html">官方meta文件描述</a></p><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>经过上述尝试，可以发现有三种可供选择的方法：</p><ol><li>碰到一个修一个，手动修改 fileID、guid<blockquote><p>这个简直就是灾难，并且会花费大量时间，或许可以给实习生练手？但是没有必要</p></blockquote></li><li>直接还原这两个月的 Prefab 修改<blockquote><p>之前针对外服写过备份修改工具，可以一键重导入之前的修改。但是这涉及到部分工具无法处理，必须手动修改的 Prefab，可能出现遗漏</p></blockquote></li><li>写个工具，直接遍历所有 Prefab，并将指定 fileID、guid 作对应替换<blockquote><p>手动改肯定不可能，不过就算写工具，也得一个个找出脚本新旧对应的 fileID、guid ，并改回去，但相比前两种方法，已经算是可以接受的程度了。</p></blockquote></li></ol><p>所以经过考虑，采用了第三种方法，首先对两个版本的组件 fileID、guid 进行对比：</p><ul><li><h4 id="Unity2018-4-36f1："><a href="#Unity2018-4-36f1：" class="headerlink" title="Unity2018.4.36f1："></a>Unity2018.4.36f1：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Image：m_Script: &#123;fileID: -765806418, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">RawImage：m_Script: &#123;fileID: -98529514, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Scroll View：m_Script: &#123;fileID: 1367256648, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Scrollbar：m_Script: &#123;fileID: -2061169968, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Slider：m_Script: &#123;fileID: -113659843, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Toggle：m_Script: &#123;fileID: 2109663825, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Text：m_Script: &#123;fileID: 708705254, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Button：m_Script: &#123;fileID: 1392445389, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Dropdown：m_Script: &#123;fileID: 853051423, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">InputField：m_Script: &#123;fileID: 575553740, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">ContentSizeFilter：m_Script: &#123;fileID: 1741964061, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Mask：m_Script: &#123;fileID: -1200242548, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">GridLayoutGroup：m_Script: &#123;fileID: -2095666955, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">HorizontalLayouGroup：m_Script: &#123;fileID: -405508275, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">ToggleGroup：m_Script: &#123;fileID: -1184210157, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">CanvasScaler：m_Script: &#123;fileID: 1980459831, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">GraphicRaycaster：m_Script: &#123;fileID: 1301386320, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">Outline：m_Script: &#123;fileID: -900027084, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">EventTrigger：m_Script: &#123;fileID: -1862395651, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">LayoutElement：m_Script: &#123;fileID: 1679637790, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">VerticalLayoutGroup：m_Script: &#123;fileID: 1297475563, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br><span class="line">AspectRatioFitter：m_Script: &#123;fileID: -1254083943, guid: f70555f144d8491a825f0804e09c671c, type: 3&#125;</span><br></pre></td></tr></table></figure></li><li><h4 id="Unity2021-3-6f1："><a href="#Unity2021-3-6f1：" class="headerlink" title="Unity2021.3.6f1："></a>Unity2021.3.6f1：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Image：m_Script: &#123;fileID: 11500000, guid: fe87c0e1cc204ed48ad3b37840f39efc, type: 3&#125;</span><br><span class="line">RawImage：m_Script: &#123;fileID: 11500000, guid: 1344c3c82d62a2a41a3576d8abb8e3ea, type: 3&#125;</span><br><span class="line">Scroll View：m_Script: &#123;fileID: 11500000, guid: 1aa08ab6e0800fa44ae55d278d1423e3, type: 3&#125;</span><br><span class="line">Scrollbar：m_Script: &#123;fileID: 11500000, guid: 2a4db7a114972834c8e4117be1d82ba3, type: 3&#125;</span><br><span class="line">Slider：m_Script: &#123;fileID: 11500000, guid: 67db9e8f0e2ae9c40bc1e2b64352a6b4, type: 3&#125;</span><br><span class="line">Toggle：m_Script: &#123;fileID: 11500000, guid: 9085046f02f69544eb97fd06b6048fe2, type: 3&#125;</span><br><span class="line">Text (Legacy)：m_Script: &#123;fileID: 11500000, guid: 5f7201a12d95ffc409449d95f23cf332, type: 3&#125;</span><br><span class="line">Button (Legacy)：m_Script: &#123;fileID: 11500000, guid: 4e29b1a8efbd4b44bb3f3716e73f07ff, type: 3&#125;</span><br><span class="line">Dropdown (Legacy)：m_Script: &#123;fileID: 11500000, guid: 0d0b652f32a2cc243917e4028fa0f046, type: 3&#125;</span><br><span class="line">InputField (Legacy)：m_Script: &#123;fileID: 11500000, guid: d199490a83bb2b844b9695cbf13b01ef, type: 3&#125;</span><br><span class="line">ContentSizeFilter：m_Script: &#123;fileID: 11500000, guid: 3245ec927659c4140ac4f8d17403cc18, type: 3&#125;</span><br><span class="line">Mask：m_Script: &#123;fileID: 11500000, guid: 31a19414c41e5ae4aae2af33fee712f6, type: 3&#125;</span><br><span class="line">GridLayoutGroup：m_Script: &#123;fileID: 11500000, guid: 8a8695521f0d02e499659fee002a26c2, type: 3&#125;</span><br><span class="line">HorizontalLayouGroup：m_Script: &#123;fileID: 11500000, guid: 30649d3a9faa99c48a7b1166b86bf2a0, type: 3&#125;</span><br><span class="line">ToggleGroup：m_Script: &#123;fileID: 11500000, guid: 2fafe2cfe61f6974895a912c3755e8f1, type: 3&#125;</span><br><span class="line">CanvasScaler：m_Script: &#123;fileID: 11500000, guid: 0cd44c1031e13a943bb63640046fad76, type: 3&#125;</span><br><span class="line">GraphicRaycaster：m_Script: &#123;fileID: 11500000, guid: dc42784cf147c0c48a680349fa168899, type: 3&#125;</span><br><span class="line">Outline：m_Script: &#123;fileID: 11500000, guid: e19747de3f5aca642ab2be37e372fb86, type: 3&#125;</span><br><span class="line">EventTrigger：m_Script: &#123;fileID: 11500000, guid: d0b148fe25e99eb48b9724523833bab1, type: 3&#125;</span><br><span class="line">LayoutElement：m_Script: &#123;fileID: 11500000, guid: 306cc8c2b49d7114eaa3623786fc2126, type: 3&#125;</span><br><span class="line">VerticalLayoutGroup：m_Script: &#123;fileID: 11500000, guid: 59f8146938fff824cb5fd77236b75775, type: 3&#125;</span><br><span class="line">AspectRatioFitter：m_Script: &#123;fileID: 11500000, guid: 86710e43de46f6f4bac7c8e50813a599, type: 3&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_022757aefd54eb580eb1ec28b1416276_r.png"></p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/2022/2022-08-31/m_672ea79241bf3928186395657de137a7_r.png"><br>(打印是后续调试进行过好几次的查漏补缺截图，因此数量才这么少)</p><p>另外需要注意千万不好混了，有一次就是复制重复了，导致组件上的脚本是有了，但却从 VerticalLayoutGroup 变成了 LayoutElement！</p><p>主要代码如下：</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> resDir = Path.Combine(Application.dataPath, <span class="string">&quot;Resources&quot;</span>);</span><br><span class="line"><span class="built_in">string</span>[] prefabLists = Directory.GetFiles(resDir, <span class="string">&quot;*.prefab&quot;</span>, SearchOption.AllDirectories);</span><br><span class="line"><span class="built_in">int</span> num = prefabLists.Length;</span><br><span class="line"><span class="built_in">string</span>[] linesTemp;</span><br><span class="line"><span class="built_in">bool</span> doSave;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">&#123;</span><br><span class="line">    EditorUtility.DisplayProgressBar(<span class="string">&quot;降级修复中……&quot;</span>, <span class="string">$&quot;请等待，执行进度：<span class="subst">&#123;i + <span class="number">1</span>&#125;</span>/<span class="subst">&#123;num&#125;</span>&quot;</span>, (<span class="built_in">float</span>)i / num);</span><br><span class="line">    doSave = <span class="literal">false</span>;</span><br><span class="line">    linesTemp = File.ReadAllLines(prefabLists[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> lineIndex = <span class="number">0</span>; lineIndex &lt; linesTemp.Length; lineIndex++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//遍历2021最新的id，检测每一行是否有对应数据</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> newIndex = <span class="number">0</span>; newIndex &lt; Unity2021.Length; newIndex++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (linesTemp[lineIndex].Contains(Unity2021[newIndex]))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//2021替换为2018</span></span><br><span class="line">                linesTemp[lineIndex] = linesTemp[lineIndex].Replace(Unity2021[newIndex], Unity2018[newIndex]);</span><br><span class="line">                doSave = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (doSave)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">$&quot;修复对象：<span class="subst">&#123;prefabLists[i]&#125;</span>&quot;</span>);</span><br><span class="line">        File.WriteAllLines(prefabLists[i], linesTemp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">EditorUtility.ClearProgressBar();</span><br><span class="line">AssetDatabase.Refresh();</span><br><span class="line">AssetDatabase.SaveAssets();</span><br></pre></td></tr></table></figure><p>然后自己跑了下，出了真机包也试了一圈没什么问题，不过后续还是需要测试重新跑一次全量。</p><div class="tags-container-bottom"><i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/问题解决记录/">#问题解决记录</a></div><br><br><hr><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><div id="vcomments"></div><script>new Valine({el:"#vcomments",appId:"MsaVbSzIr9cIfikihDExdun9-gzGzoHsz",appKey:"Bj6SEFUBomrLOTWx9B8S6zQH",placeholder:"请输入评论内容~",avatar:"mp",visitor:!1})</script></div><div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50"><hr class="dn-l mw4 black-50 mt5"><div class="mt5 mt0-l site-author"><article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3"><div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width:6rem"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/photo.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="CWHISME"></div><div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">悲观主义的末日</div></article></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>分类</h3><p><a href="/categories/Unity3D/">Unity3D</a></p></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>近期文章</h3><p><a href="/2022/12/10/%E5%8D%8F%E5%8F%98%E5%92%8C%E9%80%86%E5%8F%98/">协变和逆变</a></p><p><a href="/2022/12/06/Unity%E7%9A%84%E9%98%B4%E5%BD%B1%E4%B8%8E%E5%85%89%E7%85%A7%E7%83%98%E7%84%99/">Unity 的阴影与光照烘焙</a></p><p><a href="/2022/11/23/%E6%89%93%E5%8C%85AssetBundle%E5%9F%BA%E7%A1%80%E8%A7%84%E5%88%99%E6%95%B4%E7%90%86/">打包 AssetBundle 的基础规则整理</a></p><p><a href="/2022/11/18/StringBuilder%E6%89%A9%E5%AE%B9%E8%A7%84%E5%88%99%E7%A0%94%E7%A9%B6/">StringBuilder 扩容规则研究</a></p><p><a href="/2022/11/17/%E6%B5%8B%E8%AF%95%E6%89%8B%E5%8A%A8%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">简单测试手动垃圾回收</a></p></div></div></div></div></div></div><div class="bg-1 ph2 ph5-ns pv5"><div class="mv8"><div class="center tc"><div class="dib mh3"><a class="f3 f2-ns white dim" href="https://github.com/CWHISME" target="_blank"><i class="fa fa-github"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="mailto:cwhisme@126.com" target="_blank"><i class="fa fa-envelope"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div></div><div class="f6 f5-ns center tc white pt5 fw3">Copyright © 2021 | Design & Hexo <a class="link dim white" target="_blank" rel="noopener" href="https://github.com/klugjo/hexo-theme-anodyne/">Jonathan Klughertz</a> | Modify By CWHISME</div></div></div></body></html>