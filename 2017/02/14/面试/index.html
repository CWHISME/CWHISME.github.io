<!DOCTYPE html><meta name="viewport" content="height=device-height,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0"><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="cwhisme"><meta name="author" content="CWHISME"><meta property="og:title" content="Unity3D 程序面试(2017.2.14)"><meta property="og:description" content="cwhisme"><meta property="og:site_name" content="WangJiaYing"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><title>Unity3D 程序面试(2017.2.14) - WangJiaYing</title><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/DateTimeAfeterCalc.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/particles-bg.js"></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/script.js"></script><link href="https://fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/css/style.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/tachyons@4.12.0/css/tachyons.min.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="WangJiaYing" type="application/atom+xml">
</head><body><canvas id="hackEffectCanvas" style="position:fixed;z-index:-1;pointer-events:none"></canvas><canvas class="fireworks" style="position:fixed;z-index:10;pointer-events:none"></canvas><div class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db dt-l w-100 mw8 center border-box pv3"><a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="WangJiaYing"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/logo.svg" class="dib h3" alt="WangJiaYing"></a><div class="db dtc-l v-mid w-100 w-75-l tc tr-l"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/" title="Home">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/archives" title="Archives">Archives </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/tags" title="Tags">Tags </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/categories" title="Categories">Categories </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/bookmark" title="Bookmark">Bookmark </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/about" title="About">About</a></div></nav><div class="w-100 mw8 center vh-40 dt"><div class="dtc v-mid white"><h1 class="f1-l f2-m tc tc-m tl-ns">Unity3D 程序面试(2017.2.14)</h1><p class="f4 fw3 pab-100px tc tc-m tl-ns"><i class="fa fa-calendar-check-o" aria-hidden="true"></i> 2017-02-14&nbsp&nbsp <i class="fa fa-clock-o" aria-hidden="true"></i> <span id="dateTimeAfter">2017-02-14</span></p></div></div><div class="relative w-100 mw8 center white dn dn-m db-ns"><i class="header-icon fa fa-snowflake-o"></i></div></div><div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content"><div class="tags-container-vertical"><div class="tags-sub-container"><a class="fw3 ph1 dib" href="/tags/面试/">#面试</a></div></div><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>如前所述，因为打算开始找工作了。<br>第一个想要的找的地方，当然是重庆了，不过到处都找不到相应的信息。然后最近又看见QQ群里有一个人在发重庆的招聘信息（也就看见这一个重庆的），要求挺高——本科以上，三年以上。因为自己实际工作经验刚2年，也是犹豫了一阵，不过看着也没其它招聘信息了，所以就投了试了下，打算先去看看。<br>所以昨天就投了简历，今天去面试了一下，说来感觉效果挺差的。因为去过了知道，他们要找的是“精通图形学”的底层程序，表示做功能的真伤不起——虽然不是不会(自己之前还是私底下专门研究过些的，毕竟是私底下研究的，没经过“实践”的洗礼，所以在大半年时间期间忙于其他逻辑，没空再研究[接触]的情况下，果然被时间侵蚀成渣渣了啊)，时间长了不用印象就少了，这次面试最最深刻的印象就是：唉？这问题好像有点印象…⊙△⊙？<br>那么，稍微记录一下吧。</p><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>昨天本来是上午发过去的简历，结果等到快晚上了，那边才接收，然后说看着不错，有时间去面试。<br>所以就说，明天（也就是今天了）。<br>当时交流起来都感觉了累，因为发一条信息，等半天才回一次。<br>问做什么的，回复说：体感，详情去了再介绍。<br>后来查了一下公司，原来发招聘信息的直接就是公司老板啊，或许平时都没去上班——所以就没多问了。<br>然后查了一下之前附在简历上的Demo链接，那边也是根本就没看过。</p><p>——————————————————————</p><p>公司所在的大厦，看着还可以，不过当踏上1101，也就是公司所在楼层之后，虽然之前就有点心理准备，说实话还是有点失望：旁边好像是一家火锅店，屋子也挺小，还没我现在租房大，加上前台人数貌似还不到10个…</p><p>然后前台拿了一张纸给我，说是还要填一下简历，让我坐在了靠门那张没人使用的桌子旁，对面还有两张办工桌，好像是坐的两个美术的样子？没大注意，所以记不大清楚了。另外，这张上面包括父母信息都要填，加了一些东西，当然相比我发过去的简历，也少了好些内容。<br>期间老板出去过一次，好像是抽烟去了…回来进屋，然后又过了一会儿，出来问我填好了没？<br>我说好了。</p><p>然后他问了下前台，好像是笔试题整理好了没！人来了才开始整理笔试题啊。<br>貌似还没好，所以就直接把我叫到里边的隔间——大概就是老板或者程序的办公室了——都是用的笔记本，看样子像是比较老的Thinkpad型号，性能上应该挺差的，不大可能是用来开发的吧？也不知道是不是自带的。</p><p>然后，面试开始了。</p><h3 id="面试"><a href="#面试" class="headerlink" title="面试"></a>面试</h3><p>他们也没叫我把刚才填写的那张纸拿过去，而是打开了笔记本——应该是直接在看我发过去的简历。</p><p>里边办工桌做了两个人，是一个方形桌子，推测是程序。<br>我和其中一个面对面坐着，老板进来坐在了与我们垂直的位置，我旁边则是另一个程序(大概)。</p><p>首先问了下我之前做什么？我说主要是AI、StoryEditor、动画行为等，游戏功能逻辑方面内容。对面表示知道了。<br>然后说，自己公司做体感，主要是优化那块儿。</p><p>然后，问了第一个问题：</p><h5 id="“剔除有哪几种方式？”"><a href="#“剔除有哪几种方式？”" class="headerlink" title="“剔除有哪几种方式？”"></a>“剔除有哪几种方式？”</h5><p>然后我想到了曾经看过的一个插件实现，所以稍微问了一下说，是自己实现的么？他说是，然后我回答说，通过从相机发射射线，碰到的物体使其渲染，反之则不渲染。另外Unity本身的话，也自带了一个“Occlusion Culling”功能，通过烘焙也可以。<br>然后他问：是遮挡剔除么？我说是。<br>问：还有其它方式么？<br>当时莫名感觉又紧张起来，有感觉上面自己回答不是很好的样子，脑袋白了一下，回答说不大清楚了。（如果不是自己实现，应该还有相机的视锥体剔除，这个是Unity已经做过的了）</p><h5 id="“怎么进行光照优化？”"><a href="#“怎么进行光照优化？”" class="headerlink" title="“怎么进行光照优化？”"></a>“怎么进行光照优化？”</h5><p>答：我直接就说，最好的方式就是烘焙光照。（可能的话，不使用实时光源或阴影，而用烘焙光照方式代替，因为实时光辉造成跟多的DC及渲染消耗。静态场景除了烘焙贴图来优化光照还有什么？修改烘焙分辨率？自己写Shader，在顶点计算光照？使用光照探针？不过看着对面盯着人，明显表示不够吧？）然后急急地想了下，说最新的Unity5用实时光照的话，烘焙GI也很好的（哦，我在说什么？）[使用Forawrd渲染，尽量少或者不使用像素光照(即使用顶点光照)]<br>不了了之…（大概想问的也是图形学某个底层的问题？）</p><h5 id="“Navmesh是怎么实现的？”"><a href="#“Navmesh是怎么实现的？”" class="headerlink" title="“Navmesh是怎么实现的？”"></a>“Navmesh是怎么实现的？”</h5><p>答：Unity烘焙Navmesh的时候，会烘焙成一个平面的模型，里面包含了许多的三角形数据，寻路的时候，通过寻找这些三角形哪些最近，然后把那些三角形内的点连起来，就变成了路径了。就像是Unity一个比较著名的插件“Pathfinding”一样，里面也有一个Navmesh的实现，烘焙的时候，就是自己做成的一个平面的模型。<br>问：最底层，是怎么实现的？<br>答：没研究过（Navmesh用就用了，除了特殊需要，谁还会专门研究最底层的寻路实现啊？虽然我知道一些原理[难道不是用类似A<em>算法先计算出最近的一堆三角形，然后连线？]，也说了，不过对面明显不满意）<br>（[想起来…好像在一年前还是半年前，看过的《游戏人工智能编程》好像提到过，不过…似乎被带过了，因为没用到过所以也没注意]）<br>(根据Navmesh一般使用传统的A</em>计算最优网格路径，然后使用拐角点算法或光线照射法进行生成最终的路径点)</p><h5 id="“SkinMeshrender里边，是怎么把顶点XXX-忘了…-”"><a href="#“SkinMeshrender里边，是怎么把顶点XXX-忘了…-”" class="headerlink" title="“SkinMeshrender里边，是怎么把顶点XXX(忘了…)”"></a>“SkinMeshrender里边，是怎么把顶点XXX(忘了…)”</h5><p>答：？再说一篇呢？<br>问：XXXXX<br>答：…然后Skinmeshrender里面好像还保存了一个矩阵，可以把相应的顶点信息转化至世界坐标，然后显示出来（说实话，这个问题我好像没怎么明白问什么…）</p><h5 id="“热更新怎么实现？”"><a href="#“热更新怎么实现？”" class="headerlink" title="“热更新怎么实现？”"></a>“热更新怎么实现？”</h5><p>答：我们项目没用过，不果我也知道一些。比如PC上，通过反射实现，事先定义相应的接口，逻辑则在另一个地方（项目）去写，然后编译成Dll代码放过来，这样主程序就可以通过反射，来运行Dll里边实际逻辑代码。（话没错吧？是可以这样做的吧？）<br>问：哦，你们没做过啊？那Unity怎么使用lua呢？要是你会怎么做？<br>答：我虽然没用过，不过知道一些…lua是脚本语言，可以实时编译（解析）（相当于下载一个文本文件，然后Run，就OK了），Unity有相应的插件实现，毕竟自己做的话，还是很麻烦的。<br>问：哦，插件啊。（不用现成的解决方案[slua,ulua,nlua等]，难道到自己专门实现？）</p><h5 id="“AABB碰撞检测是怎么实现的？”"><a href="#“AABB碰撞检测是怎么实现的？”" class="headerlink" title="“AABB碰撞检测是怎么实现的？”"></a>“AABB碰撞检测是怎么实现的？”</h5><p>答：AABB，就是矩形包围盒，通过判断坐标X、Y、Z是否位于那个坐标(X[min]&lt;X&lt;X[max]、Y[min]&lt;Y&lt;Y[max]、Z[min]&lt;Z&lt;Z[max])范围内，决定是否在包围盒内部。<br>问：我是想问投影<br>我：数学上的意义？<br>问：对，我问AABB主要就是想考投影<br>我：…..(AABB碰撞检测跟投影有关系吗？投影我知道怎么算…但是碰撞检测需要投影吗？因为没研究过最最底层的碰撞测算法，所以真不清楚[也许真有呢？后来百度了一下，找到一点信息，确实有些关系：<a target="_blank" rel="noopener" href="http://blog.csdn.net/liuhannan111/article/details/52514077">http://blog.csdn.net/liuhannan111/article/details/52514077</a>，对于场景两个物体的碰撞检测，确实好像是通过投影到几个轴方向平面测试相交判断。不过研究碰撞检测具体算法….我承认之前确实没仔细研究过，首先我不是做那一块儿的，其次毕竟Unity封装得太好了，就算单独测试两个Box的相交，也可以直接使用Bounds的Intersects判断。)</p><h5 id="看你简历上说对C-研究挺深的那么：“GC，内存回收是怎么实现的的？”"><a href="#看你简历上说对C-研究挺深的那么：“GC，内存回收是怎么实现的的？”" class="headerlink" title="看你简历上说对C#研究挺深的那么：“GC，内存回收是怎么实现的的？”"></a>看你简历上说对C#研究挺深的那么：“GC，内存回收是怎么实现的的？”</h5><p>答：C#里边创建String、类都会造成GC(堆上的内存[如引用类型]会被GC自动回收，对于最多的String处理，可以用StringBuilder减轻GC消耗)。<br>问：内部是怎么实现的呢？<br>答：不是很清楚…（如果是刚学那会儿估计没问题，过了一两年么没看，都忘了…果然裸面是很不好的…[C# GC被分成3代，每代容量超出上限则开始工作，自动对失去引用，即不再使用的对象进行回收]）</p><h5 id="“C-里边的堆和栈有什么区别？”"><a href="#“C-里边的堆和栈有什么区别？”" class="headerlink" title="“C#里边的堆和栈有什么区别？”"></a>“C#里边的堆和栈有什么区别？”</h5><p>（好像是这样问题）<br>答：C#里边的话，像是类一般都是放在堆里边，而结构体、Float、int等类型，则是放在栈里面（堆失去引用会造成GC，而栈不会）——（好像回答也不是很好，不管了）（准确来说，应该是：在一般情况下，引用类型数据放在托管堆里，其地址放在栈中，由C#回收机制自动回收，会造成GC；值类型放在栈内存，由系统自动回收。另外栈速度比堆的速度更快。堆的容量比栈更大）</p><h5 id="“DrawCall你知道吧？是指的什么？”"><a href="#“DrawCall你知道吧？是指的什么？”" class="headerlink" title="“DrawCall你知道吧？是指的什么？”"></a>“DrawCall你知道吧？是指的什么？”</h5><p>答：GPU每次绘制一次，就会造成一个DrawCall。（应该说是从CPU向GPU发起的一次绘图调用命令）<br>问：DrawCall是GPU的，还是CPU的？<br>答：GPU（Ops!因为主要操作时CPU准备数据，设置各种渲染，最后将这个命令发送至命令缓冲区。所以…似乎、大概、好像应该是是CPU上的处理，与GPU占点关系的就最后的Draw了⊙﹏⊙!）<br>问：一次绘制具体是怎么处理的？<br>答：CPU读取内容至内存，然后传送到GPU的显存，GPU再读取显存内容进行绘制（当时好像回答不对…查了下应该是：Draw Call实际上就是调用一次GPU的绘图接口，不过在调用之前，CPU会向GPU发送信息，设置各种状态，最后调用图形API的绘制的接口。对于每个单独物体，都会这样干，然后就造成一次DrawCall。因为CPU、GPU并行，所以性能瓶颈主要在于CPU对于一次DrawCall的提交）。</p><h5 id="“看你说会Shader？”"><a href="#“看你说会Shader？”" class="headerlink" title="“看你说会Shader？”"></a>“看你说会Shader？”</h5><p>答：嗯..会一点。<br>问：“那你自己为什么要写Shader？”<br>答：（…写Shader还要有具体理由吗？）当然是Unity自己的满足不了需求，比如说之前的做的那个Demo，需要实时修改地形，如果玩家挖矿挖着挖着，挖太深的话，使用原本的地形Shader就会造成贴图拉伸，所以就找到了Tri-planar技术来修改了地形Shader。<br>问：（明显不满意）</p><h5 id="“Shader主要操作的是什么？”"><a href="#“Shader主要操作的是什么？”" class="headerlink" title="“Shader主要操作的是什么？”"></a>“Shader主要操作的是什么？”</h5><p>答：看自己了，Shader里面分为了“顶点”和“片段”处理程序，“顶点”里面的处理就是操作顶点，“片段”里面的处理就是操作像素。</p><p>然后，然后就走了。</p><p>【以上，想起来的大概就是这些问题，括号内为面试结束后才想到(总结)的内容】<br>【看了一下，问题还不少…另外多数倾向于图形学底层知识。虽然多数了解一些，笔试大概还好一点，面试…没有思考时间，中间好些问题回答得都很糊涂】<br>【亏我还把电脑搬了过去，结果没用。人家也没看过Demo，甚至管都没管，果然是不对口么】<br>感觉真失败，虽然就算成功了应该也是不会去的，但是失败了还是挺失望的。最主要还是自己太自大了，果然裸面也是很不好的。</p><div class="tags-container-bottom"><i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/面试/">#面试</a></div><br><br><hr><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><div id="vcomments"></div><script>new Valine({el:"#vcomments",appId:"MsaVbSzIr9cIfikihDExdun9-gzGzoHsz",appKey:"Bj6SEFUBomrLOTWx9B8S6zQH",placeholder:"请输入评论内容~",avatar:"mp",visitor:!1})</script></div><div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50"><hr class="dn-l mw4 black-50 mt5"><div class="mt5 mt0-l site-author"><article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3"><div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width:6rem"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/photo.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="CWHISME"></div><div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">悲观主义的末日</div></article></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>分类</h3><p><a href="/categories/其它/">其它</a></p></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>近期文章</h3><p><a href="/2022/12/10/%E5%8D%8F%E5%8F%98%E5%92%8C%E9%80%86%E5%8F%98/">协变和逆变</a></p><p><a href="/2022/12/06/Unity%E7%9A%84%E9%98%B4%E5%BD%B1%E4%B8%8E%E5%85%89%E7%85%A7%E7%83%98%E7%84%99/">Unity 的阴影与光照烘焙</a></p><p><a href="/2022/11/23/%E6%89%93%E5%8C%85AssetBundle%E5%9F%BA%E7%A1%80%E8%A7%84%E5%88%99%E6%95%B4%E7%90%86/">打包 AssetBundle 的基础规则整理</a></p><p><a href="/2022/11/18/StringBuilder%E6%89%A9%E5%AE%B9%E8%A7%84%E5%88%99%E7%A0%94%E7%A9%B6/">StringBuilder 扩容规则研究</a></p><p><a href="/2022/11/17/%E6%B5%8B%E8%AF%95%E6%89%8B%E5%8A%A8%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">简单测试手动垃圾回收</a></p></div></div></div></div></div></div><div class="bg-1 ph2 ph5-ns pv5"><div class="mv8"><div class="center tc"><div class="dib mh3"><a class="f3 f2-ns white dim" href="https://github.com/CWHISME" target="_blank"><i class="fa fa-github"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="mailto:cwhisme@126.com" target="_blank"><i class="fa fa-envelope"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div></div><div class="f6 f5-ns center tc white pt5 fw3">Copyright © 2021 | Design & Hexo <a class="link dim white" target="_blank" rel="noopener" href="https://github.com/klugjo/hexo-theme-anodyne/">Jonathan Klughertz</a> | Modify By CWHISME</div></div></div></body></html>