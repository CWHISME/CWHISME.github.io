<!DOCTYPE html><meta name="viewport" content="height=device-height,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0"><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="cwhisme"><meta name="author" content="CWHISME"><meta property="og:title" content="[Demo]Magic Civilizition"><meta property="og:description" content="cwhisme"><meta property="og:site_name" content="WangJiaYing"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><title>[Demo]Magic Civilizition - WangJiaYing</title><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/DateTimeAfeterCalc.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/particles-bg.js"></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script type="text/javascript" src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/js/script.js"></script><link href="https://fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/css/style.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/tachyons@4.12.0/css/tachyons.min.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="WangJiaYing" type="application/atom+xml">
</head><body><canvas id="hackEffectCanvas" style="position:fixed;z-index:-1;pointer-events:none"></canvas><canvas class="fireworks" style="position:fixed;z-index:10;pointer-events:none"></canvas><div class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db dt-l w-100 mw8 center border-box pv3"><a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="WangJiaYing"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/logo.svg" class="dib h3" alt="WangJiaYing"></a><div class="db dtc-l v-mid w-100 w-75-l tc tr-l"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/" title="Home">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/archives" title="Archives">Archives </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/tags" title="Tags">Tags </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/categories" title="Categories">Categories </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/bookmark" title="Bookmark">Bookmark </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/about" title="About">About</a></div></nav><div class="w-100 mw8 center vh-40 dt"><div class="dtc v-mid white"><h1 class="f1-l f2-m tc tc-m tl-ns">[Demo]Magic Civilizition</h1><p class="f4 fw3 pab-100px tc tc-m tl-ns"><i class="fa fa-calendar-check-o" aria-hidden="true"></i> 2017-02-10&nbsp&nbsp <i class="fa fa-clock-o" aria-hidden="true"></i> <span id="dateTimeAfter">2017-02-10</span></p></div></div><div class="relative w-100 mw8 center white dn dn-m db-ns"><i class="header-icon fa fa-snowflake-o"></i></div></div><div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content"><div class="tags-container-vertical"><div class="tags-sub-container"><a class="fw3 ph1 dib" href="/tags/Demo/">#Demo</a></div></div><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>唔….辛苦两个多月的“游戏”终于发了个Demo出来了！</p><p>首先，是个视频，当然，仅仅只是目前功能的一个简单展示：</p><raw><iframe height="498" width="710" src="https://player.youku.com/embed/XMjUwNTI1MzEwNA==" frameborder="0" allowfullscreen></iframe></raw><h4 id="程序"><a href="#程序" class="headerlink" title="程序"></a>程序</h4><p><a target="_blank" rel="noopener" href="http://pan.baidu.com/s/1hsysrp6">百度网盘</a></p><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>这算是第四个“自己”鼓捣出来的东西了吧。当然，除了“功能”之外，余下剧情之类的同样还是没能最终弄完，不过目前功能模块基本也差不多了，没准某个时候又有了时间和兴致，再来补完呢？</p><p>包括：<br>1.存档系统(游戏所有功能模块几乎均可存档，模式采用的是二进制)<br>2.技能系统(技能升级、强化等)。</p><blockquote><p>想要学习新的魔法，必须获得“魔法书”，每个魔法或者技能都具有熟练度的属性，每使用一次，都会增加一点熟练度，当熟练度到达100%时，就会升级，并获得一点技能点数，通过使用技能点数，可以对技能进行不同方向选择性地强化。</p></blockquote><p>3.物品的系统(包括方便的制作新物品Editor工具等)</p><blockquote><p>物品系统也是一个蛮复杂的系统——主要还是因为游戏本身需求。物品被大致分为了装备、道具、食物和材料。<br>最后的材料设计，是因为当初还打算做“配方”、“合成”系统的，比如装备就有“材质”的属性。以此，使用相应的材料，便可以由程序来自动生成相应材料制作的装备，并对默认属性进行生成。<br>除此之外，装备还包括了“神器”等参数。</p></blockquote><p>4.剧情(任务)系统(包括StoryEditor等方便的剧情编辑工具)</p><blockquote><p>这个使用了我曾经工作的时候，设计的一个“Story Editor”进行管理制作，可以方便地进行可视化的任务设计和编辑，默认情况下，数据存储为ScriptObject，而存档的时候，则将数据转化为二进制存入存档文件中（所以，若稍加改动，平时也是可以独立于编辑器的）。</p></blockquote><p>5.实时修改地形的挖矿</p><blockquote><p>因为使用了Unity自带的基于高度图的地形，所以在挖矿的时候，所以可以实时修改地形高低。</p></blockquote><p>6.状态模式切换、战场仇恨值模块等等….还有其它一些古古怪怪的功能就不一一列举了，相关功能可查看视频或下载Demo测试。</p><p>当初的本意是：工作两年之后，总结一下经验来着。我思索着，开始之前，可是还打算自己做做高端点内容，比如 写写Shader，弄出一套“高端、大气、上档次”的效果来。<br>但是，果然如果真想那样的话，就不应该花时间去做“逻辑”，而是纯粹像“Demo”这个目的去做才行的。一旦开始逻辑，各种各样的地方都开始要时间，大量的时间。</p><p>然后，然后就没空去管那些什么高档的效果了。</p><p>当然着重优化过的，是代码的性能——毕竟边码代码也是边在设计。<br>比如代码中尽量避免过多GC，使用对象池来装技能特效啊、魔法阵什么的，还有大部分功能(UI)刷新之类的，都是靠的事件和委托，所以也是省事省力。UI上不频繁更新，基本上就没多大额外消耗。<br>平时游戏逻辑运行时的消耗，基本上都是最小的：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_9.jpg" alt="性能"></p><p>(这儿指的是真的只是代码的性能，美术资源我就管不上了，毕竟是到处找的第三方美术资源插件了，所以也根本无从“监管”。)<br>(2017.2.22:特别是天气系统和水资源插件！从上图也可以看出来了，主要消耗是在Camera那儿，另外昨天我才发现，那两个插件消耗非常地巨大，基本上60%的性能被水资源插件吃了，还有一部分是天气系统！这两个插件当初使用的时候，还都会每帧造成大量GC【我记得那两个插件更新Material，竟然直接是每帧去获取的Materials的数组，不出GC才怪了】，还是我自己去优化的——至于渲染这块儿….看上图就知道，开发的时候太流畅了以至于根本没注意到它们的巨大消耗，昨天朋友玩的时候，卡爆了稍微看了下，才发现了这两个的渲染问题——虽说水确实比较真实，但是也太坑性能了[记得当初在Assetstore评价上也看见过有老外在跟作者抱怨…但是也没怎么在意])<br>(所以，建议还是好点的机器运行吧——或者在系统设置内，把性能设置调低一点，会好些)<br>(PS:我才不会承认我的代码有性能问题！o(︶︿︶)o)</p><p>剧情使用的是之前自己写的两个Unity的插件StoryEditor和DialogEditor，两个结合起来用，虽然跟当初设计编辑器的用法有些不一样了，不过效果却还是挺不错的。比如说，下图就是游戏刚开始的一个自主剧情的一部分：</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-1.jpg" alt="剧情"></p><p>这些很容易就可以添加、修改了，虽然后期因为太忙，已经懒得给新加的功能写编辑器，不过，多数都是可以拖拖拽拽就搞定了。<br>换句话说，后期…..除了AI（因为我又把AI从行为树改成状态机实现了，所以得写代码），除非要改（新增）什么功能，否则其它都跟程序关联不大了。</p><p>然后，因为考虑到在家两个月了，再自个做下去…吃着老本实在让人越来越不淡定了。</p><p>所以决定还是先找个工作吧。后续内容，工作之余空闲之时也可以做，只是进度会很慢吧…大概。</p><p>另外，在计划这个Demo的时候，正好玩了一下曾经玩过的一个游戏《无限世界》，所以，属性设计就参考了那个游戏。</p><p>啊，事到临头果然写不出来什么东西了啊！<br>平时想到什么还是应该记下来！<br>先就这样了，有什么再补充吧。</p><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h4><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_1.jpg"></p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_2.jpg"></p><p>这是个人信息页面，左侧为基本信息，，右侧为强化列表。</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_3.jpg"></p><p>这是属性页面….因为当时在玩《无限世界》，所以参考那个游戏的属性，设计了一大堆的属性值。</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_4.jpg"></p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_5.jpg"></p><p>存档栏位无限制，每个存档都是单独作为一个独立二进制文件进行保存的。</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_6.jpg"></p><p>魔法，若无任何近战武器装备，默认情况下，会有一个最基础的攻击魔法攻击（造成纯物理伤害）。<br>想要学习新的魔法，必须获得“魔法书”，每个魔法或者技能都具有熟练度的属性，每使用一次，都会增加一点熟练度，当熟练度到达100%时，就会升级，并获得一点技能点数，通过使用技能点数，可以对技能进行不同方向选择性地强化。</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_7.jpg"></p><p>控制台——即一个简单的测试系统。</p><p><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/blogimages/oldpictures/2017.2.10-Game_8.jpg"></p><h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><p>2017年2月19日<br>昨天花了些功夫，我把源码整理上传至百度盘了。今天在贴吧发了一个帖子(<a target="_blank" rel="noopener" href="http://tieba.baidu.com/p/4987823045">链接</a>)，将源码也一并发了出去。<br>毕竟，当我说出“我要开始找工作了，这个版本就是…”的时候，几乎就意味着这个游戏、或者或者说Demo差不多就如此了。<br>这是一种非常玄妙的感觉，在这时候，所有与此相关的功能想法、构思….统统消失(或者说，在思维中变得不起眼了)。就算打开Unity的界面，看着熟悉的代码，兴趣也不再似之前那般深刻了。<br>到了晚上，也不会再“忍不住”思考功能、下一步计划，简而言之，不会因此而失眠了。<br>这几天也一直有打开Unity，不过只是修复了一些看不下去的Bug而已，新的功能，感觉就“没劲”去实现了。<br>真是…非常奇怪。<br>所以，暂且如此吧。</p><div class="tags-container-bottom"><i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/Demo/">#Demo</a></div><br><br><hr><script type="text/javascript" src="https://fastly.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><div id="vcomments"></div><script>new Valine({el:"#vcomments",appId:"MsaVbSzIr9cIfikihDExdun9-gzGzoHsz",appKey:"Bj6SEFUBomrLOTWx9B8S6zQH",placeholder:"请输入评论内容~",avatar:"mp",visitor:!1})</script></div><div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50"><hr class="dn-l mw4 black-50 mt5"><div class="mt5 mt0-l site-author"><article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3"><div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width:6rem"><img src="https://fastly.jsdelivr.net/gh/CWHISME/CWHISME.github.io@master/img/photo.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="CWHISME"></div><div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">悲观主义的末日</div></article></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>分类</h3><p><a href="/categories/Demo/">Demo</a></p></div><hr class="dn-l mw4 black-50 mt5"><div class="mt5 tc tl-l"><h3>近期文章</h3><p><a href="/2022/12/10/%E5%8D%8F%E5%8F%98%E5%92%8C%E9%80%86%E5%8F%98/">协变和逆变</a></p><p><a href="/2022/12/06/Unity%E7%9A%84%E9%98%B4%E5%BD%B1%E4%B8%8E%E5%85%89%E7%85%A7%E7%83%98%E7%84%99/">Unity 的阴影与光照烘焙</a></p><p><a href="/2022/11/23/%E6%89%93%E5%8C%85AssetBundle%E5%9F%BA%E7%A1%80%E8%A7%84%E5%88%99%E6%95%B4%E7%90%86/">打包 AssetBundle 的基础规则整理</a></p><p><a href="/2022/11/18/StringBuilder%E6%89%A9%E5%AE%B9%E8%A7%84%E5%88%99%E7%A0%94%E7%A9%B6/">StringBuilder 扩容规则研究</a></p><p><a href="/2022/11/17/%E6%B5%8B%E8%AF%95%E6%89%8B%E5%8A%A8%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">简单测试手动垃圾回收</a></p></div></div></div></div></div></div><div class="bg-1 ph2 ph5-ns pv5"><div class="mv8"><div class="center tc"><div class="dib mh3"><a class="f3 f2-ns white dim" href="https://github.com/CWHISME" target="_blank"><i class="fa fa-github"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="mailto:cwhisme@126.com" target="_blank"><i class="fa fa-envelope"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white dim" href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div></div><div class="f6 f5-ns center tc white pt5 fw3">Copyright © 2021 | Design & Hexo <a class="link dim white" target="_blank" rel="noopener" href="https://github.com/klugjo/hexo-theme-anodyne/">Jonathan Klughertz</a> | Modify By CWHISME</div></div></div></body></html>