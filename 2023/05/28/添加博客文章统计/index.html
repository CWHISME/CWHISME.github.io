<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="CWHISME" href="https://wangjiaying.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="CWHISME" href="https://wangjiaying.top/atom.xml"><link rel="alternate" type="application/json" title="CWHISME" href="https://wangjiaying.top/feed.json"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="博客"><link rel="canonical" href="https://wangjiaying.top/2023/05/28/%E6%B7%BB%E5%8A%A0%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1/"><title>优化博客加载、添加文章统计等 - 博客 | Jiaying's Note = CWHISME = 人不能没有梦想，也要有足够的敬畏</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">优化博客加载、添加文章统计等</h1><div class="meta"><span class="item" title="创建时间：2023-05-28 12:19:26"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-05-28T12:19:26+08:00">2023-05-28</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>6.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>6 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Jiaying's Note</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="/images/coverimages/large/106623191_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/97610662_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/86404256_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/5e48a8ffd2353abeb139ffe48fa7b04bdc301799_raw.webp"></li><li class="item" data-background-image="/images/coverimages/large/81113906_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/6833939bly1gicli9lfebj20zk0m84qp.webp"></li></ul></div><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div></header><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope="" itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a href="/categories/%E5%8D%9A%E5%AE%A2/" itemprop="item" rel="index" title="分类于 博客"><span itemprop="name">博客</span></a><meta itemprop="position" content="1"></span></div><article itemscope="" itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://wangjiaying.top/2023/05/28/%E6%B7%BB%E5%8A%A0%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/../img/avator"><meta itemprop="name" content="WangJiaYing"><meta itemprop="description" content="人不能没有梦想，也要有足够的敬畏, 己所不欲，勿施于人"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="CWHISME"></span><div class="body md" itemprop="articleBody"><h1 id="前言"><a class="anchor" href="#前言">#</a> 前言</h1><p>本来最开始只是因为 <code>JsDeliver</code> ... 又又又挂了，导致部分用到的 CDN 在家里访问不了 —— 本来上次就已经把大部分脚本引用从 <code>JsDeliver</code> 切换到 <code>Staticfile</code> 了，然而还是有少几个在 <code>Staticfile</code> 没有的导致没法换<br>然后就发现，一旦这『少数』脚本出了问题，网页就会一直卡在那儿等它... 等半天真的是</p><p>于是就想办法搞，比如 fancybox、justifiedGallery、jquery、valine、whatwg-fetch 等</p><h1 id="处理"><a class="anchor" href="#处理">#</a> 处理</h1><p>之前 <code>fancybox</code> 、 <code>justifiedGallery</code> 、 <code>jquery</code> 三个是由原 <code>Shoka</code> 作者合并申请的：</p><blockquote><p>#! DO NOT EDIT THE FOLLOWING <code>vendors</code> SETTINGS<br>#! UNLESS YOU KNOW WHAT YOU ARE DOING<br>#! Script dependencies will be combined with jsDelivr (<span class="exturl" data-url="aHR0cDovL2Nkbi5qc2RlbGl2ci5uZXQ=">cdn.jsdelivr.net</span>)</p></blockquote><p>于是先是把合并的拆开，找地方再把拆开的给一一引用起来，弄好后又发现新问题：右键页面空白处，也会弹出图片菜单，开始还以为我引用搞出问题了，结果测试半天发现，不是 <code>fancybox</code> 那一坨的问题...</p><p>找不到原因了，反正也基本没用过，于是干脆直接删了，然后禁用图片点击</p><p>而后，又回到最开始界面卡加载慢的原因： <code>whatwg-fetch</code> ，查到原仓库，看到描述说是为了兼容 <code>polifill</code> 而写的，另外已经两年没更新了</p><p>这个 CDN 国内找了几个都没有，考虑到目前新浏览器已经是自己支持 <code>fetch</code> 操作了，于是调了一阵子还是将其『瘦身』掉了</p><h1 id="页顶大图修改"><a class="anchor" href="#页顶大图修改">#</a> 页顶大图修改</h1><p>然后去搜索了一下网上同样使用 <code>Shoka</code> 的，结果基本全挂了，少数几个还能正常访问的，例如 <span class="exturl" data-url="aHR0cHM6Ly93d3cubGF2ZW5kZXJkaC5jbg==">lavenderdh</span></p><p>然后... 看到<span class="exturl" data-url="aHR0cHM6Ly93d3cubGF2ZW5kZXJkaC5jbi9wb3N0cy8zOTI4OTY2Mjg3Lw=="> lavenderdh 文章</span> ，是说把页顶图片放大至全屏的修改 —— 这个本来以前刚换 <code>Shoka</code> 的时候就见过，这次感觉：哎，还不错，于是加上了</p><h1 id="添加文章统计"><a class="anchor" href="#添加文章统计">#</a> 添加文章统计</h1><p>然后，顺便翻了下博主的主页 —— 虽然看着已经很久没更新了，不过页面的文章统计功能这次吸引了我的注意，再一翻，竟然还写了相关文章记录的，于是参考着给我的也加上。</p><p>跟着步骤还是挺顺利，然而博主的嵌入方式有点不优雅... 好像有点问题，我想把这功能加入主题配置中，然后改成按需加载。</p><p>于是... 花费的研究时间就足以让我也写篇文章记录一下了。</p><h2 id="图表显示问题"><a class="anchor" href="#图表显示问题">#</a> 图表显示问题</h2><p>首先，图表显示有点问题，例如统计图只显示当前一个月的、饼图重叠等...</p><p>比如：</p><p><img data-src="/blogimages/2023/2023-05-28/Snipaste_2023-05-31_11-09-37.jpg" alt=""></p><p>跟着博主参考的链接进去看了下，一通改，算是修好了</p><h2 id="发布日历显示问题"><a class="anchor" href="#发布日历显示问题">#</a> 发布日历显示问题</h2><p>这个功能该是博主 <span class="exturl" data-url="aHR0cHM6Ly93d3cubGF2ZW5kZXJkaC5jbi9zdGF0aXN0aWNzLw==">lavenderdh</span> 自己加的，然而在我这有些问题 —— 博主上边显示的是 <code>每一年</code> 的，到我这又不对劲，就只有一年的了</p><p>另外整体显示极小：大概是因为一年日期的网格，没法填满宽度导致的</p><p>后面对比了下网页源码上图表数据代码：</p><p>我的 (博主博文贴出来的)：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'heatmap'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token literal-property property">coordinateSystem</span><span class="token operator">:</span> <span class="token string">'calendar'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token literal-property property">calendarIndex</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token literal-property property">data</span><span class="token operator">:</span> $<span class="token punctuation">{</span>datePosts<span class="token punctuation">}</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">}</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><p>博主的：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></pre></td></tr><tr><td data-num="2"></td><td><pre>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'heatmap'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token literal-property property">coordinateSystem</span><span class="token operator">:</span> <span class="token string">'calendar'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token literal-property property">calendarIndex</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token literal-property property">data</span><span class="token operator">:</span> </pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">}</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'heatmap'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token literal-property property">coordinateSystem</span><span class="token operator">:</span> <span class="token string">'calendar'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token literal-property property">calendarIndex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token literal-property property">data</span><span class="token operator">:</span> </pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">}</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'heatmap'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token literal-property property">coordinateSystem</span><span class="token operator">:</span> <span class="token string">'calendar'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token literal-property property">calendarIndex</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token literal-property property">data</span><span class="token operator">:</span> </pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">}</span><span class="token punctuation">]</span></pre></td></tr></tbody></table></figure><p>这代码完全不一样了好吧... 其它诸如格子大小不对劲、偏移导致年份、星期显示不出来也是，可能是博主后面改了，没更新博文</p><p>于是对比着生成的 HTML 网页源码改了下，把显示宽度问题解决了，至于统计多年提交... 想了想放弃了，显示一年也行吧，还要 Git 上提交记录不也只展示最近一年么？</p><p>—— 不然改起来又要研究咋动态去生成 (不然总不可能直接写死的吧？也许还真是写死的...？看着 <span class="exturl" data-url="aHR0cHM6Ly93d3cubGF2ZW5kZXJkaC5jbi9zdGF0aXN0aWNzLw==">lavenderdh 的统计页面</span> 切换主题的代码，手动设置了三个日历的数据)<br>在这里浪费的时间够多了，本来是因为昨天在写 <a href="/2023/05/27/Cinemachine%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/" title="Cinemachine文档整理翻译">Cinemachine文档整理翻译</a> 文章的时候，本地预览看到网页显示比较慢，结果......</p><h2 id="延迟加载执行问题"><a class="anchor" href="#延迟加载执行问题">#</a> 延迟加载执行问题</h2><p>原本的嵌入方式，第一次 fetch 页面（不是刷新），会导致什么都没有，白屏<br>主要原因是：操作代码是 JS，而且嵌入网页中的，引用却是外部的 Script：<span class="exturl" data-url="aHR0cHM6Ly9jZG4uc3RhdGljZmlsZS5vcmcvZWNoYXJ0cy81LjQuMi9lY2hhcnRzLm1pbi5qcw==">https://cdn.staticfile.org/echarts/5.4.2/echarts.min.js</span></p><p>导致在 <code>echarts</code> 本身的 Script 还没拉取下来之前，先一步执行自己的逻辑代码，就要遭（这是分析了一阵流程发现的）</p><ul><li>博主说的解决方式是直接全局引用 <code>echarts</code> ，这个后续我也尝试过</li></ul><p>首先，按照原本的做法把功能弄了进来，并且修改为了配置模式：</p><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># statistics 文章统计功能</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token key atrule">postStatistics</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token key atrule">beginDate</span><span class="token punctuation">:</span> 2015<span class="token punctuation">-</span><span class="token number">12</span> <span class="token comment">#开始统计日期</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token key atrule">tagCount</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment">#统计标签个数</span></pre></td></tr></tbody></table></figure><p>然后，意图采用延迟加载的方式去解决这个问题，发现没能解决，也是这时候有点意识到问题了</p><p>想了想又研究着改成全局加载做尝试，然而发现 <code>echarts</code> 这东西... 内容有点丰富，单文件都 <code>999KB</code> ，约等于 <code>1M</code> 大小了</p><p>要是只有几十 KB 我倒无所谓了，但这种大小全局加载，就感觉太不优雅了，还是想改成 <code>按需加载</code> 的方式</p><p>Shako 自带的延迟加载逻辑一样不行（ <code>vendorJs(XX)</code> ）</p><p>后面又想到，既然现在的主要问题是内嵌入网页的代码先执行导致，那么将两者都变成外部引用呢？</p><p>如果尝试的话，问题就变成如何动态生成可以被链接的代码了，因为 <code>Shoka</code> 默认是把所有生成代码合并成一个 <code>app.js</code> ，加那里边又是代码膨胀了</p><hr><p>最后加到了新创建的那个 <code>charts.js</code> 里边</p><p>主要是 <code>echarts-init</code> 执行初始化，其中代码是调用生成动态的那几个图表函数：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>script id<span class="token operator">=</span><span class="token string">"echartsInit"</span><span class="token operator">&gt;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">switchPostChart</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      <span class="token comment">// 这里为了统一颜色选取的是 “明暗模式” 下的两种字体颜色，也可以自己定义</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token keyword">let</span> color <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-theme'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">'#fff'</span> <span class="token operator">:</span> <span class="token string">'#000'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'posts-calendar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="6"></td><td><pre>          <span class="token keyword">let</span> postsCalendarNew <span class="token operator">=</span> postsCalendarOption</pre></td></tr><tr><td data-num="7"></td><td><pre>          postsCalendarNew<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="8"></td><td><pre>          postsCalendarNew<span class="token punctuation">.</span>title<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="9"></td><td><pre>          postsCalendarNew<span class="token punctuation">.</span>visualMap<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="10"></td><td><pre>          postsCalendarNew<span class="token punctuation">.</span>calendar<span class="token punctuation">.</span>itemStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="11"></td><td><pre>          postsCalendarNew<span class="token punctuation">.</span>calendar<span class="token punctuation">.</span>yearLabel<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="12"></td><td><pre>          postsCalendarNew<span class="token punctuation">.</span>calendar<span class="token punctuation">.</span>monthLabel<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="13"></td><td><pre>          postsCalendarNew<span class="token punctuation">.</span>calendar<span class="token punctuation">.</span>dayLabel<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="14"></td><td><pre>          postsCalendar<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>postsCalendarNew<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token punctuation">}</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'posts-chart'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="17"></td><td><pre>          <span class="token keyword">let</span> postsOptionNew <span class="token operator">=</span> postsOption</pre></td></tr><tr><td data-num="18"></td><td><pre>          postsOptionNew<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="19"></td><td><pre>          postsOptionNew<span class="token punctuation">.</span>title<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="20"></td><td><pre>          postsOptionNew<span class="token punctuation">.</span>xAxis<span class="token punctuation">.</span>axisLine<span class="token punctuation">.</span>lineStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="21"></td><td><pre>          postsOptionNew<span class="token punctuation">.</span>yAxis<span class="token punctuation">.</span>axisLine<span class="token punctuation">.</span>lineStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="22"></td><td><pre>          postsChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>postsOptionNew<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>      <span class="token punctuation">}</span></pre></td></tr><tr><td data-num="24"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'tags-chart'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="25"></td><td><pre>          <span class="token keyword">let</span> tagsOptionNew <span class="token operator">=</span> tagsOption</pre></td></tr><tr><td data-num="26"></td><td><pre>          tagsOptionNew<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="27"></td><td><pre>          tagsOptionNew<span class="token punctuation">.</span>title<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="28"></td><td><pre>          tagsOptionNew<span class="token punctuation">.</span>xAxis<span class="token punctuation">.</span>axisLine<span class="token punctuation">.</span>lineStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="29"></td><td><pre>          tagsOptionNew<span class="token punctuation">.</span>yAxis<span class="token punctuation">.</span>axisLine<span class="token punctuation">.</span>lineStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="30"></td><td><pre>          tagsChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>tagsOptionNew<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre>      <span class="token punctuation">}</span></pre></td></tr><tr><td data-num="32"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'categories-chart'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="33"></td><td><pre>          <span class="token keyword">let</span> categoriesOptionNew <span class="token operator">=</span> categoriesOption</pre></td></tr><tr><td data-num="34"></td><td><pre>          categoriesOptionNew<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="35"></td><td><pre>          categoriesOptionNew<span class="token punctuation">.</span>title<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="36"></td><td><pre>          categoriesOptionNew<span class="token punctuation">.</span>legend<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span>color <span class="token operator">=</span> color</pre></td></tr><tr><td data-num="37"></td><td><pre>          categoriesChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>categoriesOptionNew<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre>      <span class="token punctuation">}</span></pre></td></tr><tr><td data-num="39"></td><td><pre>  <span class="token punctuation">}</span></pre></td></tr><tr><td data-num="40"></td><td><pre>  document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"theme"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>switchPostChart<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>  <span class="token keyword">function</span> <span class="token function">venderJs</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="42"></td><td><pre>  <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">[</span><span class="token string">'echartload'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="45"></td><td><pre>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>      <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token punctuation">}</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    script<span class="token punctuation">.</span>onload <span class="token operator">=</span> script<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></pre></td></tr><tr><td data-num="50"></td><td><pre>      script<span class="token punctuation">.</span>onload <span class="token operator">=</span> script<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>      script <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token punctuation">}</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'${hexo.theme.config.vendors.js.echart}'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>    window<span class="token punctuation">[</span><span class="token string">'echartload'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>    document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>  <span class="token punctuation">}</span></pre></td></tr><tr><td data-num="58"></td><td><pre>  <span class="token function">venderJs</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></pre></td></tr><tr><td data-num="59"></td><td><pre>    <span class="token function">Do_postsCalendar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    <span class="token function">Do_postsChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>    <span class="token function">Do_tagsChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token function">Do_categoriesChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>  <span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></tbody></table></figure><p>外面统计页面，就只保持最低限度的几个 HTML 配置了：</p><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>---</pre></td></tr><tr><td data-num="2"></td><td><pre>title: 文章统计</pre></td></tr><tr><td data-num="3"></td><td><pre>date: 2023-5-28</pre></td></tr><tr><td data-num="4"></td><td><pre>copyright: false</pre></td></tr><tr><td data-num="5"></td><td><pre>echart: true</pre></td></tr><tr><td data-num="6"></td><td><pre>---</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">&lt;!-- 文章发布日历 --&gt;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>posts-calendar<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">&lt;!-- 文章发布时间统计图 --&gt;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>posts-chart<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">&lt;!-- 文章标签统计图 --&gt;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tags-chart<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">&lt;!-- 文章分类统计图 --&gt;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>categories-chart<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 450px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">&lt;!-- 初始化使用 --&gt;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>echarts-init<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></pre></td></tr></tbody></table></figure><p>效果如下所示：</p><div id="posts-calendar" style="border-radius:8px;height:300px;padding:10px"></div>
  <script id="postsCalendar">
  function Do_postsCalendar(){
    var color = document.documentElement.getAttribute('data-theme') === null ? '#000' : '#fff'
    var postsCalendar = echarts.init(document.getElementById('posts-calendar'), 'light');
    var postsCalendarOption = {
      textStyle: {
        color: color
      },
      title: {
          top: 0,
          text: '文章发布日历',
          left: 'center',
          textStyle: {
              color: color
          }
      },
      tooltip: {
          formatter: function (obj) {
              var value = obj.value;
              return '<div style="font-size: 14px;">' + value[0] + '：' + value[1] + '</div>';
          }
      },
      visualMap: {
          show: true,
          showLabel: true,
          categories: [0, 1, 2, 3, 4],
          calculable: true,
          textStyle:{
            color: color
          },
          inRange: {
              symbol: 'rect',
              color: ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127']
          },
          itemWidth: 12,
          itemHeight: 12,
          orient: 'horizontal',
          left: 'center',
          bottom: 80
      },
      calendar: {
          left: 'center',
          range: ["2022-10-06", "2023-10-06"],
          left: 55,
          cellSize: ['auto', 13],
          splitLine: {
              show: true
          },
          itemStyle: {
              color: '#111',
              borderColor: '#fff',
              borderWidth: 2
          },
          yearLabel: {
              formatter: '{start} ~ {end}',
              show: true,
              color: color
          },
          monthLabel: {
              nameMap: 'cn',
              fontSize: 11,
              color: color
          },
          dayLabel: {
              formatter: '{start}  1st',
              nameMap: 'cn',
              fontSize: 11,
              color: color
          }
      },
      series: [{
          type: 'heatmap',
          coordinateSystem: 'calendar',
          calendarIndex: 0,
          data: [["2022-10-06", 0], ["2022-10-07", 0], ["2022-10-08", 0], ["2022-10-09", 0], ["2022-10-10", 0], ["2022-10-11", 0], ["2022-10-12", 0], ["2022-10-13", 0], ["2022-10-14", 0], ["2022-10-15", 0], ["2022-10-16", 0], ["2022-10-17", 0], ["2022-10-18", 0], ["2022-10-19", 0], ["2022-10-20", 0], ["2022-10-21", 0], ["2022-10-22", 0], ["2022-10-23", 0], ["2022-10-24", 0], ["2022-10-25", 0], ["2022-10-26", 1], ["2022-10-27", 0], ["2022-10-28", 0], ["2022-10-29", 0], ["2022-10-30", 0], ["2022-10-31", 1], ["2022-11-01", 0], ["2022-11-02", 0], ["2022-11-03", 1], ["2022-11-04", 0], ["2022-11-05", 0], ["2022-11-06", 0], ["2022-11-07", 0], ["2022-11-08", 1], ["2022-11-09", 0], ["2022-11-10", 0], ["2022-11-11", 0], ["2022-11-12", 0], ["2022-11-13", 0], ["2022-11-14", 0], ["2022-11-15", 0], ["2022-11-16", 0], ["2022-11-17", 1], ["2022-11-18", 1], ["2022-11-19", 0], ["2022-11-20", 0], ["2022-11-21", 0], ["2022-11-22", 0], ["2022-11-23", 1], ["2022-11-24", 0], ["2022-11-25", 0], ["2022-11-26", 0], ["2022-11-27", 0], ["2022-11-28", 0], ["2022-11-29", 0], ["2022-11-30", 0], ["2022-12-01", 0], ["2022-12-02", 0], ["2022-12-03", 0], ["2022-12-04", 0], ["2022-12-05", 0], ["2022-12-06", 1], ["2022-12-07", 0], ["2022-12-08", 0], ["2022-12-09", 0], ["2022-12-10", 1], ["2022-12-11", 0], ["2022-12-12", 0], ["2022-12-13", 0], ["2022-12-14", 0], ["2022-12-15", 0], ["2022-12-16", 0], ["2022-12-17", 1], ["2022-12-18", 0], ["2022-12-19", 1], ["2022-12-20", 0], ["2022-12-21", 0], ["2022-12-22", 0], ["2022-12-23", 1], ["2022-12-24", 0], ["2022-12-25", 0], ["2022-12-26", 0], ["2022-12-27", 0], ["2022-12-28", 3], ["2022-12-29", 0], ["2022-12-30", 1], ["2022-12-31", 0], ["2023-01-01", 1], ["2023-01-02", 0], ["2023-01-03", 0], ["2023-01-04", 0], ["2023-01-05", 0], ["2023-01-06", 0], ["2023-01-07", 0], ["2023-01-08", 0], ["2023-01-09", 0], ["2023-01-10", 0], ["2023-01-11", 0], ["2023-01-12", 0], ["2023-01-13", 0], ["2023-01-14", 0], ["2023-01-15", 0], ["2023-01-16", 0], ["2023-01-17", 0], ["2023-01-18", 0], ["2023-01-19", 0], ["2023-01-20", 0], ["2023-01-21", 2], ["2023-01-22", 0], ["2023-01-23", 0], ["2023-01-24", 0], ["2023-01-25", 0], ["2023-01-26", 0], ["2023-01-27", 0], ["2023-01-28", 0], ["2023-01-29", 0], ["2023-01-30", 1], ["2023-01-31", 0], ["2023-02-01", 1], ["2023-02-02", 0], ["2023-02-03", 0], ["2023-02-04", 0], ["2023-02-05", 1], ["2023-02-06", 0], ["2023-02-07", 0], ["2023-02-08", 1], ["2023-02-09", 0], ["2023-02-10", 0], ["2023-02-11", 0], ["2023-02-12", 0], ["2023-02-13", 0], ["2023-02-14", 0], ["2023-02-15", 0], ["2023-02-16", 0], ["2023-02-17", 1], ["2023-02-18", 0], ["2023-02-19", 0], ["2023-02-20", 0], ["2023-02-21", 0], ["2023-02-22", 0], ["2023-02-23", 0], ["2023-02-24", 1], ["2023-02-25", 0], ["2023-02-26", 0], ["2023-02-27", 0], ["2023-02-28", 0], ["2023-03-01", 0], ["2023-03-02", 0], ["2023-03-03", 0], ["2023-03-04", 0], ["2023-03-05", 0], ["2023-03-06", 0], ["2023-03-07", 0], ["2023-03-08", 0], ["2023-03-09", 0], ["2023-03-10", 0], ["2023-03-11", 0], ["2023-03-12", 0], ["2023-03-13", 0], ["2023-03-14", 0], ["2023-03-15", 0], ["2023-03-16", 0], ["2023-03-17", 0], ["2023-03-18", 0], ["2023-03-19", 0], ["2023-03-20", 0], ["2023-03-21", 0], ["2023-03-22", 0], ["2023-03-23", 0], ["2023-03-24", 0], ["2023-03-25", 0], ["2023-03-26", 0], ["2023-03-27", 0], ["2023-03-28", 2], ["2023-03-29", 0], ["2023-03-30", 0], ["2023-03-31", 0], ["2023-04-01", 0], ["2023-04-02", 0], ["2023-04-03", 0], ["2023-04-04", 0], ["2023-04-05", 0], ["2023-04-06", 2], ["2023-04-07", 0], ["2023-04-08", 0], ["2023-04-09", 0], ["2023-04-10", 0], ["2023-04-11", 0], ["2023-04-12", 0], ["2023-04-13", 0], ["2023-04-14", 1], ["2023-04-15", 0], ["2023-04-16", 0], ["2023-04-17", 0], ["2023-04-18", 0], ["2023-04-19", 0], ["2023-04-20", 0], ["2023-04-21", 0], ["2023-04-22", 0], ["2023-04-23", 0], ["2023-04-24", 0], ["2023-04-25", 0], ["2023-04-26", 0], ["2023-04-27", 1], ["2023-04-28", 0], ["2023-04-29", 0], ["2023-04-30", 0], ["2023-05-01", 1], ["2023-05-02", 0], ["2023-05-03", 0], ["2023-05-04", 0], ["2023-05-05", 0], ["2023-05-06", 0], ["2023-05-07", 0], ["2023-05-08", 0], ["2023-05-09", 0], ["2023-05-10", 0], ["2023-05-11", 1], ["2023-05-12", 1], ["2023-05-13", 0], ["2023-05-14", 0], ["2023-05-15", 0], ["2023-05-16", 0], ["2023-05-17", 0], ["2023-05-18", 0], ["2023-05-19", 0], ["2023-05-20", 0], ["2023-05-21", 0], ["2023-05-22", 0], ["2023-05-23", 0], ["2023-05-24", 0], ["2023-05-25", 0], ["2023-05-26", 0], ["2023-05-27", 1], ["2023-05-28", 1], ["2023-05-29", 1], ["2023-05-30", 0], ["2023-05-31", 0], ["2023-06-01", 0], ["2023-06-02", 0], ["2023-06-03", 0], ["2023-06-04", 1], ["2023-06-05", 0], ["2023-06-06", 0], ["2023-06-07", 0], ["2023-06-08", 0], ["2023-06-09", 1], ["2023-06-10", 0], ["2023-06-11", 1], ["2023-06-12", 1], ["2023-06-13", 0], ["2023-06-14", 0], ["2023-06-15", 0], ["2023-06-16", 1], ["2023-06-17", 0], ["2023-06-18", 0], ["2023-06-19", 0], ["2023-06-20", 0], ["2023-06-21", 0], ["2023-06-22", 0], ["2023-06-23", 0], ["2023-06-24", 0], ["2023-06-25", 0], ["2023-06-26", 1], ["2023-06-27", 0], ["2023-06-28", 0], ["2023-06-29", 0], ["2023-06-30", 0], ["2023-07-01", 0], ["2023-07-02", 0], ["2023-07-03", 0], ["2023-07-04", 0], ["2023-07-05", 0], ["2023-07-06", 0], ["2023-07-07", 0], ["2023-07-08", 0], ["2023-07-09", 0], ["2023-07-10", 1], ["2023-07-11", 0], ["2023-07-12", 1], ["2023-07-13", 0], ["2023-07-14", 0], ["2023-07-15", 0], ["2023-07-16", 0], ["2023-07-17", 0], ["2023-07-18", 0], ["2023-07-19", 1], ["2023-07-20", 0], ["2023-07-21", 0], ["2023-07-22", 0], ["2023-07-23", 0], ["2023-07-24", 0], ["2023-07-25", 0], ["2023-07-26", 0], ["2023-07-27", 0], ["2023-07-28", 0], ["2023-07-29", 0], ["2023-07-30", 0], ["2023-07-31", 0], ["2023-08-01", 0], ["2023-08-02", 0], ["2023-08-03", 0], ["2023-08-04", 1], ["2023-08-05", 0], ["2023-08-06", 0], ["2023-08-07", 0], ["2023-08-08", 0], ["2023-08-09", 0], ["2023-08-10", 0], ["2023-08-11", 0], ["2023-08-12", 0], ["2023-08-13", 0], ["2023-08-14", 0], ["2023-08-15", 0], ["2023-08-16", 0], ["2023-08-17", 0], ["2023-08-18", 0], ["2023-08-19", 0], ["2023-08-20", 0], ["2023-08-21", 1], ["2023-08-22", 0], ["2023-08-23", 0], ["2023-08-24", 0], ["2023-08-25", 0], ["2023-08-26", 0], ["2023-08-27", 0], ["2023-08-28", 0], ["2023-08-29", 0], ["2023-08-30", 0], ["2023-08-31", 0], ["2023-09-01", 0], ["2023-09-02", 0], ["2023-09-03", 0], ["2023-09-04", 0], ["2023-09-05", 0], ["2023-09-06", 0], ["2023-09-07", 0], ["2023-09-08", 0], ["2023-09-09", 0], ["2023-09-10", 0], ["2023-09-11", 0], ["2023-09-12", 0], ["2023-09-13", 0], ["2023-09-14", 0], ["2023-09-15", 0], ["2023-09-16", 0], ["2023-09-17", 0], ["2023-09-18", 1], ["2023-09-19", 0], ["2023-09-20", 0], ["2023-09-21", 0], ["2023-09-22", 0], ["2023-09-23", 0], ["2023-09-24", 0], ["2023-09-25", 1], ["2023-09-26", 0], ["2023-09-27", 0], ["2023-09-28", 0], ["2023-09-29", 0], ["2023-09-30", 0], ["2023-10-01", 0], ["2023-10-02", 1], ["2023-10-03", 0], ["2023-10-04", 0], ["2023-10-05", 0], ["2023-10-06", 1]]
      }]
    };
    postsCalendar.setOption(postsCalendarOption);
    window.addEventListener("resize", () => { 
      postsCalendar.resize();
    });
  }
    </script><div id="posts-chart" style="border-radius:8px;height:300px;padding:10px"></div>
    <script id="postsChart">
    function Do_postsChart(){
      var color = document.documentElement.getAttribute('data-theme') === null ? '#000' : '#fff'
      var postsChart = echarts.init(document.getElementById('posts-chart'), 'light');
      var postsOption = {
        textStyle: {
          color: color
        },
        title: {
          text: '文章发布统计图',
          x: 'center',
          textStyle: {
            color: color
          }
        },
        tooltip: {
          trigger: 'axis'
        },
        xAxis: {
          name: '日期',
          type: 'category',
          axisTick: {
            show: false
          },
          axisLine: {
            show: true,
            lineStyle: {
              color: color
            }
          },
          data: ["2015-12","2016-01","2016-02","2016-03","2016-04","2016-05","2016-06","2016-07","2016-08","2016-09","2016-10","2016-11","2016-12","2017-01","2017-02","2017-03","2017-04","2017-05","2017-06","2017-07","2017-08","2017-09","2017-10","2017-11","2017-12","2018-01","2018-02","2018-03","2018-04","2018-05","2018-06","2018-07","2018-08","2018-09","2018-10","2018-11","2018-12","2019-01","2019-02","2019-03","2019-04","2019-05","2019-06","2019-07","2019-08","2019-09","2019-10","2019-11","2019-12","2020-01","2020-02","2020-03","2020-04","2020-05","2020-06","2020-07","2020-08","2020-09","2020-10","2020-11","2020-12","2021-01","2021-02","2021-03","2021-04","2021-05","2021-06","2021-07","2021-08","2021-09","2021-10","2021-11","2021-12","2022-01","2022-02","2022-03","2022-04","2022-05","2022-06","2022-07","2022-08","2022-09","2022-10","2022-11","2022-12","2023-01","2023-02","2023-03","2023-04","2023-05","2023-06","2023-07","2023-08","2023-09","2023-10"]
        },
        yAxis: {
          name: '文章篇数',
          type: 'value',
          splitLine: {
            show: false
          },
          axisTick: {
            show: false
          },
          axisLine: {
            show: true,
            lineStyle: {
              color: color
            }
          }
        },
        series: [{
          name: '文章篇数',
          type: 'line',
          smooth: true,
          lineStyle: {
              width: 0
          },
          showSymbol: false,
          itemStyle: {
            opacity: 1,
            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
              offset: 0,
              color: 'rgba(128, 255, 165)'
            },
            {
              offset: 1,
              color: 'rgba(253, 187, 236)'
            }])
          },
          areaStyle: {
            opacity: 1,
            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
              offset: 0,
              color: 'rgba(128, 255, 165)'
            }, {
              offset: 1,
              color: 'rgba(253, 187, 236)'
            }])
          },
          data: [5,0,0,0,5,3,2,2,2,0,1,3,1,1,6,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,3,2,0,4,5,1,2,1,1,2,0,0,0,0,0,1,3,1,2,2,5,9,4,5,2,4,6,6,3,2,2,2],
          markLine: {
            data: [{
              name: '平均值',
              type: 'average'
            }]
          }
        }]
      };
      postsChart.setOption(postsOption);
      window.addEventListener("resize", () => { 
        postsChart.resize();
      });
    }
      </script><div id="tags-chart" style="border-radius:8px;height:300px;padding:10px"></div>
  <script id="tagsChart">
  function Do_tagsChart(){
    var color = document.documentElement.getAttribute('data-theme') === null ? '#000' : '#fff'
    var tagsChart = echarts.init(document.getElementById('tags-chart'), 'light');
    var tagsOption = {
      textStyle: {
        color: color
      },
      title: {
        text: 'Top 10 标签统计图',
        x: 'center',
        textStyle: {
          color: color
        }
      },
      tooltip: {},
      xAxis: {
        name: '标签',
        type: 'category',
        axisTick: {
          show: false
        },
        axisLine: {
          show: true,
          lineStyle: {
            color: color
          }
        },
        data: ["Unity3D","笔记","C#","Shader","性能优化","工具","博客","总结","虚幻引擎","问题记录"]
      },
      yAxis: {
        name: '文章篇数',
        type: 'value',
        splitLine: {
          show: false
        },
        axisTick: {
          show: false
        },
        axisLine: {
          show: true,
          lineStyle: {
            color: color
          }
        }
      },
      series: [{
        name: '文章篇数',
        type: 'bar',
        data: [42,20,14,12,12,10,9,7,6,6],
        itemStyle: {
          opacity: 1,
          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
            offset: 0,
            color: 'rgba(171, 201, 255)'
          },
          {
            offset: 1,
            color: 'rgba(253, 187, 236)'
          }])
        },
        emphasis: {
          itemStyle: {
            opacity: 1,
            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
              offset: 0,
              color: 'rgba(171, 201, 255)'
            },
            {
              offset: 1,
              color: 'rgba(253, 187, 236)'
            }])
          }
        },
        markLine: {
          data: [{
            name: '平均值',
            type: 'average'
          }]
        }
      }]
    };
    tagsChart.setOption(tagsOption);
    window.addEventListener("resize", () => { 
      tagsChart.resize();
    });
  }
    </script><div id="categories-chart" style="border-radius:8px;height:450px;padding:10px"></div>
  <script id="categoriesChart">
  function Do_categoriesChart(){
    var color = document.documentElement.getAttribute('data-theme') === null ? '#000' : '#fff'
    var categoriesChart = echarts.init(document.getElementById('categories-chart'), 'light');
    var categoriesOption = {
      textStyle: {
        color: color
      },
      title: {
        text: '文章分类统计图',
        x: 'center',
        textStyle: {
          color: color
        }
      },
      legend: {
        top: '85%',
        textStyle: {
          color: color
        }
      },
      tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
      },
      series: [{
        name: '文章篇数',
        type: 'pie',
        radius: ['20%', '50%'],
        // radius: [30, 80],
        center: ['50%', '45%'],
        roseType: 'area',
        label: {
          formatter: "{b} : {c} ({d}%)"
        },
        data: [{"name":"Unity3D","value":51},{"name":"理论研究","value":13},{"name":"图形学","value":12},{"name":"C#","value":12},{"name":"阅读笔记","value":12},{"name":"博客","value":9},{"name":"其它","value":7},{"name":"工具","value":7},{"name":"性能优化","value":6},{"name":"虚幻引擎","value":6},{"name":"总结","value":5},{"name":"Demo","value":3},{"name":"游戏","value":3},{"name":"道","value":2},{"name":"C++","value":2},{"name":"生活","value":1}],
        itemStyle: {
          emphasis: {
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowColor: 'rgba(255, 255, 255, 0.5)'
          }
        }
      }]
    };
    categoriesChart.setOption(categoriesOption);
    window.addEventListener("resize", () => { 
      categoriesChart.resize();
    });
  }
    </script><div id="echarts-init"></div>
  <script id="echartsInit">
    function switchPostChart () {
      // 这里为了统一颜色选取的是 “明暗模式” 下的两种字体颜色，也可以自己定义
      let color = document.documentElement.getAttribute('data-theme') === null ? '#fff' : '#000'
      if (document.getElementById('posts-calendar')) {
          let postsCalendarNew = postsCalendarOption
          postsCalendarNew.textStyle.color = color
          postsCalendarNew.title.textStyle.color = color
          postsCalendarNew.visualMap.textStyle.color = color
          postsCalendarNew.calendar.itemStyle.color = color
          postsCalendarNew.calendar.yearLabel.color = color
          postsCalendarNew.calendar.monthLabel.color = color
          postsCalendarNew.calendar.dayLabel.color = color
          postsCalendar.setOption(postsCalendarNew)
      }
      if (document.getElementById('posts-chart')) {
          let postsOptionNew = postsOption
          postsOptionNew.textStyle.color = color
          postsOptionNew.title.textStyle.color = color
          postsOptionNew.xAxis.axisLine.lineStyle.color = color
          postsOptionNew.yAxis.axisLine.lineStyle.color = color
          postsChart.setOption(postsOptionNew)
      }
      if (document.getElementById('tags-chart')) {
          let tagsOptionNew = tagsOption
          tagsOptionNew.textStyle.color = color
          tagsOptionNew.title.textStyle.color = color
          tagsOptionNew.xAxis.axisLine.lineStyle.color = color
          tagsOptionNew.yAxis.axisLine.lineStyle.color = color
          tagsChart.setOption(tagsOptionNew)
      }
      if (document.getElementById('categories-chart')) {
          let categoriesOptionNew = categoriesOption
          categoriesOptionNew.textStyle.color = color
          categoriesOptionNew.title.textStyle.color = color
          categoriesOptionNew.legend.textStyle.color = color
          categoriesChart.setOption(categoriesOptionNew)
      }
  }
  document.getElementsByClassName("theme")[0].addEventListener("click", function () { setTimeout(switchPostChart, 200) });
  function venderJs(callback)
  {
    if(window['echartload'])
    {
      callback();
      return;
    }
    var script = document.createElement('script');
    script.onload = script.onreadystatechange = function() {
      script.onload = script.onreadystatechange = null;
      script = undefined;
      callback();
    };
    script.src = 'https://cdn.staticfile.org/echarts/5.4.2/echarts.min.js';
    window['echartload']=true;
    document.head.appendChild(script);
  }
  venderJs(function(){
    Do_postsCalendar();
    Do_postsChart();
    Do_tagsChart();
    Do_categoriesChart();
  })
  </script><h2 id="标签统计图显示不全"><a class="anchor" href="#标签统计图显示不全">#</a> 标签统计图显示不全</h2><p>主要发生在刻度过多时 —— 我加了个自定义的标签的配置，然后随便配了个 <code>15</code> 就出现了</p><p>参考 <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTc3NzMwL2FydGljbGUvZGV0YWlscy8xMDkzMDc1OTU=">柱状图 x 轴坐标显示不全</span> 可以解决 (但是压缩起来叠加会很难看，我又去掉了)</p><h2 id="其它"><a class="anchor" href="#其它">#</a> 其它</h2><h3 id="hexo-系统变得缓慢"><a class="anchor" href="#hexo-系统变得缓慢">#</a> Hexo 系统变得缓慢</h3><p>原因似乎是因为 <code>charts</code> 注册的 <code>after_render:html</code> 会对项目中生成的每个 <code>HTML</code> 作解析判断<br>想加入页面开关避免无谓解析呢，但是貌似已经获取不到 <code>page.XXX</code> 这种信息了，相当于页面已经渲染完毕，因此只能在最开始多判断一层，少解析一些速度会快点</p><h3 id="图表没有去重"><a class="anchor" href="#图表没有去重">#</a> 图表没有去重</h3><p>导致子分类会被单独归为另外一类，得做一次去重</p><h1 id="总结"><a class="anchor" href="#总结">#</a> 总结</h1><p>其它还修了一波其它问题，比如 <code>vendorJS</code> 函数会反复插入 <code>js</code> 脚本的 BUG (不知道是不是我改出来的)</p><p>就这样</p><p>对于 <code>echats</code> 统计功能，虽然不能说封装完美，至少做到了 <code>按需加载</code> ，不会因为第一次 <code>fetch</code> 进统计页面白屏，也不会因为一个页面使用就必须始终加载 —— 感觉这样才优雅一些</p><p>如果用我修改的主题的话，只需要新建一个 <code>statistics</code> 页面，直接就可以用了，统计开始时间也在 <code>config</code> 配置中：</p><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token comment"># statistics 文章统计功能</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token key atrule">postStatistics</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token key atrule">beginDate</span><span class="token punctuation">:</span> 2015<span class="token punctuation">-</span><span class="token number">12</span> <span class="token comment">#开始统计日期</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token key atrule">tagCount</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment">#统计标签个数</span></pre></td></tr></tbody></table></figure><p>周末时间折腾了一天搞这个，还是挺心疼的... 终于弄完了，这两天本来计划趁周末把算法之美收尾，然后将阅读笔记复习一遍上传博客的，结果尽搞其它去了...</p><p>一通操作下来，虽然感觉我已经可以做到自动生成 <span class="exturl" data-url="aHR0cHM6Ly93d3cubGF2ZW5kZXJkaC5jbi9zdGF0aXN0aWNzLw==">lavenderdh 的统计页面</span> 那种多年分的日历图<br>貌似其实挺简单的：理论上通过 <code>JSON.stringify</code> 将对应字典转换成 <code>json</code> 赋值给 <code>series</code> <code>heatmap</code> 就行了， <code>tagsChart</code> 就是一个很好的示例</p><p>不过考虑了下时间关系和本身效果 —— 还是先算了，本来也不是很重要的效果</p><p>今天待会儿先把博客弄规矩，以及 <a href="/2023/05/27/Cinemachine%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/" title="Cinemachine文档整理翻译">Cinemachine文档整理翻译</a> 再过一遍看有没有写的不通畅的，然后把 DOTS 笔记也上传一下</p><p>将算法之美的笔记整理成文章... 只能等明天或者后天再说了</p><p>不过... 这个 <span class="exturl" data-url="aHR0cHM6Ly9lY2hhcnRzLmFwYWNoZS5vcmcvZXhhbXBsZXMvemgvaW5kZXguaHRtbCNjaGFydC10eXBlLXBpZQ==">echarts</span> 确实厉害，效果相当好，以后有需要没准也用得上</p><h1 id="参考文章"><a class="anchor" href="#参考文章">#</a> 参考文章</h1><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cubGF2ZW5kZXJkaC5jbi9wb3N0cy8zMjY1MTczNzAxLw==">Shoka 主题：新增文章统计页面</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmV1cmtvbi5jb20vcG9zdC8xMjEzZWY4Mi5odG1s">Hexo 博客文章统计图</span></li></ul><div class="tags"><a href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag"><i class="ic i-tag"></i> 博客</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-06-04 19:42:34" itemprop="dateModified" datetime="2023-06-04T19:42:34+08:00">2023-06-04</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>WangJiaYing <i class="ic i-at"><em>@</em></i>CWHISME</li><li class="link"><strong>本文链接：</strong> <a href="https://wangjiaying.top/2023/05/28/%E6%B7%BB%E5%8A%A0%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1/" title="优化博客加载、添加文章统计等">https://wangjiaying.top/2023/05/28/添加博客文章统计/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/05/27/Cinemachine%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/" itemprop="url" rel="prev" data-background-image="/images/coverimages/large/79834784_p0.webp" title="Cinemachine文档整理翻译"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Unity3D</span><h3>Cinemachine文档整理翻译</h3></a></div><div class="item right"><a href="/2023/05/29/DOTS1-0-Metaverse%E5%A4%A7%E8%A1%8D%E7%A5%9E%E5%90%9B%E7%B3%BB%E5%88%97-%E7%AC%94%E8%AE%B0/" itemprop="url" rel="next" data-background-image="/images/coverimages/large/deef1a0cly8gy5pknvtagj21330rsdn3.webp" title="DOTS1.0(Metaverse大衍神君系列)-笔记"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Unity3D</span><h3>DOTS1.0(Metaverse大衍神君系列)-笔记</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%84%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B5%E9%A1%B6%E5%A4%A7%E5%9B%BE%E4%BF%AE%E6%94%B9"><span class="toc-number">3.</span> <span class="toc-text">页顶大图修改</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1"><span class="toc-number">4.</span> <span class="toc-text">添加文章统计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E8%A1%A8%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98"><span class="toc-number">4.1.</span> <span class="toc-text">图表显示问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E6%97%A5%E5%8E%86%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98"><span class="toc-number">4.2.</span> <span class="toc-text">发布日历显示问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E6%89%A7%E8%A1%8C%E9%97%AE%E9%A2%98"><span class="toc-number">4.3.</span> <span class="toc-text">延迟加载执行问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E7%BB%9F%E8%AE%A1%E5%9B%BE%E6%98%BE%E7%A4%BA%E4%B8%8D%E5%85%A8"><span class="toc-number">4.4.</span> <span class="toc-text">标签统计图显示不全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E5%AE%83"><span class="toc-number">4.5.</span> <span class="toc-text">其它</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hexo-%E7%B3%BB%E7%BB%9F%E5%8F%98%E5%BE%97%E7%BC%93%E6%85%A2"><span class="toc-number">4.5.1.</span> <span class="toc-text">Hexo 系统变得缓慢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E8%A1%A8%E6%B2%A1%E6%9C%89%E5%8E%BB%E9%87%8D"><span class="toc-number">4.5.2.</span> <span class="toc-text">图表没有去重</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0"><span class="toc-number">6.</span> <span class="toc-text">参考文章</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2015/12/30/MarkDown%E8%AF%AD%E6%B3%95/" rel="bookmark" title="MarkDown语法">MarkDown语法</a></li><li><a href="/2016/04/16/Hexo%E9%85%8D%E7%BD%AE/" rel="bookmark" title="Hexo配置">Hexo配置</a></li><li><a href="/2021/06/06/%E5%85%B3%E4%BA%8E%E6%88%91%E6%8A%8A%E5%8D%9A%E5%AE%A2%E5%8F%88%E4%BB%8EJekyll%E6%8D%A2%E6%88%90Hexo%E8%BF%99%E4%BB%B6%E4%BA%8B/" rel="bookmark" title="关于我把博客又从Jekyll换成Hexo这件事">关于我把博客又从Jekyll换成Hexo这件事</a></li><li><a href="/2021/06/13/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0Live2D%E7%9C%8B%E6%9D%BF%E5%A8%98/" rel="bookmark" title="为博客添加Live2D看板娘折腾的那些事">为博客添加Live2D看板娘折腾的那些事</a></li><li><a href="/2022/12/17/%E4%B8%BAAnodyne%E4%B8%BB%E9%A2%98%E5%A2%9E%E5%8A%A0%E7%9B%AE%E5%BD%95%E8%A1%A8%E7%8E%B0/" rel="bookmark" title="为 Anodyne 主题增加目录表现">为 Anodyne 主题增加目录表现</a></li><li><a href="/2022/12/19/%E5%85%B3%E4%BA%8E%E6%88%91%E5%8F%88%E6%8A%8A%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E6%8D%A2%E6%88%90Shoka%E7%9A%84%E4%BA%8B/" rel="bookmark" title="关于我又把博客主题换成 Shoka 的事">关于我又把博客主题换成 Shoka 的事</a></li><li><a href="/2022/12/23/%E4%BF%AE%E5%A4%8DShoka%E4%B8%BB%E9%A2%98%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%8F%E9%97%AE%E9%A2%98/" rel="bookmark" title="修复 Shoka 主题的一点小问题">修复 Shoka 主题的一点小问题</a></li><li><a href="/2023/01/01/%E5%85%B3%E4%BA%8EShoka%E5%9B%BE%E5%BA%8A%E6%8C%82%E4%BA%86%E8%BF%99%E4%BB%B6%E4%BA%8B/" rel="bookmark" title="关于Shoka图床又挂了这件事">关于Shoka图床又挂了这件事</a></li><li class="active"><a href="/2023/05/28/%E6%B7%BB%E5%8A%A0%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1/" rel="bookmark" title="优化博客加载、添加文章统计等">优化博客加载、添加文章统计等</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="WangJiaYing" data-src="/images/../img/avator"><p class="name" itemprop="name">CWHISME</p><div class="description" itemprop="description">己所不欲，勿施于人</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">122</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">22</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">32</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2N3aGlzbWU=" title="https://github.com/cwhisme"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9jd2hpc21lLTMzL3Bvc3Rz" title="https://www.zhihu.com/people/cwhisme-33/posts"><i class="ic i-zhihu"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmN3aGlzbWVAMTI2LmNvbQ==" title="mailto:cwhisme@126.com"><i class="ic i-envelope"></i></span> <a href="/atom.xml" title="/atom.xml" class="item feedback"><i class="ic i-heart"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/statistics/" rel="section"><i class="ic i-clock"></i>统计</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/05/27/Cinemachine%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/05/29/DOTS1-0-Metaverse%E5%A4%A7%E8%A1%8D%E7%A5%9E%E5%90%9B%E7%B3%BB%E5%88%97-%E7%AC%94%E8%AE%B0/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E7%90%86%E8%AE%BA%E7%A0%94%E7%A9%B6/" title="分类于 理论研究">理论研究</a></div><span><a href="/2021/04/28/Ado.Net%E4%B8%8EEF6.X%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="Ado.Net与EF6.X的简单使用">Ado.Net与EF6.X的简单使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%8D%9A%E5%AE%A2/" title="分类于 博客">博客</a></div><span><a href="/2022/12/17/%E4%B8%BAAnodyne%E4%B8%BB%E9%A2%98%E5%A2%9E%E5%8A%A0%E7%9B%AE%E5%BD%95%E8%A1%A8%E7%8E%B0/" title="为 Anodyne 主题增加目录表现">为 Anodyne 主题增加目录表现</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" title="分类于 阅读笔记">阅读笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/C/" title="分类于 C++">C++</a></div><span><a href="/2023/10/02/CPP_Primer_%E7%AC%AC%E4%BA%94%E7%89%88_%E7%AC%94%E8%AE%B0-1/" title="《C++ Primer(第五版)》-笔记(1)">《C++ Primer(第五版)》-笔记(1)</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment count_3"></ul></div></div><div class="status"><div class="copyright">© 2015 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">WangJiaYing @ Jiaying's Note</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">719k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">10:54</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> &amp; Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NXSElTTUUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config="" type="text/javascript">var LOCAL={path:"2023/05/28/添加博客文章统计/",favicon:{show:"（●´3｀●）",hide:"(´Д｀)"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,justifiedGallery:!0,jquery:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><script src="https://cdn.staticfile.org/pjax/0.2.8/pjax.min.js"></script><script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script><script src="https://cdn.staticfile.org/algoliasearch/4.17.0/algoliasearch-lite.umd.js"></script><script src="https://cdn.staticfile.org/instantsearch.js/4.54.1/instantsearch.production.min.js"></script><script src="https://cdn.staticfile.org/lozad.js/1.16.0/lozad.min.js"></script><script src="https://cdn.staticfile.org/quicklink/2.3.0/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/js/DateTimeAfeterCalc.js" async=""></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js" async=""></script><script data-pjax="">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?62952472c154f9131a14a4ab57bfefec";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>