<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="CWHISME" href="https://wangjiaying.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="CWHISME" href="https://wangjiaying.top/atom.xml"><link rel="alternate" type="application/json" title="CWHISME" href="https://wangjiaying.top/feed.json"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Unity3D,笔记,DOTS"><link rel="canonical" href="https://wangjiaying.top/2023/05/29/DOTS1-0-Metaverse%E5%A4%A7%E8%A1%8D%E7%A5%9E%E5%90%9B%E7%B3%BB%E5%88%97-%E7%AC%94%E8%AE%B0/"><title>DOTS1.0 (Metaverse 大衍神君系列)- 笔记 - Unity3D | Jiaying's Note = CWHISME = 人不能没有梦想，也要有足够的敬畏</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">DOTS1.0 (Metaverse 大衍神君系列)- 笔记</h1><div class="meta"><span class="item" title="创建时间：2023-05-29 15:30:30"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-05-29T15:30:30+08:00">2023-05-29</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>13k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>12 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Jiaying's Note</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="/images/coverimages/large/62685435_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/6833939bly1giclfdu6exj20zk0m87hw.webp"></li><li class="item" data-background-image="/images/coverimages/large/6833939bly1giclfb3vzhj20zk0m8wny.webp"></li><li class="item" data-background-image="/images/coverimages/large/9bd9b167gy1g4lhi5trgrj21hc0xc4cu.webp"></li><li class="item" data-background-image="/images/coverimages/large/107054238_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/9bd9b167gy1g4lhod7m0xj21hc0xc4md.webp"></li></ul></div><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div></header><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Unity3D/" itemprop="item" rel="index" title="分类于 Unity3D"><span itemprop="name">Unity3D</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://wangjiaying.top/2023/05/29/DOTS1-0-Metaverse%E5%A4%A7%E8%A1%8D%E7%A5%9E%E5%90%9B%E7%B3%BB%E5%88%97-%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/../img/avator"><meta itemprop="name" content="WangJiaYing"><meta itemprop="description" content="人不能没有梦想，也要有足够的敬畏, 己所不欲，勿施于人"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="CWHISME"></span><div class="body md" itemprop="articleBody"><h1 id="前言"><a class="anchor" href="#前言">#</a> 前言</h1><p>主要内容来源于：Metaverse 大衍神君 <code>RoadToDotsTutorials</code> 相关教程，本文为个人笔记<br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x3d2hiL1JvYWRUb0RvdHNUdXRvcmlhbHMuZ2l0">https://github.com/lwwhb/RoadToDotsTutorials.git</span><br><img data-src="/blogimages/2023/2023-05-29/Snipaste_2023-05-29_16-33-01.jpg" alt=""><br>注：暂且先从语雀笔记搬过来，还会继续进行整理、修改</p><h2 id="dots-是什么"><a class="anchor" href="#dots-是什么">#</a> Dots 是什么？</h2><ul><li>Data-Oriented Technology Stack（面向数据的技术堆栈）</li><li>由 5 个核心包定义构成：<ul><li>C# Job System</li><li>Burst Compiler<ul><li>优化 C# 代码的编译器</li></ul></li><li>Unity Mathematics<ul><li>可以在 JobSystem 使用的数学库，同时针对 burst 编译器特别优化</li></ul></li><li>Unity Collections</li><li>Entities（esc）</li></ul></li><li>其它包<ul><li>Entities.Graphics</li><li>Netcode</li><li>Physics<ul><li>Unity Physics (无状态、确定性)</li><li>Hovak Physics (有状态、不具备确定性，但是更稳定)</li></ul></li><li>Animation(wip)</li><li>Audio(wip)</li></ul></li><li>应用<ul><li>需要多线程加载、通讯、并行</li><li>CPU 密集型都可以使用</li><li>充分利用现代 CPU 的多核、及缓存效率</li></ul></li><li>学习方法<ul><li>看、查、学、改、调、写、交流</li></ul></li><li>程序设计方法<ul><li>指令化编程</li><li>函数化编程</li><li>过程化编程</li><li>面向对象编程 / 设计 (oop/ood)</li><li>面向数据设计 (dod)<ul><li>本质是面向内存、缓存友好的设计</li><li>开发人员需要考虑需要什么数据以及如何在内存中如何构造和组织数据，以便 cpu 处理数据时能更有效地访问数据</li></ul></li></ul></li><li>缓存层级结构<ul><li>L1 Cache：每个指令处理单元独享（分为数据缓存和指令缓存）</li><li>L2 Cache：核心内多个指令处理单元共享</li><li>L3 Cache：CPU 多个核心共享</li><li>fetch+decode+execution 构成一次 cycle</li><li>因此当某一级缓存未命中时，向下一级缓存取数据要花费数倍时间</li><li><img data-src="/blogimages/2023/2023-05-29/476232314.jpeg" alt=""></li></ul></li><li>缓存行：一般根据 cpu 结构不同，为 32 或 64 个字节</li><li>Cache 的 3c 与 3r：<ul><li>compulsory misses：首次读取数据时，必然 miss</li><li>capacity misses：缓存空间不足时，连续使用期间访问数据过多的话，无法保存所有活动的数据</li><li>conflict misses：发生访问冲突时，由于数据映射到相同的缓存行，导致缓存抖动<ul><li>缓存抖动发生比较多，一次 cacheline 没有需要的，实际访问数据不连续</li></ul></li><li>rearrange：重新排列（代码、数据），更改布局以增加数据空间的局部性</li><li>reduce：减少（大小、缓存行读取），更小更智能的格式、压缩（如位运算）</li><li>reuse：重用，增加数据的时间和空间的局部性（对齐、连续访问、减少发生缓存抖动几率）</li></ul></li><li>Cache<ul><li>L1 致力于更快的速度，L2 致力于命中率</li><li>Cache 如果做大了取一个字的时候时间就会增加，把 L1 做大后显然命中时间和整个延迟开销会增加</li><li>缓存分层本质是物理距离决定的（价格与平衡）</li></ul></li><li>Cache 层级与排队管理<ul><li>计算机执行类似排队</li><li>dots 设计队列结构</li><li>ecs 组织队列规则</li><li>jobsystem 队列调度</li><li>三级缓存由指令调度需求决定？</li></ul></li><li>面向数据设计需要思考的问题<ul><li>array of structures (AoS) 结构数组 - 面向对象组织</li><li>structure of arrays (SoA) 数组结构 - 面向数据组织</li><li>这分别代表着两种不同的数组组织形式</li></ul></li><li>dots 面向数据设计原则<ul><li>先设计，后编码</li><li>为高效使用内存与缓存而设计</li><li>为 bittable data 设计</li><li>为普通情况设计</li><li>拥抱迭代</li></ul></li></ul><h2 id="ecs"><a class="anchor" href="#ecs">#</a> ECS</h2><ul><li>实体组件系统 (ecs) 架构<ul><li>遵循组合优于继承原则</li><li>面向数据设计</li><li>弱耦合</li><li>常用于游戏开发</li></ul></li><li>本质：组合的是数据的数组，而非对象的数组</li><li>Entity：虽然叫实体，但并非对象，也不是容器，而是一个对象索引的 id、一个标识符，用来指示某个对象的存在，其中并不包含任何数据和逻辑，可通过组件分配某些属性</li><li>conponent：数据的容器 (不是对象的容器)，其中不包含任何逻辑</li><li>注：entity 与 conponent 关系 ——entity 充当数据的标识符或 key 来使用</li><li>system：真正负责对数据进行操作的部分</li></ul><hr><ul><li>IJobEntity 被自动生成为 IJobChunk</li><li>oop：数组的结构（array of structs）<ul><li>同一个对象放一起</li></ul></li><li>esc：结构数组（structs of array）<ul><li>所有同一类型放一起</li></ul></li><li>chunk 大小固定，于是 archytypes 固定，方便动态插入新数据<ul><li>每个 chunk 数量也应该考虑，否则会出现无效空白内存块</li><li>每个 chunk 还有其它额外数据</li><li>例如只读的加上 readonly 特性，避免 versionnumber 自增（还有参数只读 in）</li></ul></li></ul><hr><ul><li>archetypes (原型)：依然是一个标识符，标识所有具有相同 conponent 组合的实体类型<ul><li><img data-src="/blogimages/2023/2023-05-29/1940844859.jpeg" alt="1940844859.jpeg"></li><li>可以理解为不同的 entity 在内存中的布局</li></ul></li><li>archetype chunk：每个 archetype 所标记的内存会被分为固定大小、连续的非托管内存块<ul><li><img data-src="/blogimages/2023/2023-05-29/2050743949.jpeg" alt="2050743949.jpeg"></li><li>包含共享同一原型的实体组件数组</li><li>默认设置下每个 chunk 为 16kb，实体填充不满也会留白</li><li>方便做数据并行计算，方便做做缓存的 prefetch</li><li>数据对齐同时可以匹配缓存行</li><li>查询时利用纵向纬度分块对齐方式做 slice 切片</li></ul></li><li>world：一系列 entity 的组合，每个 entity 在一个 world 中唯一，统一受 entitymanager 管理（所以通过 id 查找 entity 并不安全）</li><li>entitymanager：负责创建、销毁、修改 世界中的实体</li><li>structural change：所有导致需要重新组织内存块或内容的操作<ul><li>改变结构</li><li>改变 (内存块) 内容</li><li>两个都只能在主线程进行，资源密集型操作，效率差<ul><li>如添加或删除一个 entity 对应的组件导致所属原型发生变化</li><li>创建、销毁实体</li><li>设置 shared component 值</li></ul></li><li>尽量避免</li><li>确定运行时无需修改可在编辑器做 bake 提高效率</li></ul></li><li>query：通过切片方式组织查询，让人感觉上是连续的，但并不会造成内存上的移动</li></ul><h1 id="unity-jobs-system"><a class="anchor" href="#unity-jobs-system">#</a> Unity Jobs System</h1><ul><li>包含 C# Jobs System 和 C++ Jobs System</li><li>安全多线程</li><li>可与 ECS 结合使用，也可单独使用</li><li>Blitable：在 C++ 下与 C# 下内存表述一致的类型<ul><li>C# bool 值占用 4 个字节，c++ 1 字节，不一致</li><li>Jobs 只能使用 Blitable 或 非托管堆数据</li><li><span class="exturl" data-url="aHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL3poLWNuL2RvdG5ldC9mcmFtZXdvcmsvaW50ZXJvcC9ibGl0dGFibGUtYW5kLW5vbi1ibGl0dGFibGUtdHlwZXM=">可直接复制到本机结构中的类型和非直接复制到本机结构中的类型 - .NET Framework</span></li></ul></li><li>Allocation Types<ul><li>persistent：长生命周期内存</li><li>tempjob：只在 job 中存在的短生命周期，4 帧以上会收到警告</li><li>temp：一个函数返回前的短生命周期</li></ul></li><li>调度方式<ul><li>run：主线程立即顺序执行</li><li>schedule：单个工作线程或主线程，每个 job 顺序执行</li><li>scheduleparallel：在多个工作线程同时执行，性能最好，但多个工作线程访问同一数据时可能发生冲突</li></ul></li><li>job 可以链式依赖，或同时依赖多个 jobhandle，避免 race condition</li><li>job safety checks：安全检查，在发生 job 访问数据冲突时会抛出异常（仅编辑器生效，可开关，为谨慎性而提供，并不智能）<ul><li>nativedisablecontainersafetyrestriction 特性，关闭对指定数据安全检查</li><li>readonly 特性标签也可以避免安全检查抛出异常</li></ul></li></ul><h1 id="entities"><a class="anchor" href="#entities">#</a> Entities</h1><h2 id="基础"><a class="anchor" href="#基础">#</a> 基础</h2><ul><li>少用分支语句，会造成 cache 不友好</li><li>authoring 模式：编辑器创建<ul><li><p>创建 entitysubscene</p></li><li><p>在 subscene 创建 gameobject 对象</p></li><li><p>为 gameobject 添加默认 conponent 和 自定义 icomponentdata 数据</p></li><li><p>自定义 icomponentdata 完成数据编排</p></li><li><p>authoring-baking (隐式)-runtime</p></li><li><p>baker：用来创建自定义数据</p></li><li><p>bakersystem：运行于 baker 之后，处理复杂 baking 情况，可选处理</p></li></ul></li><li>runtime 模式：完全代码创建<ul><li>创建一个 world</li><li>通过 world 中 entitymanager 创建、管理 entity 对象<ul><li>entity：整形 id 和 version 数据组成的结构体</li></ul></li><li>通过 world 中 entitymanager 创建 entity 对应 conponent<ul><li>icomponent：一个 c# 结构体，可以被 entities id 索引，一般无法被托管对象引用，内存紧密排列。</li></ul></li><li>根据创建的 entity 或 entityarchetype 实例化 entity</li><li>通过 system 实现对应 entity 逻辑管理<ul><li>systembase：托管类，简单，运行于主线程，不能被 burst 编译</li><li>isystem：struct，非托管，可以被 burst 编译，快但更复杂</li></ul></li></ul></li></ul><h2 id="components-类型"><a class="anchor" href="#components-类型">#</a> Components 类型</h2><ul><li>内存类型划分<ul><li>非托管（常用）<ul><li>blitable type</li><li>bool</li><li>char</li><li>blobassetreference</li><li>collections.fixedstring</li><li>collections.fixedlist</li><li>Fixed array</li><li>And so on（不变数据结构、长度、固定大小）</li></ul></li><li>托管<ul><li>可存储如何数据类型，但无法使用 jobs 访问，也无法使用 burst 编译，且声明 data 对象必须是无参数构造函数</li><li>不会存储在 chunk 中，而是所属 world 一个大数组中，chunk 仅存储索引，因此查找 entity 托管类型组件时需要处理额外索引查找工作，更慢</li></ul></li></ul></li><li>功能类型划分<ul><li>一般 component</li><li>shared component</li><li>tag component<ul><li>标识 entity 方便查找</li><li>不占用存储空间，非常好用于分类功能组件</li></ul></li><li>enableable component<ul><li>运行时启用、禁用</li></ul></li><li>cleanup component<ul><li>错误状态防止销毁 entity</li></ul></li><li>singleton component<ul><li>一个 world 下唯一存在（多个 world 可重复）</li></ul></li></ul></li><li>数据访问类型划分<ul><li>按 entity 访问</li><li>按 chunk 访问</li><li>按 element 访问</li></ul></li><li>按接口类型划分<ul><li>Ienableablecomponent</li><li>Isystemstatecomponent</li><li>Isystemstatesharedcomponent</li><li>Icomponentdata</li><li>Isharedcomponentdata</li><li>Ibufferelementdata</li></ul></li><li>entities 包中的数据大类<ul><li>componentdata</li><li>bufferdata</li><li>isharedcomponentdata</li><li>entitydata</li><li>unitycomponentobject</li></ul></li></ul><h2 id="system"><a class="anchor" href="#system">#</a> System</h2><h3 id="类型"><a class="anchor" href="#类型">#</a> 类型</h3><ul><li>isystem：提供对非托管内存访问</li><li>systembase：用于访问存储托管数据</li><li>注：任何 system 都能访问任何 world 下的 entity（不推荐）</li><li>编辑器下，system 窗口会显示每个操作时间消耗，默认小数点 2 位，可设置更高精度</li></ul><h3 id="更新"><a class="anchor" href="#更新">#</a> 更新</h3><ul><li>同 systemgroup 下调整 system 更新顺序<ul><li>[updatebefore]</li><li>[updateafter]</li></ul></li><li>指定 system 到特定的 ComponentSystemGroup 下<ul><li>[updateingroup]</li></ul></li><li>控制 system 的创建与销毁顺序<ul><li>[createbefore]</li><li>[createafter]</li><li>注：被修饰的 system 的销毁顺序与创建顺序相反</li></ul></li><li>禁止 System 被默认创建并添加到默认 ComponentSystemGroup 中<ul><li>[DisableAutoCreation]</li><li>注：被修饰的 System 需手动调用 world.getoncreatesystem 创建，及手动调用 xxxsystem.update 更新</li></ul></li><li>空的 systemgroup 与空的 monobehavior 函数一样，都会有时间开销</li><li>使用 system 注意点<ul><li>不要在 system 中定义 public 数据，应将其组织为 component 数据</li><li>在 system 更新时，尽量采用 system state 中的 getentityquery、getcomponenttypehandle 等访问 chunk component 数组，而不是通过 entitymanager 方法访问 (有额外开销)</li></ul></li></ul><h3 id="遍历与查询"><a class="anchor" href="#遍历与查询">#</a> 遍历与查询</h3><ul><li>dots 程序三大主要工作<ul><li>设计与组织数据</li><li>遍历与查找数据</li><li>修改与更新数据</li></ul></li><li>遍历查询 entity 数据的 5 种方式<ul><li>systemapi.query + foreach<ul><li>只能在 system 调用</li><li>不能存储结果，并在一个或多个 foreach 使用（因为模板类型需要在编译时确定并生成代码）</li><li>只能用于主线程</li><li>不能过滤同时『包含』的 chunk</li><li>有七种重载：iaspect、icomponentdata、dynamicbuff&lt;&gt;、refro&lt;&gt;、refrw&lt;&gt;、enabledrefro&lt;&gt;、enabledtefrw&lt;&gt;</li></ul></li><li>Ijobentity<ul><li>与 Entities.foreach 类似，每个 entity 调用一次</li><li>可在多个 system 重用</li><li>底层通过 ijobchunk 实现</li><li>可通过参数特性修饰查询</li><li>entityindexinquery 特性获取当前 entity 遍历查询索引</li></ul></li><li>Ijobchunk<ul><li>更底层实现，遍历 archetype chunk</li><li>每个 chunk 调用一次</li><li>一般用于不需要遍历每个 chunk 中 entity 的情况或对 chunk 内的 entity 执行多次遍历或以不寻常顺序遍历的情况</li><li>useenabledmask 与 chunkenablemask 辅助过滤 enableable component 未激活的 entity（不会自动过滤）</li></ul></li><li>Entities.foreach<ul><li>只用于 systembase 创建的 system</li><li>定义一个 lambda 表达式</li><li>使用限制较多，一般不用</li></ul></li><li>Manually（手动遍历）<ul><li>entitymanager.getallentities()</li><li>entitymanager.getallchunks()</li><li>限制较小，但性能上不划算</li></ul></li></ul></li></ul><h3 id="system-其它特性"><a class="anchor" href="#system-其它特性">#</a> System 其它特性</h3><ul><li>[requirematchingqueriesforupdate]<ul><li>每个 entity 结果都是空时则强制跳过 system onupdate 调用</li></ul></li><li>state.requireforupdate&lt;&gt;()<ul><li>只有指定组件存在时，该 system 才运行</li></ul></li></ul><h2 id="aspect"><a class="anchor" href="#aspect">#</a> Aspect</h2><ul><li>Aspect 中可包含的数据类型<ul><li>entity</li><li>refrw&lt;&gt;、refro&lt;&gt;</li><li>enanledrefrw 和 enabledrefro</li><li>dynamicbuff&lt;&gt;</li><li>其它 aspect 类型</li><li>注：tranformaspect 是 unity 内置的唯一一个 aspect，封装各种 local、world 坐标系下的旋转、缩放、位置及其它一些组件数据</li></ul></li></ul><h2 id="内置组件"><a class="anchor" href="#内置组件">#</a> 内置组件</h2><h3 id="componentlookupt-随机访问"><a class="anchor" href="#componentlookupt-随机访问">#</a> ComponentLookup<t>随机访问</t></h3><ul><li>componentlookup&lt;&gt;<ul><li>本质上是个 nativecontainer</li><li>可使用 job 同时在不同的一组实体上迭代</li><li>[NativeDisableParallelForRestrictionAttribute] 特性可解除对并行写入的限制（如确定每个 job 写入索引不冲突）</li><li>注：若希望在 job 之外访问 entity 组件，可考虑使用 entitymanager.getcomponentdata 做随机访问，避免创建 componentlookup 开销</li></ul></li><li>entitystorageinfolookup<ul><li>测试一个 entity 是否存在</li><li>通过存在的 entity id 获得 entitystorageinfo</li></ul></li></ul><h3 id="entity-command-buffer"><a class="anchor" href="#entity-command-buffer">#</a> Entity Command Buffer</h3><p>可以记录更改实体数据的命令，然后在稍后的主线程回放 ECB 时执行这些命令，基于命令模式设计</p><ul><li>RenderCommandBufer：同步统一执行渲染状态的改变</li><li>EntityCommandBuffer：与 RenderCommandBufer 类似，不过 ECB 是同步统一执行 Entity 相关数据的改变</li><li>Job 中不能直接创建和销毁 Entity</li><li>Job 中不能添加和删除 Entity 组件<ul><li>只能使用 Entity Command Buffer 来处理这些操作</li><li>ECB 具有很多与 EntityManager 相同的方法</li></ul></li><li>ECB 的 Playback 方法必须在主线程调用，记录 ECB 命令的 Job 必须在 Playback 方法调用前完成<ul><li>ECB 需要在调用 Playback 后销毁</li><li>（子线程数据同步至主线程）</li><li>奇偶线程只是记录命令，主线程调用 Playback 才是实际生产</li><li>state.Dependency.Complete();</li><li>ecb.Playback(state.EntityManager);</li><li>ecb.Dispose();</li></ul></li></ul><h3 id="entity-command-buffer-system"><a class="anchor" href="#entity-command-buffer-system">#</a> Entity Command Buffer System</h3><ul><li>使用 ecb 更简便<ul><li>world.getexistingSystemManaged&lt;&gt;().CreateCommandBuffer()</li><li>不需要手动调用 playback 及释放</li></ul></li><li>创建自定义 ECB System 继承自 EntityCommandBufferSystem（通常不需要）</li><li>Unity 提供了默认一些 ECB System（单例），可直接获取使用</li><li>SystemAPI.GetSingleton&lt;T.Singleton&gt;()：<ul><li>BeginInitializationEntityCommandBufferSystem：代表在下一帧开始时创建</li><li>EndInitializationEntityCommandBufferSystem</li><li>BeginSimulationEntityCommandBufferSystem</li><li>EndSimulationEntityCommandBufferSystem</li><li>BeginFixedStepSimulationEntityCommandBufferSystem</li><li>BeginPresentationEntityCommandBufferSystem</li></ul></li></ul><h3 id="dynamicbuffercomponent"><a class="anchor" href="#dynamicbuffercomponent">#</a> DynamicBufferComponent</h3><ul><li>非托管内存下一个可以调整大小的数组</li><li>继承自 IBufferElementData 接口</li><li>capacity：容量，默认 128 字节以内元素，共 8 个元素，每个元素 16bytes<ul><li>可使用 [InternalBufferCapacity] 特性修改</li></ul></li><li>internal ptr：指向缓冲区数据的具体位置</li><li>buffer 长度超过内部容量后，会销毁原本 chunk 数组并移到外部更大 chunk 中，即使缩小也回不去了</li><li>获取：entitymanager.getbuff&lt;&gt;</li><li>structure change 会对 dbc 检索产生影响<ul><li>jobs 读写访问也有影响（只读无所谓）</li></ul></li><li>可使用 ecb 修改 dbc<ul><li>ecb.addbuffer、ecb.setbuffer、ecb.appendbuff</li></ul></li><li>若两个 dbc 大小相同，可以用一个解释另一个（类似于联合）</li></ul><h3 id="enableablecomponent"><a class="anchor" href="#enableablecomponent">#</a> EnableableComponent</h3><ul><li>运行时禁用、启用 entity 对象上某个组件，用于处理频繁修改组件状态的情况</li><li>避免直接增删组件导致的 structural change</li><li>还可以替换一组零大小的 tagcomponent 来表示 entity 状态的情况，以减少 entity archetype 数量，得到更好的 chunk 利用率</li><li>只能用于 icomponentdata、ibufferelementdata 类型并同时继承实现 ienableablecomonent 的接口</li><li>使用 EnableableComponent 不会改变 entity，也不会造成任何数据移动（意味着可以直接在 job 中开启或禁用组件）</li><li>使用具有对 enableable 组件写访问权限的 job 可能会导致线程操作阻塞，即使 job 没有在任何 entity 上启用或禁用组件</li><li>操作<ul><li>entitymanager</li><li>componentlookup</li><li>entitycommandbuffer</li><li>archetypechunk</li><li>的 iscomponentenabled&lt;&gt;、setcomponentenabled&lt;&gt; 启用或禁用</li></ul></li><li>默认情况下通过 createentity 创建的新 entity 会启用所有可用组件，从 prefabs 实例化的 entity 则继承之前组件状态</li><li>查询时，entityquery 会不匹配禁用组件，不过可以手动忽略<ul><li>ignorefilter</li><li>entityqueryoption.ignorecomponentenabledstate 查询</li></ul></li></ul><h3 id="sharecomponent"><a class="anchor" href="#sharecomponent">#</a> ShareComponent</h3><ul><li>共享组件数据存储在与 ecs chunk 分离的数组中</li><li>world 中的 chunk 则存储句柄，用来定位共享组件在分离数组中的值</li><li>同一个 chunk 中实体共享相同的 sharecomponent 的值</li><li><img data-src="/blogimages/2023/2023-05-29/-2144605345.jpeg" alt="-2144605345.jpeg"></li><li>若更改了 entity 的共享组件值，该 entity 会被移动到新的共享组件的 chunk 中<ul><li>若共享组件值在数据组中存在相等的值，则 entity 被移动至存储现在有值索引的 chunk 中</li><li>否则，添加新值到共享组件值中，并将 entity 移动到存储新值索引的新的 chunk 中</li><li><img data-src="/blogimages/2023/2023-05-29/-1348735719.jpeg" alt="-1348735719.jpeg"></li><li>意味着更改共享组件值一定会带来 structual change</li><li>应尽量避免频繁更新</li><li>避免大量有独特值的共享组件 (会导致不同共享值的实体被分割，出现空 chunk 块)</li><li>避免实体具有多个共享组件类型组合，避免 archetype 碎片化 (可以想象成 shader 的关键字，与其增长速度是一样的，也会造成内存碎片化)</li></ul></li><li>分为托管与非托管类型的 sharedcomponent<ul><li>根据组件中存储的数据的 blitable type 类型划分</li><li>托管与非托管类型的共享组件分开存储</li><li>非托管：继承 isharedcomponentdata（可选继承 iequatable）</li><li>托管：除继承 isharedcomponentdata ，还必须实现 iequatable，并实现 equals 及 gethashcode</li></ul></li><li>因为共享同一 ShareComponent 的 entity 会被放入一个 chunk，因此也可以利用这一点进行分组（当然需要注意内存碎片化问题）</li><li>进阶用法<ul><li>不同 world 使用共享组件共享同一个托管对象</li><li>共享组件内包含对象引用类型或指针的情况</li></ul></li></ul><h3 id="blobasset"><a class="anchor" href="#blobasset">#</a> BlobAsset</h3><ul><li>Blob (binary large object):：是 unity 中存储数据的一种格式，为流式传输优化的二进制数据片，在内存中是存储连续字节块中的不可变的非托管二进制数据</li><li>只读，创建时设置后不可变</li><li>一次性分配，可以用 memcpy 重新定位，不能包含虚类对象数据</li><li>unity 的 blobification 框架可以更紧密打包数据，借助 reduce copy 减少重复数据，并使 blob asset 可以 relocatable 重新定位从磁盘直接读取</li><li>dots 中的 Blob asset<ul><li>同样可以有效优化数据存储与内存使用</li><li>dots 下不能直接使用，而是通过 blobAssetRef</li><li>当不需要时，需通过调用 blobAssetReference dispose 释放</li><li>bake entity 引用的 blob asset 会与场景一起序列化加载</li><li>注意与 sharecomponent 差异</li><li><img data-src="/blogimages/2023/2023-05-29/-683181080.jpeg" alt="-683181080.jpeg"></li><li>dota 中 blob 数据类型<ul><li>普通 blitable type 数据类型</li><li>blobString</li><li>blobArray</li><li>blobPtr</li></ul></li></ul></li></ul><h3 id="cleanupcomponent"><a class="anchor" href="#cleanupcomponent">#</a> CleanupComponent</h3><ul><li>当销毁一个包含该组件的 entity 时，unity 会删除所有非该组件的其它组件，实际上这个 entity 还存在</li><li>该组件不会随 entity 复制到另一个 world 中</li><li>主要用于在创建实体后帮助初始化或销毁实体后帮助清理</li><li>根据继承不同，分为不同类型<ul><li>例如分为托管和非托管类型、dynamic buffer 类型、shared component 类型</li></ul></li><li>在 dots 创建 entity<ul><li>4 种方法：</li><li><ol><li>通过 ibaker 接口将 prefab bake 成原型，然后运行时通过 entitymanager 根据原型实例化新的 entity 对象</li></ol><ul><li>使用简单，好理解，不过在 world 中会有额外一个原型存在</li></ul></li><li><ol start="2"><li>entitymanager.CreateEntity()</li></ol><ul><li>然后添加 requestentityprefabloaded 即 prefab 异步加载并转化为 entity 的组件</li><li>组件加载转化完成后，会在 entity 上自动添加 prefabloadedresult 组件，可以从该组件上的 prefabroot 字段拿到 prefab 转化后的 entity</li></ul></li><li><ol start="3"><li>混合方式</li></ol><ul><li>直接将 prefab 数组引用在 baker 中保存至 componentdata 中</li><li>通过继承 systembase 的 system 直接使用 instantiate 实例化</li><li>该方法本质上还是 gameobject 处理，无法利用 dots 的数据结构优势（不推荐）</li></ul></li><li><ol start="4"><li>完全动态创建（entity graphics 核心包）</li></ol></li></ul></li></ul><h3 id="chunkcomponent"><a class="anchor" href="#chunkcomponent">#</a> ChunkComponent</h3><ul><li>按 chunk 而不是按 entity 存储的组件</li><li>同样继承 icomponentdata</li><li>使用一组不同的 api 进行操作</li><li>如果只是想只读，使用 query 查询时传入 chunkcomponentreadonly</li><li>在 entity 上添加或删除 chunkcomponent 会导致 structual change</li><li>在执行 job 时由于其按 chunk 存储，一般用 ijobchunk 而不是 ijobentity</li><li><img data-src="/blogimages/2023/2023-05-29/1201698463.jpeg" alt="1201698463.jpeg"></li><li>具有相同 archetype 的 entity，指向在 chunk 中同一个 chunkcomponent，否则指向同一 chunk 不同的 chunkcomponent</li><li><img data-src="/blogimages/2023/2023-05-29/-854237890.jpeg" alt="-854237890.jpeg"></li></ul><h1 id="entities-graphics-包"><a class="anchor" href="#entities-graphics-包">#</a> Entities Graphics 包</h1><ul><li>充当 dots 与 unity 现有渲染架构的桥梁</li><li>使用 ecs entity 而不是 gameobject 来改善大型场景中运行时内存布局与性能</li><li>保持 unity 现有工作流的兼容与易用性</li></ul><h2 id="gameobject-转化系统"><a class="anchor" href="#gameobject-转化系统">#</a> GameObject 转化系统</h2><ul><li>将 gameobject 转化为等效 dots entity 的系统，支持编辑器与运行时转化换</li><li>meshrender meshfilter-&gt;rendermesh</li><li>lodgroup-&gt;meshlodgroupcomponent</li><li>transform-&gt;localtoworld</li><li>最好的运行时实例化 entity 方式<ul><li>prefabs</li><li>rendermeshutility.addcomponent api</li></ul></li><li>不要手动添加渲染组件，效率低，有可能与未来 entity graphics 包不兼容</li><li>不推荐 monobehavior 创建 entity</li><li>运行时创建 entity<ul><li>entity graphics 渲染需要包含最小组件集</li><li>推荐 rendermeshutility.addcomponent api—— 不过这是一个主线程 api，不适合创建大量实体，最好通过原型实例化克隆现有实体</li></ul></li></ul><h2 id="material-覆写"><a class="anchor" href="#material-覆写">#</a> Material 覆写</h2><p>两种方法：</p><ul><li>使用 material override asset</li><li>使用 c# burst code（推荐）<ul><li>定义的 componentdata 类用 materialproperty 特性修饰</li></ul></li><li>禁用渲染<ul><li>disablerender tag 组件</li><li>仅仅是不渲染，实际还在更新</li><li>会导致 structural change</li></ul></li></ul><h2 id="batchrendergroup-api"><a class="anchor" href="#batchrendergroup-api">#</a> BatchRenderGroup API</h2><ul><li>GPUInstancing<ul><li>DrawMeshInstanced：有 1024 个数量限制</li><li>DrawMeshInstancedIndirect：有兼容性和剔除方面限制</li><li>BatchRenderGroup</li></ul></li><li>(BRG) 是一个用于执行可自定义的高性能实例对象渲染接口，可以提前设置批次，使用描述如何加载网格和材质的共享元数据来设置实例组</li><li>当 Unity 渲染 BatchRenderGroup 时，会调用 OnPerformCulling 回调执行可见性剔除，并可声明一个可变大小绘制命令列表，描述如何渲染 BatchRenderGroup 可见部分</li><li>每个绘制命令都指示 Unity 使用特定的网格和材质渲染给定批次中的一组实例</li><li>Entities Graphics 就是构建在 BatchRenderGroup API 之上的，此 API 将 Entities Graphics 连接到 Unity 引擎后端渲染<ul><li>注：其实 BatchRenderGroup API 可以脱离 Dots 直接脚本调用</li></ul></li></ul><h3 id="用途"><a class="anchor" href="#用途">#</a> 用途</h3><ul><li>渲染 DOTS 实体</li><li>渲染大量使用单个 GameObject 的资源密集型环境对象 (如程序化放置的植物或岩石)</li><li>渲染自定义地形，可使用不同的网格或材质显示不同级别的详细信息</li></ul><h3 id="使用限制"><a class="anchor" href="#使用限制">#</a> 使用限制</h3><ul><li>不支持 BuildIn 管线，需要 SRPBatcher 选项开启</li><li>不能剔除 BRG 的变体<ul><li>BatchRenderGroup Variants 需要设置为 KeepAll</li><li>URP 最好在设置中直接关闭 StripUnusedVariants 避免被剔除变体</li></ul></li><li>需要开启 unsafe 选项（允许不安全代码）</li><li>主流平台基本都支持 BRG 接口，不过 Android 上需要 Vulkan 支持<ul><li>OpenGL 下可以使用 const buffer 处理一些不兼容情况，但是渲染提升并不明显<ul><li>opengle 和 opengles 上只能使用 ConstantBuffer，其他的都是使用 RawBuffer</li></ul></li><li>所以最好选用 Vulkan 图形 API</li></ul></li></ul><h3 id="创建流程"><a class="anchor" href="#创建流程">#</a> 创建流程</h3><ol><li>创建 BatchRenderGroup 实例，使用 OnPerformCulling 的实现进行初始化 (主要入口)<ul><li>Visibility Culling：基于 BatchCullingContext 参数确定哪些渲染实例对象可见，输出实际绘制命令以渲染这些实例</li><li>OnPerformCulling 逻辑可在回调实现，也可以在 BurstJob 完成 (更高效)</li></ul></li><li>向 BRG 中注册网格和材质<ul><li>Mesh 与 Material 是 Unity 托管 C# 对象，不能在 Burst C# 使用，必须预先注册 (与 EntitiesGraphicsSystem 一致)</li><li>通过 BatchRenderGroup.RegisterMesh/BatchRenderGroup.RegisterMaterial 注册，其返回 BatchMeshID 与 BatchMaterialID (是包含 Burst 兼容句柄的普通数据结构体)</li><li>即使用 BRG 前必须先注册对象 Mesh 与 Material，且材质必须支持 DOTS Instancing</li></ul></li><li>创建批次 Batch<ul><li>绘制命令之前需要为每个实例提供数据，如变化矩阵、光照探针系数、光照贴图、纹理坐标等</li><li>BRG 使用 Batch 的概念，每个 Batch 都有一组元数据和一个 GraphicsBuffer 的概念，批处理中的每个实例都共享这些数据</li><li>通过 BatchRenderGroup.AddBatch 接受元数据值的数组以及 GraphicsBuffer 的句柄，Unity 会将 Batch 中的数据传递给 Shader (未传入默认为 0)，并将 GraphicsBuffer 绑定为 unity_DOTSInstanceData</li><li>注 1：创建 Batch 元数据后不能修改，若想修改必须创建新的替换 (可通过 SetBatchBuffer 随时修改 Batch 的 GraphicsBuffer)—— 即数据的 Layout 不能修改，但数据内容可以修改</li><li>注 2：创建 Batch 时不需要指定大小，相反、必须确保 Shader 能够正确处理传递给它的实例索引：意味着 SRP Shader 在传递的索引处的缓冲区必须有有效的实例数据</li></ul></li><li>创建绘制命令 DrawCommands<ul><li>创建绘制命令需要使用 BatchRenderGroup.OnPerformCulling 回调和回调参数<ul><li>BatchCullingOutput 参数包含一个带单个元素的 NativArray，可以直接修改其内容，不需要复制数据</li><li>NativeArray 中的元素是个 BatchCullingOutputDrawCommands 结构，它包含实际绘制命令</li><li>OnPerformCulling 回调中生成任意数量的绘制命令，可以是只使用一个网格和材质的简单命令，也可以是使用成千上万个网格和材质的复杂命令</li><li>为提供最大灵活性，Unity 不会预先分配 BatchCullingOutputDrawCommands 输出结构中的数组而是将其存储为原始的指针<ul><li>这样就可以更轻松低从 Burst Job 中分配和使用（需要使用 UnsafeUtility.Malloc 和 Allocator.TempJob 分配器来分配数组）</li><li>另外在 OnPerformCulling 回调中不会释放这些数据内存，而是在 Unity 使用绘制命令完成渲染后释放</li></ul></li></ul></li></ul></li></ol><h2 id="hybrid-entities"><a class="anchor" href="#hybrid-entities">#</a> Hybrid Entities</h2><ul><li>允许将 MonoBehavior 组件附加到 DOTS Entity，而不需要将其转化为 ComponentData<ul><li>转换系统将调用 AddBybridComponent 将托管组件附加到 DOTS Entity 上</li></ul></li><li>默认情况会禁用 Camera 组件转换，因为场景主 Camera 不能是 HybridEntity<ul><li>需要启用，可使用宏 HYBRID_ENTITY_CAMERA_CONVERSION</li></ul></li><li>当 Unity 更新 DOTS LocalToWorld 时，都会更新 HybridEntity 转换</li></ul><h1 id="unity-physics"><a class="anchor" href="#unity-physics">#</a> Unity Physics</h1><ul><li>是一个完整的确定性的刚体物理系统</li><li>功能上仅是 Physics 或 Havok 的子集</li><li>完全使用 HPC# 编写，遵循 DOTS 整体设计理念</li><li>遵循最小依赖性和完全可控制性</li></ul><p>特性</p><ul><li>无状态：该帧信息不会被缓存到下一帧</li><li>模块化</li><li>高性能</li><li>互通性</li></ul><h2 id="物理模拟顺序"><a class="anchor" href="#物理模拟顺序">#</a> 物理模拟顺序</h2><ul><li>获取实体上组件当前状态</li><li>检测激活实体边界，进行快速碰撞检测</li><li>根据碰撞器形状计算确切接触点</li><li>基于碰撞点、质量、摩擦系数、弹性等参数做出碰撞反应</li><li>处理碰撞结果，并根据 Joint 等限制结算出刚体新的速度</li><li>根据动力学物理的线速度和角速度按时间步长移动物理体</li><li>将新的变换 Transform 应用到该物体实体上</li></ul><h2 id="设置方式"><a class="anchor" href="#设置方式">#</a> 设置方式</h2><ul><li>PhysicsSharp 组件 + PhysicsBody 组件</li><li>PhysicsSharp 组件 + RigidBody 组件<ul><li>底层实际通过 Authoring 将 RigidBody 转换为 PhysicsBody 组件</li></ul></li><li>其设置不受 ProjectSetting 中 Physics 全局设置影响了<ul><li>可以在场景添加 PhysicsStep 用作场景的全局物理设置</li></ul></li></ul><div class="tags"><a href="/tags/Unity3D/" rel="tag"><i class="ic i-tag"></i> Unity3D</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag"><i class="ic i-tag"></i> 笔记</a> <a href="/tags/DOTS/" rel="tag"><i class="ic i-tag"></i> DOTS</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-06-04 19:58:57" itemprop="dateModified" datetime="2023-06-04T19:58:57+08:00">2023-06-04</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>WangJiaYing <i class="ic i-at"><em>@</em></i>CWHISME</li><li class="link"><strong>本文链接：</strong> <a href="https://wangjiaying.top/2023/05/29/DOTS1-0-Metaverse%E5%A4%A7%E8%A1%8D%E7%A5%9E%E5%90%9B%E7%B3%BB%E5%88%97-%E7%AC%94%E8%AE%B0/" title="DOTS1.0 (Metaverse 大衍神君系列)- 笔记">https://wangjiaying.top/2023/05/29/DOTS1-0-Metaverse大衍神君系列-笔记/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/05/28/%E6%B7%BB%E5%8A%A0%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1/" itemprop="url" rel="prev" data-background-image="&#x2F;images&#x2F;coverimages&#x2F;large&#x2F;6833939bly1gipexbei4hj20zk0m8npd.webp" title="优化博客加载、添加文章统计等"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 博客</span><h3>优化博客加载、添加文章统计等</h3></a></div><div class="item right"><a href="/2023/06/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E-%E7%AC%94%E8%AE%B0/" itemprop="url" rel="next" data-background-image="&#x2F;images&#x2F;coverimages&#x2F;large&#x2F;106709906_p0.webp" title="《数据结构与算法之美》-笔记"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 阅读笔记</span><h3>《数据结构与算法之美》-笔记</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#dots-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.</span> <span class="toc-text">Dots 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ecs"><span class="toc-number">1.2.</span> <span class="toc-text">ECS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#unity-jobs-system"><span class="toc-number">2.</span> <span class="toc-text">Unity Jobs System</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#entities"><span class="toc-number">3.</span> <span class="toc-text">Entities</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">3.1.</span> <span class="toc-text">基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#components-%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.</span> <span class="toc-text">Components 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#system"><span class="toc-number">3.3.</span> <span class="toc-text">System</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.3.1.</span> <span class="toc-text">类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-number">3.3.2.</span> <span class="toc-text">更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E4%B8%8E%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.3.3.</span> <span class="toc-text">遍历与查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#system-%E5%85%B6%E5%AE%83%E7%89%B9%E6%80%A7"><span class="toc-number">3.3.4.</span> <span class="toc-text">System 其它特性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#aspect"><span class="toc-number">3.4.</span> <span class="toc-text">Aspect</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E7%BB%84%E4%BB%B6"><span class="toc-number">3.5.</span> <span class="toc-text">内置组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#componentlookupt-%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE"><span class="toc-number">3.5.1.</span> <span class="toc-text">ComponentLookup 随机访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#entity-command-buffer"><span class="toc-number">3.5.2.</span> <span class="toc-text">Entity Command Buffer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#entity-command-buffer-system"><span class="toc-number">3.5.3.</span> <span class="toc-text">Entity Command Buffer System</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dynamicbuffercomponent"><span class="toc-number">3.5.4.</span> <span class="toc-text">DynamicBufferComponent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#enableablecomponent"><span class="toc-number">3.5.5.</span> <span class="toc-text">EnableableComponent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sharecomponent"><span class="toc-number">3.5.6.</span> <span class="toc-text">ShareComponent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#blobasset"><span class="toc-number">3.5.7.</span> <span class="toc-text">BlobAsset</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cleanupcomponent"><span class="toc-number">3.5.8.</span> <span class="toc-text">CleanupComponent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chunkcomponent"><span class="toc-number">3.5.9.</span> <span class="toc-text">ChunkComponent</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#entities-graphics-%E5%8C%85"><span class="toc-number">4.</span> <span class="toc-text">Entities Graphics 包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#gameobject-%E8%BD%AC%E5%8C%96%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.1.</span> <span class="toc-text">GameObject 转化系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#material-%E8%A6%86%E5%86%99"><span class="toc-number">4.2.</span> <span class="toc-text">Material 覆写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#batchrendergroup-api"><span class="toc-number">4.3.</span> <span class="toc-text">BatchRenderGroup API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E9%80%94"><span class="toc-number">4.3.1.</span> <span class="toc-text">用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%99%90%E5%88%B6"><span class="toc-number">4.3.2.</span> <span class="toc-text">使用限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B"><span class="toc-number">4.3.3.</span> <span class="toc-text">创建流程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hybrid-entities"><span class="toc-number">4.4.</span> <span class="toc-text">Hybrid Entities</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#unity-physics"><span class="toc-number">5.</span> <span class="toc-text">Unity Physics</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E6%A8%A1%E6%8B%9F%E9%A1%BA%E5%BA%8F"><span class="toc-number">5.1.</span> <span class="toc-text">物理模拟顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="toc-number">5.2.</span> <span class="toc-text">设置方式</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2015/12/09/Unity3D-%E9%80%9A%E8%BF%87%E5%8A%A8%E7%94%BB%E4%BA%8B%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%B8%B8%E6%88%8F%E8%84%9A%E5%8D%B0/" rel="bookmark" title="Unity3D 通过动画事件实现游戏脚印">Unity3D 通过动画事件实现游戏脚印</a></li><li><a href="/2015/12/29/%E5%B5%8C%E5%A5%97Prefab%E7%9A%84Editor%E5%8A%9F%E8%83%BD/" rel="bookmark" title="嵌套Prefab的Editor功能">嵌套Prefab的Editor功能</a></li><li><a href="/2016/04/19/%E5%9C%A8Unity%E4%B8%AD%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BAMesh/" rel="bookmark" title="在Unity中动态创建Mesh">在Unity中动态创建Mesh</a></li><li><a href="/2016/04/23/%E5%9C%A8Unity%E4%B8%AD%E5%8A%A8%E6%80%81%E6%94%B9%E5%8F%98Mesh/" rel="bookmark" title="在Unity中动态改变Mesh">在Unity中动态改变Mesh</a></li><li><a href="/2016/05/31/Unity3D%E4%B8%ADShader%E7%9A%84%E9%98%B4%E5%BD%B1/" rel="bookmark" title="Unity3D中Shader的阴影">Unity3D中Shader的阴影</a></li><li><a href="/2016/07/01/%E6%A0%B9%E6%8D%AE%E5%9C%B0%E5%BD%A2%E8%B4%B4%E5%9B%BE%E5%AE%9E%E7%8E%B0%E8%84%9A%E5%8D%B0%E5%8F%8A%E7%9B%B8%E5%BA%94%E6%95%88%E6%9E%9C/" rel="bookmark" title="根据所在地形贴图实现脚印等效果">根据所在地形贴图实现脚印等效果</a></li><li><a href="/2016/08/13/%E4%BD%9C%E5%93%81-CryStoryEditor/" rel="bookmark" title="CryStoryEditor">CryStoryEditor</a></li><li><a href="/2016/08/13/%E4%BD%9C%E5%93%81-%E5%B7%A5%E4%BD%9C%E4%B9%8B%E5%89%8D/" rel="bookmark" title="[Demo]工作之前">[Demo]工作之前</a></li><li><a href="/2016/10/29/%E4%BD%9C%E5%93%81-CryDialogSystem/" rel="bookmark" title="CryDialogSystem与设计原因">CryDialogSystem与设计原因</a></li><li><a href="/2016/11/04/Shader-%E5%83%8F%E7%B4%A0%E6%89%AD%E6%9B%B2%E6%95%88%E6%9E%9C/" rel="bookmark" title="[Shader]像素扭曲效果">[Shader]像素扭曲效果</a></li><li><a href="/2016/11/17/Unity3D%E8%B5%84%E6%BA%90%E5%BC%95%E7%94%A8%E6%9F%A5%E8%AF%A2%E5%B7%A5%E5%85%B7/" rel="bookmark" title="Unity3D资源引用查询工具">Unity3D资源引用查询工具</a></li><li><a href="/2016/11/21/Unity3D-Tri-planar-Terrain/" rel="bookmark" title="Unity3D Tri-planar Terrain">Unity3D Tri-planar Terrain</a></li><li><a href="/2016/12/15/Tri-planar-Terrain-%E4%BA%8C-%E9%94%99%E8%AF%AF%E4%BF%AE%E6%AD%A3/" rel="bookmark" title="Tri-planar Terrain (二) 错误修正">Tri-planar Terrain (二) 错误修正</a></li><li><a href="/2017/02/10/%E4%BD%9C%E5%93%81-Magic-Civilizition/" rel="bookmark" title="[Demo]Magic Civilizition">[Demo]Magic Civilizition</a></li><li><a href="/2017/02/14/%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%9C%E5%BC%8A%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0/" rel="bookmark" title="【工具】控制台类型的作弊系统实现">【工具】控制台类型的作弊系统实现</a></li><li><a href="/2017/03/09/2017-3-9-Unity-Optimization-Summary/" rel="bookmark" title="Unity3D性能优化总结">Unity3D性能优化总结</a></li><li><a href="/2017/05/07/2017-5-7-Unity-use-othographic-camera-map/" rel="bookmark" title="Unity3D以正交相机截取作大地图">Unity3D以正交相机截取作大地图</a></li><li><a href="/2017/05/10/2017-5-10-Unity-Kinect/" rel="bookmark" title="Unity Kinect 开发">Unity Kinect 开发</a></li><li><a href="/2021/01/26/Unity3DSahder%E5%85%B3%E9%94%AE%E5%AD%97/" rel="bookmark" title="Unity3D Sahder 关键字">Unity3D Sahder 关键字</a></li><li><a href="/2021/02/02/Sahder%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/" rel="bookmark" title="Sahder内置函数">Sahder内置函数</a></li><li><a href="/2021/03/10/Sahder%E4%B8%AD%E6%B7%B1%E5%BA%A6%E5%9B%BE%E5%8F%8A%E5%BA%94%E7%94%A8/" rel="bookmark" title="Unity3D中Sahder深度图及应用">Unity3D中Sahder深度图及应用</a></li><li><a href="/2021/07/08/Box2DSharp%E7%9A%84%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/" rel="bookmark" title="Box2DSharp的介绍与使用">Box2DSharp的介绍与使用</a></li><li><a href="/2021/07/15/%E4%BD%BF%E7%94%A8VS2019%E8%B0%83%E8%AF%95Unity2020%E4%B8%ADDLL%E9%97%AE%E9%A2%98/" rel="bookmark" title="使用VS2019调试Unity2020中DLL的问题">使用VS2019调试Unity2020中DLL的问题</a></li><li><a href="/2021/07/23/%E3%80%8E%E9%94%81%E3%80%8F%E5%B8%A7%E5%90%8C%E6%AD%A5%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/" rel="bookmark" title="『锁』帧同步的简单实现">『锁』帧同步的简单实现</a></li><li><a href="/2021/07/28/%E4%BD%BF%E7%94%A8MagicCloth%E5%81%9A%E8%A1%A3%E7%89%A9%E6%88%96%E5%A4%B4%E5%8F%91%E7%89%A9%E7%90%86%E6%95%88%E6%9E%9C/" rel="bookmark" title="使用MagicCloth做衣物或头发物理效果">使用MagicCloth做衣物或头发物理效果</a></li><li><a href="/2021/08/06/%E4%BB%A3%E7%A0%81%E8%B0%83%E7%94%A8TexturePacker%E6%89%93%E5%9B%BE%E9%9B%86%E5%B9%B6%E7%94%9F%E6%88%90%E5%8A%A8%E7%94%BB/" rel="bookmark" title="代码调用TexturePacker打图集并生成动画">代码调用TexturePacker打图集并生成动画</a></li><li><a href="/2021/09/15/%E9%A1%B9%E7%9B%AE%E4%B8%AD%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E6%B5%81%E7%A8%8B/" rel="bookmark" title="项目中资源打包流程">项目中资源打包流程</a></li><li><a href="/2021/09/28/%E5%85%B3%E4%BA%8EInjectFix%E4%BD%9C%E4%B8%BA%E7%83%AD%E6%9B%B4%E7%9A%84%E4%B8%80%E7%82%B9%E8%AE%B0%E5%BD%95/" rel="bookmark" title="关于InjectFix作为热更的一点记录">关于InjectFix作为热更的一点记录</a></li><li><a href="/2021/10/25/%E4%B8%8A%E6%9E%B6%E6%A3%80%E6%B5%8B%E6%8F%90%E7%A4%BA%E6%9C%89Unity%E5%B9%BF%E5%91%8A%E6%9C%8D%E5%8A%A1/" rel="bookmark" title="上架检测提示有Unity广告服务">上架检测提示有Unity广告服务</a></li><li><a href="/2022/06/14/%E6%96%B0%E5%87%BA%E7%9A%84Huatuo%E7%83%AD%E6%9B%B4%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%9D%E8%AF%95/" rel="bookmark" title="新出的Huatuo热更的一点尝试">新出的Huatuo热更的一点尝试</a></li><li><a href="/2022/07/20/%E5%85%B3%E4%BA%8E%E6%B1%89%E5%AE%A4%E5%A4%8D%E5%85%B4%E5%8D%87%E7%BA%A7Unity2021%E7%9A%84%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/" rel="bookmark" title="关于汉室复兴升级Unity2021的问题记录">关于汉室复兴升级Unity2021的问题记录</a></li><li><a href="/2022/07/21/%E5%A4%84%E7%90%86Unity2019%E7%9A%84UGUI%E9%A1%B6%E7%82%B9%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E5%9B%BE%E6%96%87%E6%B7%B7%E6%8E%92%E9%97%AE%E9%A2%98/" rel="bookmark" title="处理Unity2019的UGUI顶点数据更新后的图文混排问题">处理Unity2019的UGUI顶点数据更新后的图文混排问题</a></li><li><a href="/2022/08/31/%E5%85%B3%E4%BA%8E%E4%BB%8EUnity2021%E9%99%8D%E7%BA%A7%E4%B8%BAUnity2018%E7%9A%84%E9%97%AE%E9%A2%98/" rel="bookmark" title="关于从Unity2021降级为Unity2018的问题">关于从Unity2021降级为Unity2018的问题</a></li><li><a href="/2022/09/28/%E8%A7%A3%E5%86%B3%E5%AE%88%E6%9C%9B%E9%A1%B9%E7%9B%AE%E5%88%98%E6%B5%B7%E5%B1%8F%E7%9C%9F%E6%9C%BA%E7%99%BD%E5%B1%8F%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/" rel="bookmark" title="解决守望项目刘海屏真机白屏问题记录">解决守望项目刘海屏真机白屏问题记录</a></li><li><a href="/2022/09/30/%E5%85%B3%E4%BA%8E%E7%BA%AA%E5%85%83%E9%A1%B9%E7%9B%AEDemo/" rel="bookmark" title="关于纪元项目Demo">关于纪元项目Demo</a></li><li><a href="/2022/10/26/%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90%E6%A0%BC%E5%BC%8F%E8%AE%BE%E7%BD%AE%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93/" rel="bookmark" title="图片资源格式设置测试与总结">图片资源格式设置测试与总结</a></li><li><a href="/2022/11/08/%E9%9F%B3%E6%95%88%E8%B5%84%E6%BA%90%E8%AE%BE%E7%BD%AE%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93/" rel="bookmark" title="音效资源设置测试与总结">音效资源设置测试与总结</a></li><li><a href="/2022/11/23/%E6%89%93%E5%8C%85AssetBundle%E5%9F%BA%E7%A1%80%E8%A7%84%E5%88%99%E6%95%B4%E7%90%86/" rel="bookmark" title="打包 AssetBundle 的基础规则整理">打包 AssetBundle 的基础规则整理</a></li><li><a href="/2022/12/06/Unity%E7%9A%84%E9%98%B4%E5%BD%B1%E4%B8%8E%E5%85%89%E7%85%A7%E7%83%98%E7%84%99/" rel="bookmark" title="Unity 的阴影与光照烘焙">Unity 的阴影与光照烘焙</a></li><li><a href="/2022/12/28/%E6%B5%85%E8%B0%88Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="浅谈Unity内存管理-笔记">浅谈Unity内存管理-笔记</a></li><li><a href="/2022/12/28/%E6%8F%AD%E7%A7%98Unity%E7%9A%84%E9%BB%91%E7%9B%92%E4%B8%96%E7%95%8C-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="揭秘Unity的黑盒世界-笔记">揭秘Unity的黑盒世界-笔记</a></li><li><a href="/2022/12/30/Mesh%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96%E4%B8%8E%E6%89%B9%E5%A4%84%E7%90%86/" rel="bookmark" title="Mesh渲染优化与批处理">Mesh渲染优化与批处理</a></li><li><a href="/2023/02/17/%E5%85%B3%E4%BA%8EAssetBundleManifest%E4%BD%BF%E7%94%A8/" rel="bookmark" title="关于AssetBundleManifest使用疑问">关于AssetBundleManifest使用疑问</a></li><li><a href="/2023/02/24/%E5%86%8D%E6%8E%A2TexturePacker%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%AE%BE%E7%BD%AE/" rel="bookmark" title="再探TexturePacker命令行设置">再探TexturePacker命令行设置</a></li><li><a href="/2023/04/27/CS%E4%B8%8EXLua%E4%BA%A4%E4%BA%92%E5%8E%9F%E7%90%86%E7%A0%94%E7%A9%B6/" rel="bookmark" title="C#与XLua交互原理研究">C#与XLua交互原理研究</a></li><li><a href="/2023/05/12/%E5%9B%BE%E5%BD%A2%E5%9F%BA%E7%A1%80-Unity3D/" rel="bookmark" title="渲染基础-Unity3D-笔记">渲染基础-Unity3D-笔记</a></li><li><a href="/2023/05/27/Cinemachine%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91/" rel="bookmark" title="Cinemachine文档整理翻译">Cinemachine文档整理翻译</a></li><li class="active"><a href="/2023/05/29/DOTS1-0-Metaverse%E5%A4%A7%E8%A1%8D%E7%A5%9E%E5%90%9B%E7%B3%BB%E5%88%97-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="DOTS1.0(Metaverse大衍神君系列)-笔记">DOTS1.0(Metaverse大衍神君系列)-笔记</a></li><li><a href="/2023/06/09/Timeline%E6%95%B4%E7%90%86%E7%BF%BB%E8%AF%91/" rel="bookmark" title="Timeline 整理翻译笔记">Timeline 整理翻译笔记</a></li><li><a href="/2023/06/16/Unity3DAssets-ResourcesAndAssetBundles-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="Assets、Resources 和 AssetBundles-翻译-笔记">Assets、Resources 和 AssetBundles-翻译-笔记</a></li><li><a href="/2023/07/10/Addressables-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="Unity Addressables 笔记">Unity Addressables 笔记</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="WangJiaYing" data-src="/images/../img/avator"><p class="name" itemprop="name">CWHISME</p><div class="description" itemprop="description">己所不欲，勿施于人</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">121</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">20</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">31</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2N3aGlzbWU=" title="https:&#x2F;&#x2F;github.com&#x2F;cwhisme"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9jd2hpc21lLTMzL3Bvc3Rz" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;cwhisme-33&#x2F;posts"><i class="ic i-zhihu"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmN3aGlzbWVAMTI2LmNvbQ==" title="mailto:cwhisme@126.com"><i class="ic i-envelope"></i></span> <a href="/atom.xml" title="&#x2F;atom.xml" class="item feedback"><i class="ic i-heart"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/statistics/" rel="section"><i class="ic i-clock"></i>统计</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/05/28/%E6%B7%BB%E5%8A%A0%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/06/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E-%E7%AC%94%E8%AE%B0/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E/" title="分类于 虚幻引擎">虚幻引擎</a></div><span><a href="/2023/09/18/%E8%99%9A%E5%B9%BB5%E5%9F%BA%E7%A1%80-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-C/" title="虚幻5基础学习笔记-详细(C++)">虚幻5基础学习笔记-详细(C++)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity3D/" title="分类于 Unity3D">Unity3D</a> <i class="ic i-angle-right"></i> <a href="/categories/Unity3D/%E5%B7%A5%E5%85%B7/" title="分类于 工具">工具</a></div><span><a href="/2016/11/17/Unity3D%E8%B5%84%E6%BA%90%E5%BC%95%E7%94%A8%E6%9F%A5%E8%AF%A2%E5%B7%A5%E5%85%B7/" title="Unity3D资源引用查询工具">Unity3D资源引用查询工具</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%80%BB%E7%BB%93/" title="分类于 总结">总结</a></div><span><a href="/2016/04/18/2015%E5%B9%B4%E6%80%BB%E7%BB%93/" title="2015年总结">2015年总结</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment count_3"></ul></div></div><div class="status"><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">WangJiaYing @ Jiaying's Note</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">717k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">10:52</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NXSElTTUUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/05/29/DOTS1-0-Metaverse大衍神君系列-笔记/",favicon:{show:"（●´3｀●）",hide:"(´Д｀)"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,justifiedGallery:!0,jquery:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><script src="https://cdn.staticfile.org/pjax/0.2.8/pjax.min.js"></script><script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script><script src="https://cdn.staticfile.org/algoliasearch/4.17.0/algoliasearch-lite.umd.js"></script><script src="https://cdn.staticfile.org/instantsearch.js/4.54.1/instantsearch.production.min.js"></script><script src="https://cdn.staticfile.org/lozad.js/1.16.0/lozad.min.js"></script><script src="https://cdn.staticfile.org/quicklink/2.3.0/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/js/DateTimeAfeterCalc.js" async></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js" async></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?62952472c154f9131a14a4ab57bfefec";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>