<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="CWHISME" href="https://wangjiaying.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="CWHISME" href="https://wangjiaying.top/atom.xml"><link rel="alternate" type="application/json" title="CWHISME" href="https://wangjiaying.top/feed.json"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="虚幻引擎"><link rel="canonical" href="https://wangjiaying.top/2025/09/07/UE5%E7%BC%96%E8%BE%91%E5%99%A8%E5%BC%80%E5%8F%91-%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95/"><title>UE5 编辑器开发 - 资源创建菜单 - 虚幻引擎 | Jiaying's Note = CWHISME = 人不能没有梦想，也要有足够的敬畏</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">UE5 编辑器开发 - 资源创建菜单</h1><div class="meta"><span class="item" title="创建时间：2025-09-07 10:02:14"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2025-09-07T10:02:14+08:00">2025-09-07</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>9.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Jiaying's Note</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="/images/coverimages/large/006ZFECEgy1fr1x6dgae1j315o0xrtv9.webp"></li><li class="item" data-background-image="/images/coverimages/large/105618101_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/87125964_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/9bd9b167gy1g2qk3q3oboj21hc0u0k4b.webp"></li><li class="item" data-background-image="/images/coverimages/large/99038048_p0.webp"></li><li class="item" data-background-image="/images/coverimages/large/0105fb10aa85426dc1ee0de301b44875_2_2_art.webp"></li></ul></div><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div></header><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E/" itemprop="item" rel="index" title="分类于 虚幻引擎"><span itemprop="name">虚幻引擎</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://wangjiaying.top/2025/09/07/UE5%E7%BC%96%E8%BE%91%E5%99%A8%E5%BC%80%E5%8F%91-%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/../img/avator"><meta itemprop="name" content="WangJiaYing"><meta itemprop="description" content="人不能没有梦想，也要有足够的敬畏, 己所不欲，勿施于人"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="CWHISME"></span><div class="body md" itemprop="articleBody"><h1 id="前言"><a class="anchor" href="#前言">#</a> 前言</h1><p>最近研究了下虚幻的编辑器扩展，记录一下一个需求：我有一个 UUserWidget 子类，后续想要所有可以直接打开的界面，都基于该类创建蓝图。</p><p>然后就想将其放在内容浏览器的右键空白区域的资源创建菜单上，以便快速创建该类的蓝图。</p><h1 id="方法"><a class="anchor" href="#方法">#</a> 方法</h1><p>虚幻的编辑器也就最近开始研究了下，不大熟悉，折腾了半天，结果发现不下于三种添加资源创建菜单的方法：</p><ol><li>通过 AssetTypeActions 配合自定义 Factory</li><li>通过 UAssetDefinitionDefault 配合自定义 Factory</li><li>自定义添加编辑器菜单</li><li>直接将类型添加到 UUMGEditorProjectSettings-&gt;FavoriteWidgetParentClasses (这种方式会出现在创建用户控件蓝图的界面中)</li></ol><p>其中第四种方法是最简单的方法，只需要将 UUserWidget 子类添加到 FavoriteWidgetParentClasses<br>列表中即可。当然其表现与其它方式会有所不同，但是也大差不大。下面一一介绍。</p><h1 id="自定义添加编辑器菜单"><a class="anchor" href="#自定义添加编辑器菜单">#</a> 自定义添加编辑器菜单</h1><p>这种方式是最开始想到的方式，因为从概念上讲，也是最容易想到的：直接手动扩展编辑器，添加一个菜单项：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">FContentBrowserExtensionBase</span><span class="token double-colon punctuation">::</span><span class="token function">OnInitialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	FContentBrowserModule<span class="token operator">&amp;</span> ContentBrowserModule <span class="token operator">=</span> FModuleManager<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">LoadModuleChecked</span><span class="token generic class-name"><span class="token operator">&lt;</span>FContentBrowserModule<span class="token operator">></span></span></span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token string">"ContentBrowser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">auto</span><span class="token operator">&amp;</span> MenuExtenders <span class="token operator">=</span> ContentBrowserModule<span class="token punctuation">.</span><span class="token function">GetAllAssetContextMenuExtenders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 创建扩展委托</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	FContentBrowserMenuExtender_SelectedPaths MenuExtenderDelegate <span class="token operator">=</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token class-name">FContentBrowserMenuExtender_SelectedPaths</span><span class="token double-colon punctuation">::</span><span class="token function">CreateLambda</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> TArray<span class="token operator">&lt;</span>FString<span class="token operator">></span><span class="token operator">&amp;</span> SelectedPaths<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>			TSharedRef<span class="token operator">&lt;</span>FExtender<span class="token operator">></span> MenuExtender <span class="token operator">=</span> <span class="token generic-function"><span class="token function">MakeShared</span><span class="token generic class-name"><span class="token operator">&lt;</span>FExtender<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>			MenuExtender<span class="token operator">-></span><span class="token function">AddMenuExtension</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="13"></td><td><pre>				<span class="token string">"ContentBrowserNewAdvancedAsset"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>				EExtensionHook<span class="token double-colon punctuation">::</span>After<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>				<span class="token keyword">nullptr</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>				<span class="token class-name">FMenuExtensionDelegate</span><span class="token double-colon punctuation">::</span><span class="token function">CreateRaw</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>FContentBrowserExtensionBase<span class="token double-colon punctuation">::</span>AddMenuExtensions<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			<span class="token keyword">return</span> MenuExtender<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	ExtensionHandle <span class="token operator">=</span> MenuExtenderDelegate<span class="token punctuation">.</span><span class="token function">GetHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	MenuExtenders<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>MenuExtenderDelegate<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">FContentBrowserExtensionBase</span><span class="token double-colon punctuation">::</span><span class="token function">AddMenuExtensions</span><span class="token punctuation">(</span>FMenuBuilder<span class="token operator">&amp;</span> MenuBuilder<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	MenuBuilder<span class="token punctuation">.</span><span class="token function">AddMenuEntry</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token class-name">FText</span><span class="token double-colon punctuation">::</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">"My Custom Widget"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token class-name">FText</span><span class="token double-colon punctuation">::</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">"Create Widget based on MyBaseUserWidget"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token function">FSlateIcon</span><span class="token punctuation">(</span><span class="token class-name">FAppStyle</span><span class="token double-colon punctuation">::</span><span class="token function">GetAppStyleSetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Icons.Plus"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token function">FUIAction</span><span class="token punctuation">(</span><span class="token class-name">FExecuteAction</span><span class="token double-colon punctuation">::</span><span class="token function">CreateLambda</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>			UWidgetBlueprintFactory<span class="token operator">*</span> Factory <span class="token operator">=</span> <span class="token generic-function"><span class="token function">NewObject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UWidgetBlueprintFactory<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			Factory<span class="token operator">-></span>ParentClass <span class="token operator">=</span> <span class="token class-name">UCryPageBase</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			<span class="token class-name">FAssetToolsModule</span><span class="token double-colon punctuation">::</span><span class="token function">GetModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">CreateAssetWithDialog</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="35"></td><td><pre>				<span class="token class-name">UWidgetBlueprint</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="36"></td><td><pre>				Factory</pre></td></tr><tr><td data-num="37"></td><td><pre>			<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>常规通过扩展挂点的形式挂到创建菜单中，不过没找到怎么挂到专门的创建用户界面的子菜单中... 所以只是简单实现了一下。</p><p>效果如下：</p><p><img data-src="/blogimages/2025/2025-09-07/Uiharu_2025-09-07_12-08-45.webp" alt=""></p><blockquote><p>注：SelectedPaths 可以获取路径的，这个实现会有个保存资源弹窗，如果有路径的话，也可以直接创建资源。</p></blockquote><h1 id="assettypeactions-扩展资源创建菜单"><a class="anchor" href="#assettypeactions-扩展资源创建菜单">#</a> AssetTypeActions 扩展资源创建菜单</h1><p>也就是直接继承 FAssetTypeActions_Base，然后填充参数。</p><blockquote><p>注意：该方法需要手动在模块的 StartupModule 中注册，否则不会生效。</p></blockquote><p>官方 Lyra 示例就是采用的这种方法，具体可以参考 Lyra 的 FAssetTypeActions_LyraContextEffectsLibrary 及<br>ULyraContextEffectsLibraryFactory 类：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">FAssetTypeActions_LyraContextEffectsLibrary</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">FAssetTypeActions_Base</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token comment">// IAssetTypeActions Implementation</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">virtual</span> FText <span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token function">NSLOCTEXT</span><span class="token punctuation">(</span><span class="token string">"AssetTypeActions"</span><span class="token punctuation">,</span> <span class="token string">"AssetTypeActions_LyraContextEffectsLibrary"</span><span class="token punctuation">,</span> <span class="token string">"LyraContextEffectsLibrary"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">virtual</span> FColor <span class="token function">GetTypeColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token function">FColor</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">virtual</span> UClass<span class="token operator">*</span> <span class="token function">GetSupportedClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">virtual</span> uint32 <span class="token function">GetCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> EAssetTypeCategories<span class="token double-colon punctuation">::</span>Gameplay<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>ULyraContextEffectsLibraryFactory 类是用来创建蓝图的工厂类，源码就不单独贴了，有兴趣查一下应该很多信息。</p><p>我最开始也是按照这个方法来做的，结果不小心了翻到了下引擎中其它使用 FAssetTypeActions_Base 的地方的源码，例如：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// UE_DEPRECATED(5.2, "The AssetDefinition system is replacing AssetTypeActions and this was replaced by AssetDefinition_ClassTypeBase.  Please see the Conversion Guide in AssetDefinition.h")</span></pre></td></tr><tr><td data-num="3"></td><td><pre>ASSETTOOLS_API FAssetTypeActions_ClassTypeBase <span class="token operator">:</span> <span class="token keyword">public</span> FAssetTypeActions_Base</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>目前已经过时，摆明了就是不推荐使用了。</p><p>于是根据注释所说，查了下 AssetDefinition。</p><h1 id="assetdefinition-扩展资源创建菜单"><a class="anchor" href="#assetdefinition-扩展资源创建菜单">#</a> AssetDefinition 扩展资源创建菜单</h1><p>就如同前面所说，因为不小心发现 AssetTypeActions 已经过时，所以就开始研究 AssetDefinition。</p><p>不像 AssetTypeActions 的方式，AssetDefinition 会自动扫描并注册，所以不用手动注册，确实省心不少，加之 Factory 也是自动扫描，那就更方便了。</p><p>另外查看 UFactory 源码可以发现：像 GetDisplayName ()、GetMenuCategories () 等方法，依然还是在依赖 AssetTypeActions，所以目前如果是通过<br>AssetDefinition 配合 Factory 来扩展资源创建菜单，必须重写 UFactory::GetMenuCategories () 等依赖 AssetTypeActions 的方法。</p><p>不然引擎去找这个资源对应的 AssetTypeActions 就会找不到，导致无法显示菜单。如下所示：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>uint32 <span class="token class-name">UFactory</span><span class="token double-colon punctuation">::</span><span class="token function">GetMenuCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	FAssetToolsModule<span class="token operator">&amp;</span> AssetToolsModule <span class="token operator">=</span> FModuleManager<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">LoadModuleChecked</span><span class="token generic class-name"><span class="token operator">&lt;</span>FAssetToolsModule<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">"AssetTools"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	UClass<span class="token operator">*</span> LocalSupportedClass <span class="token operator">=</span> <span class="token function">GetSupportedClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>LocalSupportedClass<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		TWeakPtr<span class="token operator">&lt;</span>IAssetTypeActions<span class="token operator">></span> AssetTypeActions <span class="token operator">=</span> AssetToolsModule<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetAssetTypeActionsForClass</span><span class="token punctuation">(</span>LocalSupportedClass<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>AssetTypeActions<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>			<span class="token keyword">return</span> AssetTypeActions<span class="token punctuation">.</span><span class="token function">Pin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// Factories whose classes do not have asset type actions fall in the misc category</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">return</span> EAssetTypeCategories<span class="token double-colon punctuation">::</span>Misc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>所以，如果要通过 AssetDefinition 扩展资源创建菜单，必须重写 UFactory::GetMenuCategories () 等方法。</p><p>Factory 整体实现：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">UCLASS</span><span class="token punctuation">(</span>hidecategories <span class="token operator">=</span> Object<span class="token punctuation">,</span> MinimalAPI<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">UPageWidgetFactory</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">UFactory</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">UPageWidgetFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">//~ Begin UFactory Interface</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">ShouldShowInNewMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">virtual</span> FText <span class="token function">GetDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">virtual</span> uint32 <span class="token function">GetMenuCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">virtual</span> FText <span class="token function">GetToolTip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">virtual</span> FString <span class="token function">GetDefaultNewAssetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">virtual</span> UObject<span class="token operator">*</span> <span class="token function">FactoryCreateNew</span><span class="token punctuation">(</span>UClass<span class="token operator">*</span> Class<span class="token punctuation">,</span> UObject<span class="token operator">*</span> InParent<span class="token punctuation">,</span> FName Name<span class="token punctuation">,</span> EObjectFlags Flags<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	                                  UObject<span class="token operator">*</span> Context<span class="token punctuation">,</span> FFeedbackContext<span class="token operator">*</span> Warn<span class="token punctuation">,</span> FName CallingContext<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">virtual</span> UObject<span class="token operator">*</span> <span class="token function">FactoryCreateNew</span><span class="token punctuation">(</span>UClass<span class="token operator">*</span> Class<span class="token punctuation">,</span> UObject<span class="token operator">*</span> InParent<span class="token punctuation">,</span> FName Name<span class="token punctuation">,</span> EObjectFlags Flags<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	                                  UObject<span class="token operator">*</span> Context<span class="token punctuation">,</span> FFeedbackContext<span class="token operator">*</span> Warn<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">//~ End UFactory Interface</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">UPageWidgetFactory</span><span class="token double-colon punctuation">::</span><span class="token function">UPageWidgetFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	SupportedClass <span class="token operator">=</span> <span class="token class-name">UWidgetBlueprint</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// ParentClass = UCryPageBase::StaticClass();</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	bCreateNew <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	bEditAfterNew <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>FText <span class="token class-name">UPageWidgetFactory</span><span class="token double-colon punctuation">::</span><span class="token function">GetDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">return</span> <span class="token class-name">FText</span><span class="token double-colon punctuation">::</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">"Create New Page"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>uint32 <span class="token class-name">UPageWidgetFactory</span><span class="token double-colon punctuation">::</span><span class="token function">GetMenuCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">return</span> EAssetTypeCategories<span class="token double-colon punctuation">::</span>UI<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>FText <span class="token class-name">UPageWidgetFactory</span><span class="token double-colon punctuation">::</span><span class="token function">GetToolTip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token class-name">FText</span><span class="token double-colon punctuation">::</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">"Creates a new Page widget blueprint"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>FString <span class="token class-name">UPageWidgetFactory</span><span class="token double-colon punctuation">::</span><span class="token function">GetDefaultNewAssetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">return</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"PageNew"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>UObject<span class="token operator">*</span> <span class="token class-name">UPageWidgetFactory</span><span class="token double-colon punctuation">::</span><span class="token function">FactoryCreateNew</span><span class="token punctuation">(</span>UClass<span class="token operator">*</span> Class<span class="token punctuation">,</span> UObject<span class="token operator">*</span> InParent<span class="token punctuation">,</span> FName Name<span class="token punctuation">,</span> EObjectFlags Flags<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="31"></td><td><pre>                                              UObject<span class="token operator">*</span> Context<span class="token punctuation">,</span> FFeedbackContext<span class="token operator">*</span> Warn<span class="token punctuation">,</span> FName CallingContext<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	UWidgetBlueprint<span class="token operator">*</span> NewBP <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CastChecked</span><span class="token generic class-name"><span class="token operator">&lt;</span>UWidgetBlueprint<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token class-name">FKismetEditorUtilities</span><span class="token double-colon punctuation">::</span><span class="token function">CreateBlueprint</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token class-name">UCryPageBase</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> InParent<span class="token punctuation">,</span> Name<span class="token punctuation">,</span> EBlueprintType<span class="token double-colon punctuation">::</span>BPTYPE_Normal<span class="token punctuation">,</span> <span class="token class-name">UWidgetBlueprint</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token class-name">UWidgetBlueprintGeneratedClass</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> CallingContext<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token comment">// 编译蓝图（可选）</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token comment">// FKismetEditorUtilities::CompileBlueprint(NewBP);</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>NewBP<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token class-name">FKismetEditorUtilities</span><span class="token double-colon punctuation">::</span><span class="token function">BringKismetToFocusAttentionOnObject</span><span class="token punctuation">(</span>NewBP<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">return</span> NewBP<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre>UObject<span class="token operator">*</span> <span class="token class-name">UPageWidgetFactory</span><span class="token double-colon punctuation">::</span><span class="token function">FactoryCreateNew</span><span class="token punctuation">(</span>UClass<span class="token operator">*</span> Class<span class="token punctuation">,</span> UObject<span class="token operator">*</span> InParent<span class="token punctuation">,</span> FName Name<span class="token punctuation">,</span> EObjectFlags Flags<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="49"></td><td><pre>                                              UObject<span class="token operator">*</span> Context<span class="token punctuation">,</span> FFeedbackContext<span class="token operator">*</span> Warn<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token keyword">return</span> <span class="token function">FactoryCreateNew</span><span class="token punctuation">(</span>Class<span class="token punctuation">,</span> InParent<span class="token punctuation">,</span> Name<span class="token punctuation">,</span> Flags<span class="token punctuation">,</span> Context<span class="token punctuation">,</span> Warn<span class="token punctuation">,</span> NAME_None<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>AssetDefinition 实现：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">UCLASS</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">UCryPageAssetDefinition</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">UAssetDefinitionDefault</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">//~UAssetDefinition interface</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">virtual</span> TConstArrayView<span class="token operator">&lt;</span>FAssetCategoryPath<span class="token operator">></span> <span class="token function">GetAssetCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">virtual</span> TSoftClassPtr<span class="token operator">&lt;</span>UObject<span class="token operator">></span> <span class="token function">GetAssetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">virtual</span> FText <span class="token function">GetAssetDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">virtual</span> FText <span class="token function">GetAssetDisplayName</span><span class="token punctuation">(</span><span class="token keyword">const</span> FAssetData<span class="token operator">&amp;</span> AssetData<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">virtual</span> FLinearColor <span class="token function">GetAssetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> FLinearColor<span class="token double-colon punctuation">::</span>Yellow<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">virtual</span> <span class="token keyword">const</span> FSlateBrush<span class="token operator">*</span> <span class="token function">GetIconBrush</span><span class="token punctuation">(</span><span class="token keyword">const</span> FAssetData<span class="token operator">&amp;</span> InAssetData<span class="token punctuation">,</span> <span class="token keyword">const</span> FName InClassName<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">virtual</span> EAssetCommandResult <span class="token function">OpenAssets</span><span class="token punctuation">(</span><span class="token keyword">const</span> FAssetOpenArgs<span class="token operator">&amp;</span> OpenArgs<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">//~End of UAssetDefinition interface</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>TConstArrayView<span class="token operator">&lt;</span>FAssetCategoryPath<span class="token operator">></span> <span class="token class-name">UCryPageAssetDefinition</span><span class="token double-colon punctuation">::</span><span class="token function">GetAssetCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token comment">// 自定义分类：static const auto Categories = &#123;FAssetCategoryPath (LOCTEXT ("MyCustomAssetsCategoryName", "MyCustom")) &#125;;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">auto</span> Categories <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token function">FAssetCategoryPath</span><span class="token punctuation">(</span>EAssetCategoryPaths<span class="token double-colon punctuation">::</span>UI<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">return</span> Categories<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>TSoftClassPtr<span class="token operator">&lt;</span>UObject<span class="token operator">></span> <span class="token class-name">UCryPageAssetDefinition</span><span class="token double-colon punctuation">::</span><span class="token function">GetAssetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> <span class="token class-name">UCryPageBase</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>FText <span class="token class-name">UCryPageAssetDefinition</span><span class="token double-colon punctuation">::</span><span class="token function">GetAssetDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">return</span> <span class="token class-name">UCryPageBase</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">GetDisplayNameText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>FText <span class="token class-name">UCryPageAssetDefinition</span><span class="token double-colon punctuation">::</span><span class="token function">GetAssetDisplayName</span><span class="token punctuation">(</span><span class="token keyword">const</span> FAssetData<span class="token operator">&amp;</span> AssetData<span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>AssetData<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> Class <span class="token operator">=</span> AssetData<span class="token punctuation">.</span><span class="token function">GetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>Class<span class="token operator">-></span><span class="token function">HasMetaData</span><span class="token punctuation">(</span><span class="token string">"DisplayName"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>				<span class="token keyword">return</span> <span class="token class-name">FText</span><span class="token double-colon punctuation">::</span><span class="token function">FromString</span><span class="token punctuation">(</span>Class<span class="token operator">-></span><span class="token function">GetMetaData</span><span class="token punctuation">(</span><span class="token string">"DisplayName"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token keyword">return</span> <span class="token class-name">FText</span><span class="token double-colon punctuation">::</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"Custom CryPageWidget"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">const</span> FSlateBrush<span class="token operator">*</span> <span class="token class-name">UCryPageAssetDefinition</span><span class="token double-colon punctuation">::</span><span class="token function">GetIconBrush</span><span class="token punctuation">(</span><span class="token keyword">const</span> FAssetData<span class="token operator">&amp;</span> InAssetData<span class="token punctuation">,</span> <span class="token keyword">const</span> FName InClassName<span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">return</span> <span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">GetIconBrush</span><span class="token punctuation">(</span>InAssetData<span class="token punctuation">,</span> InClassName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>EAssetCommandResult <span class="token class-name">UCryPageAssetDefinition</span><span class="token double-colon punctuation">::</span><span class="token function">OpenAssets</span><span class="token punctuation">(</span><span class="token keyword">const</span> FAssetOpenArgs<span class="token operator">&amp;</span> OpenArgs<span class="token punctuation">)</span> <span class="token keyword">const</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> FAssetData<span class="token operator">&amp;</span> AssetData <span class="token operator">:</span> OpenArgs<span class="token punctuation">.</span>Assets<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>UBlueprint<span class="token operator">*</span> Blueprint <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>UBlueprint<span class="token operator">></span></span></span><span class="token punctuation">(</span>AssetData<span class="token punctuation">.</span><span class="token function">GetAsset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>			<span class="token class-name">FKismetEditorUtilities</span><span class="token double-colon punctuation">::</span><span class="token function">BringKismetToFocusAttentionOnObject</span><span class="token punctuation">(</span>Blueprint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token keyword">return</span> EAssetCommandResult<span class="token double-colon punctuation">::</span>Handled<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>效果如下：</p><p><img data-src="/blogimages/2025/2025-09-07/Uiharu_2025-09-07_12-11-08.webp" alt=""></p><h1 id="通过-favoritewidgetparentclasses-扩展资源创建菜单"><a class="anchor" href="#通过-favoritewidgetparentclasses-扩展资源创建菜单">#</a> 通过 FavoriteWidgetParentClasses 扩展资源创建菜单</h1><p>这种方式是最简单的方法，只需要将 UUserWidget 子类添加到 FavoriteWidgetParentClasses 即可。</p><p>理论上编辑器中应该有设置方式，就算没有，直接修改 Config 文件也行。</p><p>不过由于我是直接从源码看到的，加上正好在做编辑器扩展，因此就直接通过代码设置了：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">UCryPageCreator</span><span class="token double-colon punctuation">::</span><span class="token function">OnInitialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	TSoftClassPtr<span class="token operator">&lt;</span>UUserWidget<span class="token operator">></span> NewClassRef <span class="token operator">=</span> <span class="token class-name">UCryPageBase</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token generic-function"><span class="token function">GetMutableDefault</span><span class="token generic class-name"><span class="token operator">&lt;</span>UUMGEditorProjectSettings<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span>FavoriteWidgetParentClasses<span class="token punctuation">.</span><span class="token function">AddUnique</span><span class="token punctuation">(</span>NewClassRef<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>嗯.. 没错，就两行代码 (甚至可以直接一行解决)。</p><p>效果如下：</p><p><img data-src="/blogimages/2025/2025-09-07/Uiharu_2025-09-07_12-16-12.webp" alt=""></p><h1 id="总结"><a class="anchor" href="#总结">#</a> 总结</h1><ol><li>自定义添加编辑器菜单：可以用，但是只是用于添加新资源创建就不推荐使用了。</li><li>AssetTypeActions 扩展资源创建菜单：过时，不推荐使用。</li><li>AssetDefinition 扩展资源创建菜单：新版方法，推荐使用。</li><li>通过 FavoriteWidgetParentClasses 扩展资源创建菜单：最简单的方法，可以用。</li></ol><p>以上就是我自己发现的几种扩展编辑器资源创建菜单的方法，虽然第四种仅适用于 UserWidget 蓝图，不过如果其它类型的蓝图系统本身带了类似的创建界面，应该都可以找找有没有差不多的扩展方式 —— 实在不行，貌似貌似还可以直接实现一个这种界面，不过那就走远了。</p><p>另外也许还有其它方式，不过暂时没有深入了解就不清楚了。</p><div class="tags"><a href="/tags/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E/" rel="tag"><i class="ic i-tag"></i> 虚幻引擎</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2025-09-07 13:36:03" itemprop="dateModified" datetime="2025-09-07T13:36:03+08:00">2025-09-07</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>WangJiaYing <i class="ic i-at"><em>@</em></i>CWHISME</li><li class="link"><strong>本文链接：</strong> <a href="https://wangjiaying.top/2025/09/07/UE5%E7%BC%96%E8%BE%91%E5%99%A8%E5%BC%80%E5%8F%91-%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95/" title="UE5 编辑器开发 - 资源创建菜单">https://wangjiaying.top/2025/09/07/UE5编辑器开发-资源创建菜单/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2025/02/16/UiharuMind%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" itemprop="url" rel="prev" data-background-image="&#x2F;images&#x2F;coverimages&#x2F;large&#x2F;87348116_p0.webp" title="UiharuMind 工具使用指南"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 工具</span><h3>UiharuMind 工具使用指南</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B7%BB%E5%8A%A0%E7%BC%96%E8%BE%91%E5%99%A8%E8%8F%9C%E5%8D%95"><span class="toc-number">3.</span> <span class="toc-text">自定义添加编辑器菜单</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#assettypeactions-%E6%89%A9%E5%B1%95%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95"><span class="toc-number">4.</span> <span class="toc-text">AssetTypeActions 扩展资源创建菜单</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#assetdefinition-%E6%89%A9%E5%B1%95%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95"><span class="toc-number">5.</span> <span class="toc-text">AssetDefinition 扩展资源创建菜单</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-favoritewidgetparentclasses-%E6%89%A9%E5%B1%95%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95"><span class="toc-number">6.</span> <span class="toc-text">通过 FavoriteWidgetParentClasses 扩展资源创建菜单</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">7.</span> <span class="toc-text">总结</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2017/03/20/2017-3-20-UE4-Incomplete-types-are-not-allowed/" rel="bookmark" title="UE4.15 不允许使用不完整的类型错误">UE4.15 不允许使用不完整的类型错误</a></li><li><a href="/2017/04/07/2017-4-7-UE4-Delegate-and-Event/" rel="bookmark" title="UE4中的委托与事件">UE4中的委托与事件</a></li><li><a href="/2017/04/26/2017-4-26-UMG-Runtime-Instantiate/" rel="bookmark" title="C++对UMG的控件实例化操作">C++对UMG的控件实例化操作</a></li><li><a href="/2017/05/17/2017-5-17-UE4-Water-Tap-Effect/" rel="bookmark" title="UE4水龙头流水效果">UE4水龙头流水效果</a></li><li><a href="/2023/09/18/%E8%99%9A%E5%B9%BB5%E5%9F%BA%E7%A1%80-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-C/" rel="bookmark" title="虚幻5基础学习笔记-详细(C++)">虚幻5基础学习笔记-详细(C++)</a></li><li><a href="/2023/10/06/%E8%99%9A%E5%B9%BB5%E5%8A%A8%E7%94%BB%E9%80%82%E9%85%8D-%E7%AC%94%E8%AE%B0/" rel="bookmark" title="虚幻5动画适配方式-笔记">虚幻5动画适配方式-笔记</a></li><li class="active"><a href="/2025/09/07/UE5%E7%BC%96%E8%BE%91%E5%99%A8%E5%BC%80%E5%8F%91-%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95/" rel="bookmark" title="UE5编辑器开发-资源创建菜单">UE5编辑器开发-资源创建菜单</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="WangJiaYing" data-src="/images/../img/avator"><p class="name" itemprop="name">CWHISME</p><div class="description" itemprop="description">己所不欲，勿施于人</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">131</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">24</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">35</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2N3aGlzbWU=" title="https:&#x2F;&#x2F;github.com&#x2F;cwhisme"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9jd2hpc21lLTMzL3Bvc3Rz" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;cwhisme-33&#x2F;posts"><i class="ic i-zhihu"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmN3aGlzbWVAMTI2LmNvbQ==" title="mailto:cwhisme@126.com"><i class="ic i-envelope"></i></span> <a href="/atom.xml" title="&#x2F;atom.xml" class="item feedback"><i class="ic i-heart"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/statistics/" rel="section"><i class="ic i-clock"></i>统计</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" title="分类于 阅读笔记">阅读笔记</a></div><span><a href="/2023/06/26/NET%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%AE%9D%E5%85%B8-2/" title="《.NET内存管理宝典》-笔记(2)">《.NET内存管理宝典》-笔记(2)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity3D/" title="分类于 Unity3D">Unity3D</a></div><span><a href="/2023/02/17/%E5%85%B3%E4%BA%8EAssetBundleManifest%E4%BD%BF%E7%94%A8/" title="关于AssetBundleManifest使用疑问">关于AssetBundleManifest使用疑问</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E5%85%B7/" title="分类于 工具">工具</a></div><span><a href="/2023/01/21/%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E6%89%B9%E9%87%8F%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/" title="开发一个批量图片处理工具">开发一个批量图片处理工具</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment count_3"></ul></div></div><div class="status"><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">WangJiaYing @ Jiaying's Note</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">772k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">11:42</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NXSElTTUUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2025/09/07/UE5编辑器开发-资源创建菜单/",favicon:{show:"（●´3｀●）",hide:"(´Д｀)"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,justifiedGallery:!0,jquery:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.staticfile.net/pace/1.2.4/pace.min.js"></script><script src="https://cdn.staticfile.net/pjax/0.2.8/pjax.min.js"></script><script src="https://cdn.staticfile.net/animejs/3.2.2/anime.min.js"></script><script src="https://cdn.staticfile.net/algoliasearch/4.17.0/algoliasearch-lite.umd.js"></script><script src="https://cdn.staticfile.net/instantsearch.js/4.54.1/instantsearch.production.min.js"></script><script src="https://cdn.staticfile.net/lozad.js/1.16.0/lozad.min.js"></script><script src="https://cdn.staticfile.net/quicklink/2.3.0/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/js/DateTimeAfeterCalc.js" async></script><script src="https://fastly.jsdelivr.net/gh/CWHISME/live2d_api_models@master/autoload.js" async></script></body></html>